{"version":3,"sources":["webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/plugin-catalog-react/dist/index.esm.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/plugin-catalog-import/dist/index.esm.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/integration-react/dist/index.esm.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/compile/validate/index.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/errors/dist/index.esm.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/plugin-search/dist/esm/index-37ed06b2.esm.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/compile/names.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/code.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/compile/validate/boolSchema.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/compile/validate/iterate.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/compile/validate/defaults.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/compile/validate/keyword.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/core.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/draft7.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/core/index.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/core/id.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/core/ref.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/validation/index.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/validation/limitNumber.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/validation/multipleOf.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/validation/limitLength.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/compile/ucs2length.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/validation/pattern.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/validation/limitProperties.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/validation/required.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/validation/limitItems.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/validation/uniqueItems.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/validation/const.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/validation/enum.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/applicator/index.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/applicator/additionalItems.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/applicator/items.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/applicator/contains.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/applicator/dependencies.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/applicator/propertyNames.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/applicator/properties.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/applicator/patternProperties.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/applicator/not.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/applicator/anyOf.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/applicator/oneOf.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/applicator/allOf.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/applicator/if.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/applicator/thenElse.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/format/index.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/format/format.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/metadata.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/integration/dist/index.esm.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/plugin-api-docs/dist/index.esm.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/plugin-techdocs/dist/index.esm.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/plugin-catalog/dist/index.esm.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/dist/index.esm.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/plugin-scaffolder/dist/esm/index-12330d7d.esm.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/config/dist/index.esm.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/core-api/dist/index.esm.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/core/dist/index.esm.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/core/dist/layout/ErrorPage/mic-drop.svg","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/core/dist/components/EmptyState/assets/missingAnnotation.svg","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/core/dist/components/EmptyState/assets/noInformation.svg","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/core/dist/components/EmptyState/assets/createComponent.svg","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/core/dist/components/EmptyState/assets/noBuild.svg","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/compile/subschema.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/plugin-org/dist/index.esm.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/plugin-github-actions/dist/index.esm.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/compile/validate/dataType.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/compile/codegen/index.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/theme/dist/index.esm.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/compile/context.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/compile/errors.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/compile/resolve.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/plugin-scaffolder/dist/index.esm.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/plugin-tech-radar/dist/index.esm.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/plugin-search/dist/index.esm.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/plugin-user-settings/dist/index.esm.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/plugin-catalog/dist/components/EntityNotFound/Illo/illo.svg","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-client/dist/index.esm.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/plugin-api-docs/dist/esm/index-70fbe4d9.esm.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/compile/util.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/compile/codegen/code.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/compile/error_classes.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/plugin-catalog/dist/esm/index-be99e54b.esm.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/ajv.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/compile/rules.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/compile/validate/applicability.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/compile/codegen/scope.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/compile/index.js","webpack:////home/raaz/Backstage-app/my-app/node_modules/@backstage/catalog-model/node_modules/ajv/dist/vocabularies/applicator/additionalProperties.js"],"names":["catalogApiRef","id","description","NoIcon","rootRoute","icon","path","title","catalogRouteRef","entityRoute","params","entityRouteRef","entityRouteParams","entity","_a","_b","kind","toLowerCase","namespace","metadata","name","useEntityCompoundName","EntityContext","loading","error","useEntityFromUrl","navigate","errorApi","catalogApi","value","getEntityByName","post","Error","useEntity","useRelatedEntities","type","entities","async","relations","filter","r","target","relationsByKindAndNamespace","Object","values","batchedRelationsByKindAndNamespace","rs","push","nameBatches","map","Promise","all","flatMap","names","getEntities","items","buildEntityKey","component","useStarredEntities","settingsStore","forBucket","rawStarredEntityKeys","get","starredEntities","setStarredEntities","Set","observedItems","observe$","_a2","newValue","currentValue","toggleStarredEntity","entityKey","has","delete","add","set","Array","from","isStarredEntity","formatEntityRefTitle","entityRef","opts","defaultKind","EntityRefLink","props","ref","children","linkProps","toLocaleLowerCase","routeParams","createElement","to","EntityRefLinks","entityRefs","Fragment","i","key","getEntityRelations","relationType","entityNames","e","isOwnerOf","owner","owned","possibleOwners","owners","ownerItem","find","o","createEntityRefColumn","formatContent","highlight","customFilterAndSearch","includes","customSort","entity1","entity2","localeCompare","render","createEntityRelationColumn","relation","entityFilter","getRelations","join","createOwnerColumn","createDomainColumn","createSystemColumn","createMetadataDescriptionColumn","field","text","placement","width","createSpecLifecycleColumn","createSpecTypeColumn","columnFactories","freeze","__proto__","systemEntityColumns","componentEntityColumns","useStyles","theme","empty","padding","spacing","display","justifyContent","EntityTable","emptyContent","variant","columns","classes","tableStyle","minWidth","height","style","className","options","search","paging","actionsColumnIndex","data","catalogImportApiRef","getGithubIntegrationConfig","scmIntegrationsApi","location","integration","github","byUrl","repo","githubIntegrationConfig","config","CatalogImportClient","this","discoveryApi","githubAuthApi","identityApi","url","match","addLocation","dryRun","locations","ghConfig","checkGitHubForExistingCatalogInfo","length","integrationType","generatedEntities","generateEntityDefinitions","repositoryUrl","fileContent","body","submitGitHubPrToRepo","idToken","getIdToken","response","fetch","getBaseUrl","headers","Authorization","method","JSON","stringify","catch","message","ok","status","statusText","json","generateEntities","x","token","getAccessToken","octo","auth","baseUrl","apiBaseUrl","query","searchResult","code","q","formatHttpErrorMessage","total_count","defaultBranch","repos","default_branch","replace","branchName","fileName","repoData","parentRef","git","getRef","createRef","sha","object","createOrUpdateFileContents","content","encode","branch","link","pulls","create","head","base","html_url","host","rootRouteRef","CatalogImportPage","apis","api","deps","factory","routes","importPage","provide","resolve","then","Router$1","m","Router","mountPoint","init","initialUrl","activeFlow","activeState","analysisUrl","previousStates","reducer","state","action","analyzeResult","args","prepareResult","concat","notRepeatable","reviewResult","slice","wrapper","marginTop","marginRight","position","buttonProgress","top","left","marginLeft","button","NextButton","buttonProps","color","disabled","size","BackButton","useStyles$1","nested","paddingLeft","EntityListComponent","collapsed","locationListItemIcon","onItemClick","firstListItem","withLinks","expandedUrls","setExpandedUrls","dense","Boolean","onClick","call","undefined","primary","secondary","edge","handleClick","urls","u","in","timeout","unmountOnExit","disablePadding","sort","a","b","getEntityIcon","StepFinishImportLocation","onReset","paragraph","pullRequest","rel","container","StepInitAnalyzeUrl","onAnalysis","disablePullRequest","catalogImportApi","register","handleSubmit","errors","watch","mode","defaultValues","submitted","setSubmitted","setError","handleResult","analysisResult","analyzeUrl","err","onSubmit","fullWidth","label","placeholder","helperText","margin","inputRef","required","validate","httpsValidator","AutocompleteTextField","control","rules","loadingText","errorHelperText","textFieldProps","onChange","onBlur","_","v","autoSelect","freeSolo","renderInput","InputProps","endAdornment","PreparePullRequestForm","PreviewCatalogInfoComponent","card","cardContent","trim","language","PreviewPullRequestComponent","subheader","useStyles$2","previewCard","previewCardContent","paddingTop","componentName","apiVersion","spec","StepPrepareCreatePullRequest","onPrepare","onGoBack","renderFormFields","defaultTitle","defaultBody","_c","_d","catalogInfoApi","groupsLoading","groups","pr","submitPullRequest","useCodeowners","marginBottom","StepPrepareSelectLocations","selectedUrls","setSelectedUrls","l","checked","indeterminate","tabIndex","disableRipple","StepReviewLocation","onReview","appTitle","getOptional","handleImport","result","presence","startsWith","defaultGenerateStepper","flow","defaults","prepare","stepLabel","optional","preparePullRequest","configApi","getOptionalString","appBaseUrl","getString","defaultPreparePullRequest","multiline","setValue","defaultStepper","analyze","disable","review","finish","useStyles$3","stepperRoot","ImportStepper","generateStepper","dispatch","activeStepNumber","indexOf","useImportState","states","step","root","activeStep","orientation","ImportComponentPage","integrations","getConfig","repositories","repositoryString","themeId","direction","item","xs","md","lg","xl","deepLink","element","ScmIntegrationsApi","fromConfig","scmIntegrationsApiRef","defineProperty","exports","checkStrictMode","schemaCxtHasRules","subschemaCode","validateFunctionCode","boolSchema_1","dataType_1","iterate_1","codegen_1","names_1","resolve_1","util_1","validateFunction","gen","validateName","schema","schemaEnv","es5","func","default","valCxt","$async","funcSourceUrl","if","var","dataPath","parentData","parentDataProperty","rootData","dynamicRef","dynamicAnchors","destructureValCxtES5","nil","destructureValCxt","$id","source","process","self","RULES","isSchemaObj","it","checkKeywords","checkUnknownRules","errSchemaPath","$ref","ignoreKeywordsWithRef","schemaHasRulesButRef","logger","warn","checkRefsAndKeywords","typeAndKeywords","errsCount","jtd","schemaKeywords","types","getSchemaTypes","checkedTypes","coerceAndCheckDataType","commentKeyword","msg","$comment","schemaPath","str","rootName","scopeValue","strict","useDefaults","checkNoDefault","let","vErrors","unevaluated","evaluated","const","assign","resetEvaluated","ValidationError","return","throw","Name","assignEvaluated","returnResults","topSchemaObjCode","topBoolOrEmptySchema","valid","baseId","resolveUrl","updateContext","checkAsync","subSchemaObjCode","boolOrEmptySchema","CustomErrorBase","cause","fullMessage","super","captureStackTrace","constructor","NotFoundError","ResponseError","parse","statusCode","parseErrorResponse","stack","deserializeError","searchApiRef","SearchClient","_e","lifecycle","queryString","alignItems","input","flex","SearchBar","searchQuery","handleSearch","handleClearSearchBar","inputProps","filters","FiltersButton","numberOfSelectedFilters","handleToggleFilters","background","boxShadow","checkbox","dropdown","Filters","filterOptions","resetFilters","updateSelected","updateChecked","selected","palette","borderRadius","tableHeader","divider","TableHeader","numberOfResults","SearchResult","searchApi","showFilters","toggleFilters","selectedFilters","setSelectedFilters","filteredResults","setFilteredResults","results","getSearchResult","withFilters","split","severity","toString","missing","reduce","acc","curr","prevState","pageSize","SearchPage","setQueryString","setSearchQuery","event","preventDefault","SearchPageNext","subtitle","alpha","rootNextRouteRef","searchPlugin","router","addRoute","nextRoot","SearchPage$1","SidebarSearch","searchRoute","addQueryPrefix","onSearch","scope","jsonPos","jsonLen","jsonPart","validateUnion","validateArray","usePattern","callValidateCode","schemaProperties","allSchemaProperties","noPropertyInData","propertyInData","isOwnProperty","hasPropFunc","reportMissingProp","checkMissingProp","checkReportMissingProp","subschema_1","prototype","hasOwnProperty","property","ownProperties","cond","getProperty","or","not","schemaMap","keys","p","cxt","prop","setParams","missingProperty","properties","and","alwaysValidSchema","schemaCode","topSchemaRef","errorPath","context","passSchema","dataAndSchema","strConcat","pattern","RegExp","keyword","allErrors","validArr","validateItems","break","notValid","len","forRange","subschema","dataProp","dataPropType","Type","Num","isArray","some","sch","schValid","block","forEach","_sch","schCxt","schemaProp","compositeRule","mergeValidEvaluated","reset","errors_1","boolError","falseSchemaError","overrideAllErrors","schemaValue","reportError","applicability_1","defaults_1","keyword_1","_1","iterateKeywords","group","assignDefaults","rule","shouldUseRule","keywordCode","definition","includesType","ts","t","strictTypesError","strictTypes","typeErrors","groupKeywords","shouldUseGroup","checkDataType","else","reportTypeError","endIf","meta","dataTypes","checkContextTypes","allowUnionTypes","checkMultipleTypes","hasApplicableType","kwdT","schTs","checkKeywordTypes","checkStrictTypes","assignDefault","defaultValue","childData","condition","ty","context_1","code_1","funcKeywordCode","def","parentSchema","$data","compile","validateRef","useKeyword","assignValid","_await","passCxt","passContext","modifying","reportErrs","block$data","modifyData","ruleErrs","try","validateAsync","validateErrs","validateSync","errs","extendErrors","addErrs","ruleType","macroSchema","macro","schemaRef","validateSchema","pass","macroKeywordCode","CodeGen","KeywordCxt","enumerable","error_classes_1","rules_1","compile_1","codegen_2","$dataRefSchema","META_IGNORE_OPTIONS","EXT_SCOPE_NAMES","removedOptions","errorDataPath","format","nullable","jsonPointers","extendRefs","missingRefs","processCode","sourceCode","schemaId","strictDefaults","strictKeywords","strictNumbers","uniqueItems","unknownFormats","cache","serialize","deprecatedOptions","jsPropertySyntax","unicode","requiredOptions","_f","_g","_h","_j","_k","_l","_m","strictLog","_optz","optimize","strictTuples","loopRequired","Infinity","loopEnum","messages","inlineRefs","addUsedSchema","validateFormats","Ajv","schemas","refs","formats","_compilations","_loading","_cache","Map","lines","ValueScope","prefixes","noLogs","console","log","getLogger","formatOpt","getRules","checkOptions","_metaOpts","getMetaSchemaOptions","addInitialFormats","_addVocabularies","_addDefaultMetaSchema","keywords","addInitialKeywords","addMetaSchema","addInitialSchemas","addKeyword","defaultMeta","schemaKeyRef","getSchema","_meta","_addSchema","_compileSchemaEnv","loadSchema","runCompileAsync","_schema","loadMetaSchema","$schema","_compileAsync","MissingRefError","checkLoaded","loadMissingSchema","missingSchema","missingRef","_loadSchema","addSchema","_validateSchema","normalizeId","_checkUnique","throwOrLogError","errorsText","keyRef","getSchEnv","SchemaEnv","resolveSchema","_removeAllSchemas","clear","cacheKey","definitions","kwdOrDef","checkKeyword","eachItem","kwd","addRule","keywordMetaschema","getJSONTypes","schemaType","k","findIndex","splice","separator","dataVar","metaSchema","keywordsJsonPointers","jsonPointer","segments","seg","schemaOrData","regex","test","localRefs","getSchemaRefs","_compileMetaSchema","compileSchema","currentOpts","checkOpts","opt","optsSchemas","addFormat","defs","addVocabulary","metaOpts","KEYWORD_NAME","dataType","ruleGroup","before","addBeforeRule","implements","_rule","$dataRef","anyOf","core_1","validation_1","applicator_1","format_1","metadata_1","draft7Vocabularies","metadataVocabulary","contentVocabulary","id_1","ref_1","core","callRef","getValidate","env","callRootRef","schOrEnv","resolveRef","callValidate","schName","mergeEvaluated","inlineRefSchema","addErrorsFrom","addEvaluatedFrom","schEvaluated","dynamicProps","dynamicItems","callAsyncRef","limitNumber_1","multipleOf_1","limitLength_1","pattern_1","limitProperties_1","required_1","limitItems_1","uniqueItems_1","const_1","enum_1","validation","ops","operators","KWDs","maximum","okStr","LTE","fail","GT","minimum","GTE","LT","exclusiveMaximum","exclusiveMinimum","fail$data","prec","multipleOfPrecision","res","invalid","ucs2length_1","comp","op","u2l","pos","charCodeAt","regExp","validate_1","useLoop","loopAllRequired","allErrorsMode","forOf","loopUntilMissing","exitOnErrorMode","strictRequired","definedProperties","requiredKey","equal","j","itemTypes","loopN","wrongType","checkDataTypes","DataType","Wrong","indices","for","loopN2","eql","outer","vSchema","_x","equalCode","additionalItems_1","items_1","contains_1","dependencies_1","propertyNames_1","additionalProperties_1","properties_1","patternProperties_1","not_1","anyOf_1","oneOf_1","allOf_1","if_1","thenElse_1","applicator","schArr","minItems","maxItems","additionalItems","fullTupleSchema","validateTuple","trackErrors","min","max","minContains","maxContains","next","count","checkLimits","_valid","validateSchemaDeps","validatePropertyDeps","depsCount","property_ies","propDeps","schDeps","propertyDeps","schemaDeps","splitDependencies","hasProperty","depProp","propertyName","forIn","removeAdditional","additionalProperties","allProps","toHash","hasDefault","applyPropertySchema","patterns","checkProperties","allowMatchingProperties","evaluatedPropsToName","checkMatchingProperties","pat","validateProperties","Str","validatePatternProperties","createErrors","passing","ifClause","hasThen","hasSchema","hasElse","validateIf","validateClause","fmts","fDef","fType","callFormat","validData","invalidFmt","validate$DataFormat","formatDef","unknownMsg","unknownFormat","fmtType","fmtRef","fmtDef","fmt","getFormat","validCondition","validateFormat","isValidHost","check","URL","isValidUrl","basicIntegrations","getHost","list","parsed","hostname","byHost","defaultScmResolveUrl","lineNumber","updated","filepath","repoRootPath","pathname","substring","hash","readAzureIntegrationConfig","_AzureIntegration","integrationConfig","organization","mockBaseUrl","updatedPath","newUrl","searchParams","String","AzureIntegration","configs","c","readAzureIntegrationConfigs","getOptionalConfigArray","readBitbucketIntegrationConfig","username","appPassword","_BitbucketIntegration","resolved","filename","urlData","editUrl","BitbucketIntegration","readBitbucketIntegrationConfigs","readGitHubIntegrationConfig","rawBaseUrl","apps","appId","getNumber","clientId","clientSecret","webhookSecret","privateKey","readGitHubIntegrationConfigs","_GitHubIntegration","replaceUrlType","GitHubIntegration","readGitLabIntegrationConfig","_GitLabIntegration","replaceUrlType$1","GitLabIntegration","readGitLabIntegrationConfigs","ScmIntegrations","azure","bitbucket","gitlab","integrationsByType","byType","resolveEditUrl","techdocsStorageApiRef","techdocsApiRef","TechDocsClient","entityId","requestUrl","getApiOrigin","request","TechDocsStorageClient","getStorageUrl","endsWith","errorMessage","attempts","oldBaseUrl","apiOrigin","rootDocsRouteRef","rootCatalogDocsRouteRef","techdocsPlugin","entityContent","TechdocsPage","EntityTechdocsContent","EmbeddedDocsRouter","addBaseUrl","lazy","DocsCardGrid$2","DocsCardGrid","DocsTable$2","DocsTable","TechDocsCustomHome$2","TechDocsCustomHome","TechDocsPage$1","TechDocsPage","techdocsStorageApi","dom","updateDom","attributeName","elem","getAttribute","elemAttribute","setAttribute","querySelectorAll","addGitFeedbackLink","sourceAnchor","querySelector","href","sourceURL","childNodes","textContent","issueTitle","encodeURIComponent","issueDesc","repoPath","feedbackLink","cloneNode","origin","insertAdjacentElement","addLinkClickListener","getElementsByTagName","addEventListener","onCssReady","docStorageUrl","onLoading","onLoaded","cssPages","cssPage","TECHDOCS_ALLOWED_TAGS","TECHDOCS_ALLOWED_ATTRIBUTES","injectCss","css","insertAdjacentHTML","transform","html","transformers","DOMParser","parseFromString","documentElement","Element","transformer","TechDocsNotFound","additionalInfo","statusMessage","TechDocsProgressBar","isMounted","hasBeenDelayed","setHasBeenDelayed","setTimeout","Reader","onReady","sidebars","setSidebars","shadowDomRef","loadedPath","setLoadedPath","atInitialLoad","setAtInitialLoad","newerDocsExist","setNewerDocsExist","isSynced","syncInProgress","syncError","getBuilder","syncEntityDocs","rawPage","docLoading","docLoadError","retry","getEntityDocs","useRawPage","updateSidebarPosition","current","sidebar","newTop","Math","getBoundingClientRect","window","removeEventListener","transformedElement","sanitizedHtml","innerHTML","allowedTags","allowedAttributes","allowedSchemes","hasAttribute","normalizedWindowLocation","remove","typography","fontFamily","main","paper","shadowDiv","shadowRoot","attachShadow","child","removeChild","appendChild","scroll","getElementById","scrollIntoView","parsedUrl","setProperty","removeProperty","removeAttribute","sideDivs","docTopPosition","errMessage","DocsTable$1","copyToClipboard","documents","docsUrl","row","subvalue","DocsCardGrid$1","index","panels","CustomPanel","panelContainer","panelCSS","Panel","panelType","shownEntities","filterPredicate","TechDocsCustomHome$1","tabsConfig","selectedTab","setSelectedTab","annotations","generatedSubtitle","currentTabConfig","selectedIndex","tabs","TechDocsHome","user","getUserId","useOwnUser","TechDocsPageHeader","metadataRequest","techdocs","techdocsMetadata","entityMetadata","techdocsMetadataValues","entityMetadataValues","site_name","siteName","site_description","siteDescription","locationMetadata","ownedByRelations","docsRootLink","labels","fill","pageTitleOverride","typeLink","documentReady","setDocumentReady","techdocsApi","techdocsMetadataRequest","getTechDocsMetadata","entityMetadataRequest","getEntityMetadata","EntityPageDocs","_props","annotation","ENTITY_DEFAULT_NAMESPACE","VIEW_URL_ANNOTATION","EDIT_URL_ANNOTATION","CommonValidatorFunctions","isValidPrefix","isValidSuffix","parts","isEqual","every","isValidDnsLabel","KubernetesValidatorFunctions","isValidPrefixAndOrSuffix","isValidDnsSubdomain","n","isValidObjectName","isValidApiVersion","isValidKind","isValidNamespace","isValidLabelKey","isValidLabelValue","isValidAnnotationKey","isValidAnnotationValue","entitySchema","examples","product_name","docs","minLength","entityMetaSchema","uid","etag","generation","tags","patternProperties","links","commonSchema","reference","parseRefString","exec","TypeError","getEntityName","parseEntityName","parseEntityRef","defaultNamespace","serializeEntityRef","stringifyEntityRef","ajvCompiledJsonSchemaValidator","extraSchemas","ajv","envelope","entries","val","system","allOf","subcomponentOf","providesApis","consumesApis","dependsOn","profile","displayName","email","picture","parent","members","targets","RELATION_OWNED_BY","RELATION_CONSUMES_API","RELATION_API_CONSUMED_BY","RELATION_PROVIDES_API","RELATION_API_PROVIDED_BY","RELATION_DEPENDS_ON","RELATION_PARENT_OF","RELATION_CHILD_OF","RELATION_MEMBER_OF","RELATION_PART_OF","RELATION_HAS_PART","domain","templater","component_id","parameters","steps","repoUrl","output","catalogInfoUrl","oneOf","memberOf","LOCATION_ANNOTATION","ORIGIN_LOCATION_ANNOTATION","SOURCE_LOCATION_ANNOTATION","parseLocationReference","splitIndex","substr","stringifyLocationReference","locationSpecSchema","noUnknown","scaffolderApiRef","ScaffolderClient","allowedHosts","templateName","s","fromResponse","taskId","after","subscriber","URLSearchParams","Number","eventSource","EventSource","withCredentials","ex","close","complete","registerComponentRouteRef","scaffolderPlugin","externalRoutes","registerComponent","ScaffolderPage","CONFIG_KEY_PART_PATTERN","isObject","typeOf","isNaN","typeName","expected","convert","fallback","prefix","previousReader","readValue","localKeys","fallbackKeys","fullKey","fallbackValue","into","getOptionalConfig","fallbackConfig","readConfigValue","obj","getOptionalNumber","number","isFinite","getOptionalBoolean","getOptionalStringArray","keyName","theValue","part","badKey","ApiAggregator","holders","apiRef","holder","globalObject","Function","makeKey","getGlobalSingleton","getOrCreateGlobalSingleton","supplier","createVersionedValueMap","versions","atVersion","version","ApiContext","ApiProvider","parentHolder","versionedValue","1","Provider","useApiHolder","versionedHolder","apiHolder","useApi","propTypes","shape","isRequired","node","ApiRegistryBuilder","impl","ApiRegistry","ApiResolver","factories","heap","allDeps","shift","dep","load","loadDeps","dependent","impls","ScopePriority","ScopePriority2","SessionState","SessionState2","ApiFactoryRegistry","priority","existing","tuple","ApiRefImpl","createApiRef","createApiFactory","instance","googleAuthApiRef","githubAuthApiRef","oktaAuthApiRef","gitlabAuthApiRef","auth0AuthApiRef","microsoftAuthApiRef","oauth2ApiRef","oidcAuthApiRef","samlAuthApiRef","oneloginAuthApiRef","alertApiRef","appThemeApiRef","configApiRef","discoveryApiRef","errorApiRef","FeatureFlagState","FeatureFlagState2","featureFlagsApiRef","identityApiRef","oauthRequestApiRef","storageApiRef","showLoginPopup","reject","screen","popup","open","targetOrigin","closed","messageListener","authResult","done","intervalId","setInterval","clearInterval","defaultJoinScopes","scopes","DefaultAuthConnector","environment","provider","joinScopes","oauthRequestApi","sessionTransform","authRequester","createAuthRequester","onAuthRequest","showPopup","joinScopesFunc","instantPopup","buildUrl","credentials","authInfo","popupUrl","payload","buildQueryString","DirectAuthConnector","hasScopes","searched","searchFor","SessionScopeHelper","session","sessionScopes","newScope","defaultScopes","isClosed","observable","terminatingError","subscribers","onNext","onError","onComplete","observer","subscribe","SessionStateTracker","subject","SignedOut","signedIn","isSignedIn","SignedIn","RefreshingAuthSessionManager","stateTracker","connector","sessionShouldRefresh","sessionScopesFunc","sessionShouldRefreshFunc","helper","sessionExistsAndHasScope","currentSession","refreshedSession","collapsedSessionRefresh","currentScopes","newSession","getSession","createSession","getExtendedScope","setIsSignedIn","removeSession","sessionState$","refreshPromise","refreshSession","StaticAuthSessionManager","AuthSessionStore","manager","storageKey","loadSession","setSession","saveSession","localStorage","removeItem","sessionJson","getItem","_key","__type","__value","setItem","DEFAULT_PROVIDER","GithubAuth","sessionManager","providerInfo","accessToken","normalizeScope","expiresAt","Date","now","expiresInSeconds","authSessionStore","backstageIdentity","scopeList","DEFAULT_PROVIDER$1","OAuth2","scopeTransform","normalizeScopes","getTime","normalizedScopes","DEFAULT_PROVIDER$2","DEFAULT_PROVIDER$3","SCOPE_PREFIX","DEFAULT_PROVIDER$4","OKTA_OIDC_SCOPES","DEFAULT_PROVIDER$5","SamlAuth","getBackstageIdentity","DEFAULT_PROVIDER$6","DEFAULT_PROVIDER$7","DEFAULT_PROVIDER$8","OIDC_SCOPES","AppThemeSelector","themes","selector","initialThemeId","setActiveThemeId","activeThemeId$","activeThemeId","UrlPatternDiscovery","urlStr","pluginId","ErrorAlerter","alertApi","hidden","error$","ErrorApiForwarder","validateFlagName","LocalStorageFeatureFlags","registeredFeatureFlags","flag","flags","Active","merge","enabled","fromEntries","jsonStr","OAuthPendingRequests","requests","getCurrentPending","hasScopes$1","moreScopess","moreScopes","reason","buckets","storage","getKeyName","bucketPath","notifyChanges","messageKey","subscription","AppContext","AppContextProvider","appContext","useApp","versionedContext","DATA_KEY","Symbol","store","WeakMap","attachComponentData","dataComponent","getComponentData","routeRefType","ExternalRouteRefImpl","createExternalRouteRef","FlatRoutes","app","NotFoundErrorPage","getComponents","createRoutesFromChildren","childrenNode","toArray","_a$1","RouteRefImpl","createRouteRef","isRouteRef","routeRef","isSubRouteRef","joinPaths","paths","normalized","resolveTargetRef","anyRouteRef","routePaths","routeBindings","targetRef","subRoutePath","resolvedRoute","resolvedPath","routeParents","routeObjects","sourceLocation","targetPath","basePath","refDiffList","matchIndex","targetSearchRef","route","routeRefs","unshift","resolveBasePath","RoutingContext","useRouteRef","resolver","routeFunc","isOptional","RoutingProvider","useRouteRefParams","_routeRef","createRoutableExtension","createReactExtension","InnerComponent","RoutableExtensionWrapper","BootErrorPage","createComponentExtension","Component","lazyLoader","sync","plugin","Result","defaultSystemIcons","brokenImage","catalog","chat","dashboard","help","warning","overridableSystemIcon","Icon","getSystemIcon","HelpIcon","PluginImpl","storedOutput","outputs","featureFlags","extension","expose","createPlugin","createCollector","accumulatorFactory","visit","accumulator","childDiscoverer","routeElementDiscoverer","pluginCollector","getMountPoint","routePathCollector","ctxPath","currentCtxPath","routeParentCollector","parentRouteRef","nextParent","sticky","MATCH_ALL_ROUTE","caseSensitive","routeObjectCollector","parentObj","parentChildren","newObject","AppIdentity","hasIdentity","userId","idTokenFunc","signOutFunc","reload","signOut","AppThemeProvider","appThemeApi","appTheme","shouldPreferDark","selectedTheme","darkTheme","lightTheme","resolveTheme","useObservable","getActiveThemeId","matchMedia","mediaQuery","setPrefersDark","matches","listener","addListener","removeListener","useShouldPreferDarkTheme","getInstalledThemes","ThemeProvider","CssBaseline","generateBoundRoutes","bindRoutes","bind","targetRoutes","externalRoute","AppContextImpl","getPlugins","getProvider","getRouter","getRoutes","PrivateAppImpl","icons","plugins","components","configLoader","defaultApis","getId","createWithStorage","collectors","queue","contexts","nextContexts","collector","discoverer","discoverers","traverseElementTree","collectedPlugins","notLeafRoutes","currentRouteRef","fullPath","validateRoutes","verifyPlugins","getApiHolder","loadedConfig","hasConfig","useAsync","noConfigNode","Progress","fromConfigs","useConfigLoader","hasConfigApi","featureFlagsApi","registerFlag","RouterComponent","SignInPage","SignInPageComponent","SignInPageWrapper","setResult","setSignInResult","onResult","registry","getApis","validateFactories","getAllApis","pluginIds","makeStyles","micDrop","maxWidth","bottom","right","breakpoints","down","MicDrop","src","alt","ignoreQueryPrefix","strictNullHandling","extractState","stateName","joinQueryString","queryParams","useQueryParamState","debounceTime","setSearchParams","searchParamsString","queryParamState","setQueryParamState","newState","oldState","useDebounce","DEFAULT_SUPPORT_CONFIG","useSupportConfig","supportConfig","getConfigArray","itemConf","linkConf","paddingBottom","fontSize","textSubtle","ErrorPage","support","Grid","sm","Typography","Link","isVisible","setIsVisible","handle","clearTimeout","LinearProgress","alert","currentRequests","handlerCount","handler","pending","scopeRequest","newRequests","makeAuthRequest","trigger","defaultConfigLoader","runtimeConfigJson","appConfig","toLocaleUpperCase","windowAppConfig","__APP_CONFIG__","OptionallyWrapInRouter","createApp","verify","AlertDisplay","setMessages","alert$","msgs","unsubscribe","firstMessage","Snackbar","anchorOrigin","vertical","horizontal","Alert","IconButton","stringToColor","createStyles","avatar","fontWeight","fontWeightBold","letterSpacing","textTransform","customStyles","Avatar","backgroundColor","forwardRef","Button","defaultProps","tooltipDelay","tooltipText","CopyTextButton","setOpen","Tooltip","leaveDelay","onClose","stopPropagation","select","document","execCommand","string","CodeSnippet","showLineNumbers","showCopyCodeButton","highlightedNumbers","customStyle","useTheme","highlightColor","wrapLines","lineNumberStyle","textVerySubtle","lineProps","Direction","Direction2","Alignment","Alignment2","Ranker","Ranker2","LabelPosition","LabelPosition2","stroke","border","textContrast","DefaultNode","setWidth","useState","setHeight","idRef","useRef","useLayoutEffect","renderedHeight","renderedWidth","getBBox","round","paddedWidth","paddedHeight","rx","y","textAnchor","alignmentBaseline","useStyles$4","transition","transitions","duration","shortest","renderDefault","Node","setNode","nodeProps","nodeRef","useStyles$5","DefaultLabel","useStyles$6","strokeWidth","renderDefault$1","createPath","line","d","curve","Edge","setEdge","points","labelProps","labelRef","finitePoints","point","markerEnd","DependencyGraph","edges","nodes","renderNode","TOP_BOTTOM","align","nodeMargin","edgeMargin","rankMargin","paddingX","paddingY","acyclicer","ranker","NETWORK_SIMPLEX","labelPosition","RIGHT","labelOffset","edgeRanks","edgeWeight","renderLabel","svgProps","containerWidth","setContainerWidth","containerHeight","setContainerHeight","graph","graphlib","Graph","graphWidth","setGraphWidth","graphHeight","setGraphHeight","graphNodes","setGraphNodes","graphEdges","setGraphEdges","maxHeight","containerRef","useMemo","workspace","zoom$1","scaleExtent","on","attr","newContainerWidth","newContainerHeight","setNodesAndEdges","useCallback","currentGraphNodes","currentGraphEdges","nodeId","removeNode","w","removeEdge","existingNode","labelpos","labeloffset","weight","minlen","updateGraph","layout","newHeight","newWidth","leading","useEffect","setGraph","rankdir","nodesep","edgesep","ranksep","marginx","marginy","cancel","viewBox","markerWidth","markerHeight","refX","refY","orient","markerUnits","flexFlow","topPosition","zIndex","banner","info","useStyles$8","generalImg","EmptyStateImage","useStyles$9","imageContainer","EmptyState","justify","COMPONENT_YAML","useStyles$a","MissingAnnotationEmptyState","useErrorOutlineStyles","warningText","ErrorOutlineStyled","ExpandMoreIconStyled","useStyles$b","panel","warningBackground","verticalAlign","summary","flexDirection","summaryText","details","WarningPanel","subTitle","charAt","Accordion","AccordionSummary","expandIcon","AccordionDetails","useStyles$c","whiteSpace","overflowX","ResponseErrorList","List","ListItem","ListItemText","Divider","ResponseErrorDetails","errorString","requestString","messageString","stackString","jsonString","ResponseErrorPanel","opacity","featureWrapper","backdrop","overflow","dot","transformOrigin","animation","pulseCircle","useIconStyles","justifyItems","gridGap","textAlign","cursor","IconLinkVertical","underline","useStyles$e","gridAutoFlow","gridAutoColumns","HeaderIconLinkRow","generateGradientStops","themeType","luminance","scrollbarWidth","fade","pointerEvents","fadeLeft","fadeRight","fadeHidden","buttonLeft","buttonRight","useStyles$g","fontStyle","beta","Lifecycle","shorthand","useStyles$h","markdown","borderCollapse","wordBreak","lineHeight","borderBottom","renderers","MarkdownContent","dialect","useItemStyles","LoginRequestListItem","busy","setBusy","IconComponent","ListItemAvatar","useStyles$i","dialog","contentList","OAuthRequestDialog","authRequest$","Dialog","DialogTitle","DialogContent","DialogActions","useStyles$j","OverflowTooltip","hover","setHover","disableHoverListener","onToggled","truncated","containerClassName","Error$1","slackChannel","role","ErrorBoundary","errorInfo","setState","useStyles$k","boxTitle","arrow","BottomLink","Box","ListItemIcon","useStyles$l","noPadding","header","headerTitle","headerSubheader","headerAvatar","headerAction","headerContent","CardActionsTopRight","withStyles","float","CardActions","VARIANT_STYLES","fullHeight","gridItem","InfoCard","headerStyle","headerProps","actionsClassName","actions","cardClassName","actionsTopRight","titleTypographyProps","calculatedStyle","calculatedCardStyle","Card","CardHeader","CardContent","overlay","circle","colorUnknown","useStyles$o","ClosedDropdown","SvgIcon","xmlns","useStyles$p","OpenedDropdown","BootstrapInput","InputBase","useStyles$q","formControl","chips","flexWrap","chip","SelectComponent","multiple","triggerReset","isOpen","handleDelete","selectedValue","ClickAwayListener","onClickAway","FormControl","Select","displayEmpty","previous","HTMLElement","renderValue","Chip","el","clickable","onDelete","MenuProps","getContentAnchorEl","MenuItem","Checkbox","noop","useStyles$t","createContext","stepperLength","stepIndex","setStepIndex","stepHistory","setStepHistory","onStepChange","end","running","aborted","StatusOK","StatusWarning","StatusError","StatusPending","StatusRunning","StatusAborted","TitleCell","paddingRight","TableCell","ContentCell","MetadataTable","Table","TableBody","MetadataTableItem","rest","TableRow","colSpan","MetadataList","listStyle","MetadataListItem","random","listStyleType","StyledList","StyledNestedList","toValue","isValidElement","renderList","fmtKey","titleFormat","renderMap","ItemValue","TableItem","StructuredMetadataTable","metadataItems","mapToItems","useStyles$u","leftIcon","popoverList","SupportIcon","SupportLink","SupportListItem","prev","idx","SupportButton","popoverOpen","setPopoverOpen","anchorEl","setAnchorEl","popoverCloseHandler","currentTarget","Popover","Children","useStyles$v","gridArea","mixins","gutters","stretch","flexGrow","Content","DefaultTitle","ContentHeader","titleComponent","TitleComponent","leftItemsBox","rightItemsBox","renderedTitle","Helmet","ClickableText","textDecoration","StyledBox","childrenArray","firstPage","secondPage","expandablePages","currentPage","pop","hasHiddenBreadcrumbs","Breadcrumbs","clone","pageLink","useStyles$x","minHeight","backgroundImage","page","backgroundPosition","backgroundSize","bursts","fontColor","breadcrumb","breadcrumbType","breadcrumbTitle","TypeFragment","pageTitle","TitleFragment","tooltip","FinalTitle","SubtitleFragment","Header","documentTitle","titleTemplate","useStyles$y","HeaderLabelContent","HeaderLabel","useStyles$z","tabsWrapper","defaultTab","caption","HeaderTabs","styles","Tabs","indicatorColor","textColor","scrollButtons","tab","Tab","tabProps","useStyles$A","common","white","ItemCardHeader","useStyles$B","gridTemplateColumns","gridAutoRows","ItemCardGrid","otherProps","useStyles$C","gridTemplateAreas","gridTemplateRows","Page","baseTheme","getPageTheme","sidebarConfig","drawerWidthClosed","drawerWidthOpen","defaultOpenDelayMs","defaultCloseDelayMs","defaultFadeDuration","logoHeight","iconContainerWidth","iconSize","iconPadding","selectedIndicatorWidth","userBadgePadding","userBadgeDiameter","SidebarContext","LocalStorageKeys","LocalStorage","SIDEBAR_PIN_STATE","setSidebarPinState","useStyles$D","isPinned","SidebarPinStateContext","toggleSidebarPinState","SidebarPage","setIsPinned","getSidebarPinState","useStyles$E","drawer","navigation","msOverflowStyle","easing","sharp","flexShrink","drawerOpen","shorter","drawerPeek","State","State2","Sidebar","openDelayMs","closeDelayMs","hoverTimerRef","handleOpen","handleClose","onMouseEnter","onFocus","onMouseLeave","useStyles$F","buttonItem","font","iconContainer","boxSizing","searchRoot","searchField","searchContainer","secondaryAction","borderLeft","indicator","selectedColor","isButtonItem","SidebarItem","hasNotifications","navLinkProps","itemIcon","Badge","overlap","invisible","closedContent","openContent","childProps","activeClassName","SidebarSearchField","setInput","ev","TextField","onKeyDown","disableUnderline","SidebarSpace","styled","SidebarDivider","useStyles$H","introCard","introDismiss","introDismissLink","linkHover","introDismissText","introDismissIcon","GridItem","commonProvider","authApi","identity","getProfile","guestProvider","loader","ID_TOKEN_REGEX","useFormStyles","form","alignSelf","guest","custom","formState","FormHelperText","autoComplete","isDirty","validateIDs","providers","MultiSignInPage","signInProviders","providerElements","setLoading","handleWrappedResult","selectedProviderId","didCancel","elements","useSignInProviders","SingleSignInPage","auto","setRetry","login","useTabsStyles","BoldHeader","TabbedCard","tabsClasses","selectIndex","handleChange","_ev","newSelectedIndex","selectedTabContent","useCardTabStyles","CardTab","RoutedTabs","subRoutes","matchedRoute","foundIndex","useSelectedSubRoute","headerTabs","Route","TabbedLayout","createSubRoutesFromChildren","childrenProps","routeType","useSubvalueCellStyles","SubvalueCell","useStyles$I","listItemIcon","listItem","category","subCategoryLabel","option","optionLabel","isChecked","selection","selectedChildren","indexer","arr","CheckboxTree","subCategories","previousSubCategories","usePrevious","Collapse","useSubvalueCellStyles$1","grey","onChangeFilters","checkboxFilter","flat","tableIcons","Add","Check","Clear","Delete","DetailPanel","Edit","Export","Filter","FirstPage","LastPage","NextPage","PreviousPage","ResetSearch","Search","SortArrow","ThirdStateCheck","ViewColumn","extractValueByField","StyledMTableHeader","borderTop","A100","StyledMTableToolbar","useFilterStyles","useTableStyles","defaultInitialState","filtersOpen","TableToolbar","toolbarProps","toolbarRef","setSearch","hasFilters","selectedFiltersLength","filtersClasses","onSearchChanged","searchText","initialState","onStateChange","tableClasses","propsWithoutData","calculatedInitialState","setFiltersOpen","setSelectedFiltersLength","tableData","setTableData","MTColumns","column","cellStyle","convertColumns","onSearchChange","defaultState","removeDefaultValues","getFieldByTitle","titleValue","selectedFiltersArray","newData","filterValue","fieldValue","Toolbar","hasNoRows","columnCount","Body","bodyProps","filterConfig","dataValue","extractDistinctValues","distinctValues","addValue","constructCheckboxTree","constructSelect","constructFilters","isNext","pxToRem","tabMarginLeft","isFirstNav","isFirstIndex","outline","tabbar","flexContainer","styledTabs","appbar","applySubschema","appl","escapeFragment","getSubschema","dpType","dataPathArr","dataContextProps","isNumber","escapeJsonPointer","getErrorPath","_nextData","dataLevel","dataNames","extendSubschemaData","jtdDiscriminator","jtdMetadata","extendSubschemaMode","nextContext","orgPlugin","EntityGroupProfileCard","GroupProfileCard","EntityMembersListCard","MembersListCard","EntityOwnershipCard","OwnershipCard","EntityUserProfileCard","UserProfileCard","shadows","MemberComponent","member","metaName","pt","groupEntity","groupName","grpNamespace","groupNamespace","setPage","nbPages","ceil","paginationLabel","pagination","pageIndex","showFirstButton","showLastButton","CardTitle","ml","childRelations","parentRelations","emailHref","CardTitle$1","memberOfRelations","createPageTheme","shapeKey","colorsKey","colors","standard","bold","service","website","library","documentation","tool","countEntitiesBy","EntityCountTile","counter","componentsWithCounters","ownedEntitiesList","fields","githubActionsApiRef","GithubActionsClient","runId","getOctokit","reRunWorkflow","run_id","octokit","listWorkflowRunsForRepo","per_page","getWorkflow","workflow_id","getWorkflowRun","downloadJobLogsForWorkflowRun","job_id","BuildStatus","BuildStatus2","buildRouteRef","githubActionsPlugin","EntityGithubActionsContent","useProjectName","LatestWorkflowRunCard","LatestWorkflowsForBranchCard","RecentWorkflowRunsCard","WorkflowRunStatus","conclusion","LazyLog","LinePart","order","modal","normalLog","modalLog","DisplayLog","jobLogs","extraLines","caseInsensitive","enableSearch","formatPart","WorkflowRunLogs","inProgress","projectName","parseInt","useDownloadWorkflowRunLogs","TransitionProps","IconButtonProps","TransitionComponent","table","accordionDetails","externalLinkIcon","getElapsedTime","start","diff","StepView","started_at","completed_at","JobListItem","job","JobsList","jobs","failed","success","WorkflowRunDetails","_i","_n","_o","_p","_q","useWorkflowRunsDetails","jobsUrl","jobs_url","mb","noWrap","head_branch","head_commit","author","useWorkflowRuns","initialPageSize","total","setTotal","setPageSize","runs","workflowRunsData","listWorkflowRuns","workflow_runs","run","workflowName","onReRunClick","commit","head_repository","branches_url","githubUrl","generatedColumns","WorkflowRunsTableView","onChangePage","onChangePageSize","isLoading","totalCount","isFreeAction","onChangeRowsPerPage","mr","WorkflowRunsTable","tableProps","githubHost","isGithubActionsAvailable","WidgetContent","lastRun","limit","toolbar","isJSONType","coerceTo","coerceTypes","COERCIBLE","coerceToTypes","checkTypes","schemaHasRulesForType","coerced","coerceSpecificType","elseIf","expr","assignParentData","coerceData","strictNums","correct","Correct","EQ","NEQ","numCond","_cond","array","notObj","null","integer","typeError","schemaRefOrVal","getTypeErrorContext","varKinds","ValueScopeName","Scope","scope_1","code_2","scope_2","_Code","NOT","OR","AND","ADD","_names","_constants","Def","varKind","rhs","constants","optimizeExpr","_CodeOrName","Assign","lhs","sideEffects","addExprNames","AssignOp","Label","Break","Throw","AnyCode","ParentNode","optimizeNodes","optimizeNames","subtractNames","addNames","BlockNode","Root","Else","If","ns","For","ForLoop","iteration","ForRange","ForIter","loop","iterable","Func","Return","Try","finally","Catch","Finally","replaceName","_items","par","extScope","_values","_blockStarts","_extScope","_scope","_nodes","_root","prefixOrName","keyOrRef","getValue","scopeName","scopeRefs","scopeCode","nameOrPrefix","constant","toName","_leafNode","_constant","_def","keyValues","addCodeArg","thenBody","elseBody","_blockNode","_elseNode","_endBlockNode","forBody","endFor","_for","tryBody","catchCode","finallyCode","_currNode","nodeCount","endBlock","toClose","funcBody","endFunc","N1","N2","andCode","mappend","orCode","shapes","wave","wave2","colorVariants","genPageTheme","pageTheme","home","other","DEFAULT_FONT_FAMILY","createTheme","themeOptions","defaultPageTheme","pageTheme$1","MuiGrid","MuiSwitch","h5","h4","h3","h2","h1","createThemeOptions","overrides","MuiCssBaseline","MuiTableRow","MuiTableCell","sizeSmall","MuiTabs","MuiTab","up","textColorPrimary","MuiTableSortLabel","active","MuiListItemText","textOverflow","MuiButton","MuiChip","outlined","fontWeightMedium","labelSmall","deleteIcon","deleteIconSmall","MuiCard","MuiCardHeader","MuiCardContent","MuiCardActions","createThemeOverrides","slackChannelText","errorBackground","infoBackground","errorText","infoText","gold","A700","pinSidebarButton","dark","getData","dependencies","validateKeywordUsage","allowUndefined","st","validSchemaType","successAction","failAction","invalid$data","append","reportExtraError","$dataError","keyword$DataError","resetErrorsCount","codeBlock","$dataValid","check$data","wrong$DataType","validateSchemaRef","invalid$DataSchema","schemaCxt","JSON_POINTER","RELATIVE_JSON_POINTER","errorMsg","segment","unescapeJsonPointer","pointerType","keywordError","addError","errObj","returnErrors","errorObjectCode","verbose","E","instancePath","ajvErrors","jtdErrorObject","ajvErrorObject","_getFullPath","getFullPath","inlineRef","traverse","URI","SIMPLE_INLINED","hasRef","countKeys","REF_KEYWORDS","normalize","TRAILING_SLASH_HASH","ANCHOR","baseIds","pathPrefix","schemaRefs","allKeys","jsonPtr","parentJsonPtr","addRef","ambiguos","schOrRef","checkAmbiguosRef","addAnchor","anchor","$anchor","$dynamicAnchor","sch1","sch2","techRadarPlugin","TechRadarPage","RadarPage$1","RadarPage","ring","axis","userSelect","RadarGrid","radius","rings","axisNodes","x1","y1","x2","y2","ringNodes","outerRadius","ringRadius","ringIndex","cx","cy","makeRingNode","WithLink","RadarDescription","dividers","startIcon","RadarEntry","moved","blip","makeBlip","onKeyPress","bubble","visibleBubble","RadarBubble","visible","textElem","svgElem","rectElem","pathElem","bbox","marginX","marginY","updatePosition","ry","RadarFooter","quadrant","quadrantHeading","breakInside","pageBreakInside","ringHeading","ringList","listStylePosition","fontVariantNumeric","entry","entryLink","RadarLegend","getSegment","segmented","ringOffset","quadrantIndex","segmentedData","RadarLegendLink","handleClickOpen","toggle","RadarLegendRing","entries2","onEntryMouseEnter","onEntryMouseEnter2","onEntryMouseLeave","onEntryMouseLeave2","RadarLegendQuadrant","segments2","rings2","legendX","legendY","legendWidth","legendHeight","quadrants","quadrantData","ringData","setupSegments","RadarPlot","activeEntry","Segment","nextSeed","polarMin","radialMin","innerRadius","polarMax","radialMax","cartesianMin","offsetX","offsetY","cartesianMax","boundedRing","polar","boundedBox","cartesian","_randomBetween","_normalBetween","sin","floor","_random","atan2","sqrt","cos","boundedInterval","low","high","polarValue","rMin","rMax","Radar","setActiveEntry","xStops","yStops","legendParams","legendParam","PI","adjustQuadrants","adjustRings","seed","desaturate","lighten","simulation","velocityDecay","force","strength","stop","alphaMin","alphaDecay","tick","clipx","clipy","adjustEntries","timeline","ringId","date","RadarComponent","useTechRadarLoader","loaderResponse","overflowXScroll","settingsRouteRef","UserSettingsPage","settingsPage","SettingsPage$1","SettingsPage","Settings","EmptyProviders","ProviderSettingsItem","setSignedIn","sessionState","secondaryTypographyProps","signIn","DefaultProviderSettings","configuredProviders","AuthProviders","providerSettings","providersConfig","EmptyFlags","FlagItem","toggleHandler","FeatureFlags","getRegisteredFlags","initialFlagState","isActive","toggleFlag","flagName","None","save","featureFlag","PinButton","useUserProfile","SignInAvatar","UserSettingsMenu","Profile","gutterBottom","ThemeIcon","activeId","listItemText","listItemSecondaryAction","TooltipToggleButton","ThemeToggle","themeIds","exclusive","_event","newThemeId","themeIcon","General","CatalogClient","requestOptional","filterItems","filterItem","filterParts","requestRequired","compoundName","locationCompound","requestIgnored","apiDocsConfigRef","PlainApiDefinitionWidget","ApiDefinitionCard","getApiDefinitionWidget","definitionWidget","rawLanguage","h6","short","hoverOpacity","getContrastText","hint","AsyncApiDefinitionWidget","GraphiQL","graphiQlWrapper","GraphQlDefinitionWidget","fetcher","docExplorerOpen","defaultSecondaryEditorOpen","OpenApiDefinitionWidget","setDef","timer","defaultDefinitionWidgets","ApiTypeTitle","apiEntity","createSpecApiTypeColumn","apiEntityColumns","ConsumedApisCard","HasApisCard","ProvidedApisCard","ConsumingComponentsCard","ProvidingComponentsCard","createComponentRouteRef","columns$1","partOfSystemRelations","ApiExplorerTable","rows","ownedByRelationsTitle","partOfSystemRelationTitle","loadingType","showEmptyDataSourceMessage","ApiExplorerLayout","ApiExplorerPage","createComponentLink","catalogResponse","apiDocsPlugin","definitionWidgets","createComponent","ApiExplorerPage$1","EntityApiDefinitionCard","EntityConsumedApisCard","EntityConsumingComponentsCard","EntityProvidedApisCard","EntityProvidingComponentsCard","EntityHasApisCard","setEvaluated","unescapeFragment","schemaHasRules","makeMergeEvaluated","mergeNames","mergeToName","mergeValues","resultToName","ps","decodeURIComponent","f","safeStringify","IDENTIFIER","_str","strs","plus","mergeExprItems","arg","c1","c2","emptyStr","module","getEntityMetadataEditUrl","AboutField","gridSizes","AboutContent","isSystem","isDomain","isResource","isComponent","partOfComponentRelations","partOfDomainRelations","ScmIntegrationIcon","gridItemCard","gridItemCardContent","AboutCard","entitySourceLocation","sourceLocationRef","locationTargetUrl","getEntitySourceLocation","entityMetadataEditUrl","providesApiRelations","consumesApiRelations","hasApis","viewInSource","viewInTechDocs","viewApi","EntityContextMenu","UNSTABLE_extraContextMenuItems","onUnregisterEntity","extraItems","YellowStar","favouriteEntityTooltip","isStarred","favouriteEntityIcon","FavouriteEntity","advancedButton","Contents","onConfirm","locationRef","isBootstrap","prerequisites","locationPromise","getOriginLocationByEntity","colocatedEntitiesPromise","locationAnnotationFilter","location2","colocatedEntities2","colocatedEntities","unregisterLocation","removeLocationById","allSettled","removeEntityByUid","deleteEntity","useUnregisterEntityDialogState","showDelete","setShowDelete","onUnregister","UnregisterEntityDialog","EntityLayoutTitle","EntityLabels","EntityLayout","headerType","paramKind","paramNamespace","paramName","confirmationDialogOpen","setConfirmationDialogOpen","Tabbed","Layout","pathAndId","defaultIndex","getSelectedIndexOrDefault","currentTab","currentRouteElement","EntityPageTitle","EntityLabels$1","EntityPageLayout","headerProps$1","createNameColumn","createTagsColumn","defaultColumns","CatalogTable","titlePreamble","view","getEntityMetadataViewUrl","typeColumn","pageSizeOptions","EntitySwitchCase","EntitySwitch","matchingCase","createSwitchCasesFromChildren","switchCase","strCmp","isKind","isComponentType","Case","filterGroupsContext","EntityFilterGroupsProvider","doReload","filterGroups","selectedFilterKeys","selectedTags","filterGroupStates","setFilterGroupStates","matchingEntities","setMatchingEntities","availableTags","setAvailableTags","isCatalogEmpty","setCatalogEmpty","rebuild","filterGroupId","filterGroup","otherMatchingEntities","buildMatchingEntities","groupState","filterId","filterFn","isSelected","matchCount","buildStates","collectTags","initialSelectedFilterIds","unregister","setGroupSelectedFilters","setSelectedTags","useProvideEntityFilters","excludeFilterGroupId","allFilters","groupFilters","fn","useEntityFilterGroup","initialSelectedFilters","initialMemo","listIcon","menuItem","groupWrapper","menuTitle","CatalogFilter","buttonGroups","initiallySelected","currentFilter","setCurrentFilter","getFilterCount","g","setCurrent","useFilter","onChangeRef","filterBox","filterBoxTitle","ResultsFilter","setSelectedTagsFilter","updateSelectedTags","labelId","CatalogLayout","orgName","CatalogTabs","wellKnownTypes","isOtherType","currentTabIndex","setCurrentTabIndex","switchTab","useStyles$7","contentWrapper","gridColumnGap","buttonSpacing","CatalogPageContents","useFilteredEntities","selectedSidebarItem","setSelectedSidebarItem","initiallySelectedFilter","addMockData","promises","getStringArray","showAddExampleEntities","CatalogPage","EntityLoaderProvider","illo","CatalogClientWrapper","client","getLocationById","getLocationByEntity","catalogPlugin","catalogIndex","catalogEntity","CatalogIndexPage","CatalogEntityPage","EntityAboutCard","EntityHasSystemsCard","EntityLinksCard","HasSystemsCard","EntityHasComponentsCard","HasComponentsCard","EntitySystemDiagramCard","HasSubcomponentsCard","SystemDiagramCard","draft7_1","draft7MetaSchema","META_SUPPORT_DATA","META_SCHEMA_ID","$dataMetaSchema","jsonTypes","boolean","UsedValueState","ValueError","_prefixes","_parent","_newName","_nameGroup","nameStr","itemIndex","scopePath","valueKey","vs","_name","_reduceValues","usedValues","getCode","valueCode","nameSet","Started","Completed","getCompilingSchema","rootId","_ValidationError","validateCode","makeValidate","scopeValues","inlineOrCompile","schEnv","s2","s1","refPath","getJsonPointer","schOrFunc","PREVENT_SCOPE_CHANGE","parsedRef","fragment","additionalProperty","patProps","deleteAdditional","additionalPropertyCode","applyAdditionalSchema","definedProp","propsSchema","isAdditional"],"mappings":"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ACA,WACA,aACA,SACA,OACA,SACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,SACA,SACA,KACA,OACA,IACA,MACA,QACA,MACA,MACA,QACA,SACA,KACA,OACA,OACA,MACA,OACA,UACA,OACA,WACA,QACA,MACA,OACA,KACA,WACA,SACA,SACA,IACA,UACA,MACA,WACA,IACA,KACA,KACA,OACA,IACA,OACA,UACA,SACA,SACA,QACA,SACA,SACA,OACA,SACA,SACA,MACA,UACA,MACA,QACA,QACA,KACA,WACA,WACA,QACA,KACA,QACA,OACA,KACA,QACA,KACA,IACA,KACA,MACA,QACA,MAGA,MACA,IACA,WACA,cACA,eACA,eACA,gBACA,mBACA,QACA,SACA,SACA,WACA,OACA,OACA,UACA,SACA,OACA,IACA,QACA,WACA,QACA,QACA,OACA,iBACA,SACA,OACA,WACA,QACA,SACA,OACA,UACA,UACA,WACA,iBACA,OACA,OACA,SACA,SACA,OACA,WACA,QACA,OACA,QACA,QACA,OACA,QAGA,UACA,gBACA,sBACA,cACA,mBACA,oBACA,oBACA,iBACA,UACA,UACA,UACA,UACA,UACA,iBACA,UACA,cACA,eACA,WACA,eACA,qBACA,cACA,SACA,eAGA,OACA,WACA,SACA,UACA,QACA,SACA,KACA,aACA,gBACA,KACA,KACA,QACA,UACA,WACA,QACA,OACA,KACA,SACA,QACA,SACA,OACA,OACA,UACA,SACA,MACA,QACA,MACA,SACA,aAEY,QAOZ,UAoWIC,EAA8B,CAClC,IAAK,CAjWL,SACA,SACA,QACA,MACA,iBACA,eACA,uBACA,WACA,aACA,UACA,SACA,UACA,cACA,cACA,UACA,OACA,QACA,QACA,QACA,OACA,UACA,WACA,eACA,SACA,cACA,WACA,WACA,UACA,MACA,WACA,0BACA,wBACA,WACA,YACA,UACA,eACA,OACA,MACA,UACA,SACA,SACA,OACA,OACA,WACA,KACA,YACA,YACA,QACA,OACA,QACA,OACA,OACA,UACA,OACA,MACA,MACA,YACA,QACA,SACA,MACA,YACA,WACA,QACA,OACA,UACA,aACA,SACA,OACA,UACA,UACA,cACA,cACA,SACA,UACA,UACA,aACA,WACA,MACA,WACA,MACA,WACA,OACA,OACA,UACA,aACA,QACA,WACA,QACA,OACA,QACA,OACA,UACA,QACA,MACA,SACA,OACA,QACA,UACA,WACA,QACA,YACA,OACA,SACA,SACA,QACA,QACA,QAGA,gBACA,aACA,WACA,qBACA,SACA,gBACA,gBACA,UACA,gBACA,iBACA,QACA,OACA,KACA,QACA,OACA,YACA,YACA,QACA,sBACA,8BACA,gBACA,kBACA,KACA,KACA,IACA,KACA,KACA,OACA,kBACA,YACA,UACA,UACA,MACA,WACA,YACA,MACA,OACA,eACA,YACA,SACA,cACA,cACA,gBACA,cACA,YACA,mBACA,eACA,aACA,eACA,cACA,KACA,KACA,KACA,KACA,aACA,WACA,gBACA,oBACA,SACA,OACA,KACA,kBACA,KACA,MACA,IACA,KACA,KACA,KACA,KACA,UACA,YACA,aACA,WACA,OACA,eACA,iBACA,eACA,mBACA,iBACA,QACA,aACA,aACA,eACA,eACA,cACA,cACA,mBACA,YACA,MACA,OACA,QACA,SACA,OACA,MACA,OACA,aACA,SACA,WACA,UACA,QACA,SACA,cACA,SACA,WACA,cACA,OACA,aACA,sBACA,mBACA,eACA,SACA,gBACA,sBACA,iBACA,IACA,KACA,KACA,SACA,OACA,OACA,cACA,YACA,UACA,SACA,SACA,QACA,OACA,kBACA,mBACA,mBACA,eACA,cACA,eACA,cACA,aACA,eACA,mBACA,oBACA,iBACA,kBACA,oBACA,iBACA,SACA,eACA,QACA,eACA,WACA,UACA,UACA,YACA,cACA,kBACA,iBACA,aACA,OACA,KACA,KACA,UACA,SACA,UACA,aACA,UACA,aACA,gBACA,gBACA,QACA,eACA,OACA,eACA,mBACA,mBACA,IACA,KACA,KACA,QACA,IACA,KACA,KACA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","file":"static/module-backstage.21d1e1a7.js","sourcesContent":["import { createApiRef, createRouteRef, useRouteRefParams, useApi, errorApiRef, storageApiRef, Link, OverflowTooltip, Table } from '@backstage/core';\nimport React, { createContext, useEffect, useContext, useState, useCallback, forwardRef } from 'react';\nimport { useNavigate, generatePath } from 'react-router';\nimport { useAsync, useObservable } from 'react-use';\nimport { ENTITY_DEFAULT_NAMESPACE, serializeEntityRef, RELATION_MEMBER_OF, getEntityName, RELATION_OWNED_BY, RELATION_PART_OF } from '@backstage/catalog-model';\nimport { groupBy, chunk } from 'lodash';\nimport { makeStyles } from '@material-ui/core';\n\nconst catalogApiRef = createApiRef({\n  id: \"plugin.catalog.service\",\n  description: \"Used by the Catalog plugin to make requests to accompanying backend\"\n});\n\nconst NoIcon = () => null;\nconst rootRoute = createRouteRef({\n  icon: NoIcon,\n  path: \"\",\n  title: \"Catalog\"\n});\nconst catalogRouteRef = rootRoute;\nconst entityRoute = createRouteRef({\n  icon: NoIcon,\n  path: \":namespace/:kind/:name/*\",\n  title: \"Entity\",\n  params: [\"namespace\", \"kind\", \"name\"]\n});\nconst entityRouteRef = entityRoute;\nfunction entityRouteParams(entity) {\n  var _a, _b;\n  return {\n    kind: entity.kind.toLowerCase(),\n    namespace: (_b = (_a = entity.metadata.namespace) == null ? void 0 : _a.toLowerCase()) != null ? _b : ENTITY_DEFAULT_NAMESPACE,\n    name: entity.metadata.name\n  };\n}\n\nconst useEntityCompoundName = () => {\n  const {kind, namespace, name} = useRouteRefParams(entityRouteRef);\n  return {kind, namespace, name};\n};\n\nconst EntityContext = createContext({\n  entity: void 0,\n  loading: true,\n  error: void 0\n});\nconst useEntityFromUrl = () => {\n  const {kind, namespace, name} = useEntityCompoundName();\n  const navigate = useNavigate();\n  const errorApi = useApi(errorApiRef);\n  const catalogApi = useApi(catalogApiRef);\n  const {value: entity, error, loading} = useAsync(() => catalogApi.getEntityByName({kind, namespace, name}), [catalogApi, kind, namespace, name]);\n  useEffect(() => {\n    if (!name) {\n      errorApi.post(new Error(\"No name provided!\"));\n      navigate(\"/\");\n    }\n  }, [errorApi, navigate, error, loading, entity, name]);\n  return {entity, loading, error};\n};\nfunction useEntity() {\n  const {entity, loading, error} = useContext(EntityContext);\n  return {entity, loading, error};\n}\n\nconst BATCH_SIZE = 20;\nfunction useRelatedEntities(entity, {type, kind}) {\n  const catalogApi = useApi(catalogApiRef);\n  const {loading, value: entities, error} = useAsync(async () => {\n    const relations = entity.relations && entity.relations.filter((r) => (!type || r.type.toLowerCase() === type.toLowerCase()) && (!kind || r.target.kind.toLowerCase() === kind.toLowerCase()));\n    if (!relations) {\n      return [];\n    }\n    const relationsByKindAndNamespace = Object.values(groupBy(relations, ({target}) => {\n      return `${target.kind}:${target.namespace}`.toLowerCase();\n    }));\n    const batchedRelationsByKindAndNamespace = [];\n    for (const rs of relationsByKindAndNamespace) {\n      batchedRelationsByKindAndNamespace.push({\n        kind: rs[0].target.kind,\n        namespace: rs[0].target.namespace,\n        nameBatches: chunk(rs.map((r) => r.target.name), BATCH_SIZE)\n      });\n    }\n    const results = await Promise.all(batchedRelationsByKindAndNamespace.flatMap((rs) => {\n      return rs.nameBatches.map((names) => {\n        return catalogApi.getEntities({\n          filter: {\n            kind: rs.kind,\n            \"metadata.namespace\": rs.namespace,\n            \"metadata.name\": names\n          }\n        });\n      });\n    }));\n    return results.flatMap((r) => r.items);\n  }, [entity, type]);\n  return {\n    entities,\n    loading,\n    error\n  };\n}\n\nconst buildEntityKey = (component) => {\n  var _a;\n  return `entity:${component.kind}:${(_a = component.metadata.namespace) != null ? _a : \"default\"}:${component.metadata.name}`;\n};\nconst useStarredEntities = () => {\n  var _a;\n  const storageApi = useApi(storageApiRef);\n  const settingsStore = storageApi.forBucket(\"settings\");\n  const rawStarredEntityKeys = (_a = settingsStore.get(\"starredEntities\")) != null ? _a : [];\n  const [starredEntities, setStarredEntities] = useState(new Set(rawStarredEntityKeys));\n  const observedItems = useObservable(settingsStore.observe$(\"starredEntities\"));\n  useEffect(() => {\n    var _a2;\n    if (observedItems == null ? void 0 : observedItems.newValue) {\n      const currentValue = (_a2 = observedItems == null ? void 0 : observedItems.newValue) != null ? _a2 : [];\n      setStarredEntities(new Set(currentValue));\n    }\n  }, [observedItems == null ? void 0 : observedItems.newValue]);\n  const toggleStarredEntity = useCallback((entity) => {\n    const entityKey = buildEntityKey(entity);\n    if (starredEntities.has(entityKey)) {\n      starredEntities.delete(entityKey);\n    } else {\n      starredEntities.add(entityKey);\n    }\n    settingsStore.set(\"starredEntities\", Array.from(starredEntities));\n  }, [starredEntities, settingsStore]);\n  const isStarredEntity = useCallback((entity) => {\n    const entityKey = buildEntityKey(entity);\n    return starredEntities.has(entityKey);\n  }, [starredEntities]);\n  return {\n    starredEntities,\n    toggleStarredEntity,\n    isStarredEntity\n  };\n};\n\nconst EntityProvider = ({entity, children}) => /* @__PURE__ */ React.createElement(EntityContext.Provider, {\n  value: {\n    entity,\n    loading: !Boolean(entity),\n    error: void 0\n  }\n}, children);\n\nfunction formatEntityRefTitle(entityRef, opts) {\n  const defaultKind = opts == null ? void 0 : opts.defaultKind;\n  let kind;\n  let namespace;\n  let name;\n  if (\"metadata\" in entityRef) {\n    kind = entityRef.kind;\n    namespace = entityRef.metadata.namespace;\n    name = entityRef.metadata.name;\n  } else {\n    kind = entityRef.kind;\n    namespace = entityRef.namespace;\n    name = entityRef.name;\n  }\n  if (namespace === ENTITY_DEFAULT_NAMESPACE) {\n    namespace = void 0;\n  }\n  kind = kind.toLowerCase();\n  return `${serializeEntityRef({\n    kind: defaultKind && defaultKind.toLowerCase() === kind ? void 0 : kind,\n    name,\n    namespace\n  })}`;\n}\n\nconst EntityRefLink = forwardRef((props, ref) => {\n  var _a;\n  const {entityRef, defaultKind, children, ...linkProps} = props;\n  let kind;\n  let namespace;\n  let name;\n  if (\"metadata\" in entityRef) {\n    kind = entityRef.kind;\n    namespace = entityRef.metadata.namespace;\n    name = entityRef.metadata.name;\n  } else {\n    kind = entityRef.kind;\n    namespace = entityRef.namespace;\n    name = entityRef.name;\n  }\n  kind = kind.toLocaleLowerCase(\"en-US\");\n  const routeParams = {\n    kind,\n    namespace: (_a = namespace == null ? void 0 : namespace.toLocaleLowerCase(\"en-US\")) != null ? _a : ENTITY_DEFAULT_NAMESPACE,\n    name\n  };\n  return /* @__PURE__ */ React.createElement(Link, {\n    ...linkProps,\n    ref,\n    to: generatePath(`/catalog/${entityRoute.path}`, routeParams)\n  }, children, !children && formatEntityRefTitle(entityRef, {defaultKind}));\n});\n\nconst EntityRefLinks = ({\n  entityRefs,\n  defaultKind,\n  ...linkProps\n}) => /* @__PURE__ */ React.createElement(React.Fragment, null, entityRefs.map((r, i) => /* @__PURE__ */ React.createElement(React.Fragment, {\n  key: i\n}, i > 0 && \", \", /* @__PURE__ */ React.createElement(EntityRefLink, {\n  ...linkProps,\n  entityRef: r,\n  defaultKind\n}))));\n\nfunction getEntityRelations(entity, relationType, filter) {\n  var _a, _b;\n  let entityNames = ((_b = (_a = entity == null ? void 0 : entity.relations) == null ? void 0 : _a.filter((r) => r.type === relationType)) == null ? void 0 : _b.map((r) => r.target)) || [];\n  if (filter == null ? void 0 : filter.kind) {\n    entityNames = entityNames == null ? void 0 : entityNames.filter((e) => e.kind.toLowerCase() === filter.kind.toLowerCase());\n  }\n  return entityNames;\n}\n\nfunction isOwnerOf(owner, owned) {\n  const possibleOwners = [\n    ...getEntityRelations(owner, RELATION_MEMBER_OF, {kind: \"group\"}),\n    ...owner ? [getEntityName(owner)] : []\n  ];\n  const owners = getEntityRelations(owned, RELATION_OWNED_BY);\n  for (const ownerItem of owners) {\n    if (possibleOwners.find((o) => ownerItem.kind.toLowerCase() === o.kind.toLowerCase() && ownerItem.namespace.toLowerCase() === o.namespace.toLowerCase() && ownerItem.name.toLowerCase() === o.name.toLowerCase()) !== void 0) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction createEntityRefColumn({\n  defaultKind\n}) {\n  function formatContent(entity) {\n    return formatEntityRefTitle(entity, {\n      defaultKind\n    });\n  }\n  return {\n    title: \"Name\",\n    highlight: true,\n    customFilterAndSearch(filter, entity) {\n      return formatContent(entity).includes(filter);\n    },\n    customSort(entity1, entity2) {\n      return formatContent(entity1).localeCompare(formatContent(entity2));\n    },\n    render: (entity) => /* @__PURE__ */ React.createElement(EntityRefLink, {\n      entityRef: entity,\n      defaultKind\n    })\n  };\n}\nfunction createEntityRelationColumn({\n  title,\n  relation,\n  defaultKind,\n  filter: entityFilter\n}) {\n  function getRelations(entity) {\n    return getEntityRelations(entity, relation, entityFilter);\n  }\n  function formatContent(entity) {\n    return getRelations(entity).map((r) => formatEntityRefTitle(r, {defaultKind})).join(\", \");\n  }\n  return {\n    title,\n    customFilterAndSearch(filter, entity) {\n      return formatContent(entity).includes(filter);\n    },\n    customSort(entity1, entity2) {\n      return formatContent(entity1).localeCompare(formatContent(entity2));\n    },\n    render: (entity) => {\n      return /* @__PURE__ */ React.createElement(EntityRefLinks, {\n        entityRefs: getRelations(entity),\n        defaultKind\n      });\n    }\n  };\n}\nfunction createOwnerColumn() {\n  return createEntityRelationColumn({\n    title: \"Owner\",\n    relation: RELATION_OWNED_BY,\n    defaultKind: \"group\"\n  });\n}\nfunction createDomainColumn() {\n  return createEntityRelationColumn({\n    title: \"Domain\",\n    relation: RELATION_PART_OF,\n    defaultKind: \"domain\",\n    filter: {\n      kind: \"domain\"\n    }\n  });\n}\nfunction createSystemColumn() {\n  return createEntityRelationColumn({\n    title: \"System\",\n    relation: RELATION_PART_OF,\n    defaultKind: \"system\",\n    filter: {\n      kind: \"system\"\n    }\n  });\n}\nfunction createMetadataDescriptionColumn() {\n  return {\n    title: \"Description\",\n    field: \"metadata.description\",\n    render: (entity) => /* @__PURE__ */ React.createElement(OverflowTooltip, {\n      text: entity.metadata.description,\n      placement: \"bottom-start\"\n    }),\n    width: \"auto\"\n  };\n}\nfunction createSpecLifecycleColumn() {\n  return {\n    title: \"Lifecycle\",\n    field: \"spec.lifecycle\"\n  };\n}\nfunction createSpecTypeColumn() {\n  return {\n    title: \"Type\",\n    field: \"spec.type\"\n  };\n}\n\nvar columnFactories = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  createEntityRefColumn: createEntityRefColumn,\n  createEntityRelationColumn: createEntityRelationColumn,\n  createOwnerColumn: createOwnerColumn,\n  createDomainColumn: createDomainColumn,\n  createSystemColumn: createSystemColumn,\n  createMetadataDescriptionColumn: createMetadataDescriptionColumn,\n  createSpecLifecycleColumn: createSpecLifecycleColumn,\n  createSpecTypeColumn: createSpecTypeColumn\n});\n\nconst systemEntityColumns = [\n  createEntityRefColumn({defaultKind: \"system\"}),\n  createDomainColumn(),\n  createOwnerColumn(),\n  createMetadataDescriptionColumn()\n];\nconst componentEntityColumns = [\n  createEntityRefColumn({defaultKind: \"component\"}),\n  createSystemColumn(),\n  createOwnerColumn(),\n  createSpecTypeColumn(),\n  createSpecLifecycleColumn(),\n  createMetadataDescriptionColumn()\n];\n\nconst useStyles = makeStyles((theme) => ({\n  empty: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    justifyContent: \"center\"\n  }\n}));\nfunction EntityTable({\n  entities,\n  title,\n  emptyContent,\n  variant = \"gridItem\",\n  columns\n}) {\n  const classes = useStyles();\n  const tableStyle = {\n    minWidth: \"0\",\n    width: \"100%\"\n  };\n  if (variant === \"gridItem\") {\n    tableStyle.height = \"calc(100% - 10px)\";\n  }\n  return /* @__PURE__ */ React.createElement(Table, {\n    columns,\n    title,\n    style: tableStyle,\n    emptyContent: emptyContent && /* @__PURE__ */ React.createElement(\"div\", {\n      className: classes.empty\n    }, emptyContent),\n    options: {\n      search: false,\n      paging: false,\n      actionsColumnIndex: -1,\n      padding: \"dense\"\n    },\n    data: entities\n  });\n}\nEntityTable.columns = columnFactories;\nEntityTable.systemEntityColumns = systemEntityColumns;\nEntityTable.componentEntityColumns = componentEntityColumns;\n\nexport { EntityContext, EntityProvider, EntityRefLink, EntityRefLinks, EntityTable, catalogApiRef, catalogRouteRef, entityRoute, entityRouteParams, entityRouteRef, formatEntityRefTitle, getEntityRelations, isOwnerOf, rootRoute, useEntity, useEntityCompoundName, useEntityFromUrl, useRelatedEntities, useStarredEntities };\n//# sourceMappingURL=index.esm.js.map\n","import { createApiRef, createRouteRef, createPlugin, createApiFactory, discoveryApiRef, githubAuthApiRef, identityApiRef, createRoutableExtension, Link, useApi, errorApiRef, CodeSnippet, MarkdownContent, configApiRef, InfoCard, Page, Header, Content, ContentHeader, SupportButton } from '@backstage/core';\nimport { scmIntegrationsApiRef } from '@backstage/integration-react';\nimport { catalogApiRef, formatEntityRefTitle, EntityRefLink } from '@backstage/plugin-catalog-react';\nimport { Base64 } from 'js-base64';\nimport { Octokit } from '@octokit/rest';\nimport parseGitUrl from 'git-url-parse';\nimport React, { useReducer, useState, useCallback, useMemo } from 'react';\nimport { Routes, Route } from 'react-router-dom';\nimport { Button, CircularProgress, List, ListItem, ListItemIcon, ListItemText, ListItemSecondaryAction, IconButton, Collapse, Typography, Grid, TextField, FormHelperText, Card, CardHeader, CardContent, Box, Checkbox, StepLabel, FormControlLabel, Stepper, Step, StepContent } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport LocationOnIcon from '@material-ui/icons/LocationOn';\nimport ApartmentIcon from '@material-ui/icons/Apartment';\nimport CategoryIcon from '@material-ui/icons/Category';\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport ExtensionIcon from '@material-ui/icons/Extension';\nimport GroupIcon from '@material-ui/icons/Group';\nimport MemoryIcon from '@material-ui/icons/Memory';\nimport PersonIcon from '@material-ui/icons/Person';\nimport WorkIcon from '@material-ui/icons/Work';\nimport { useForm, Controller } from 'react-hook-form';\nimport { Autocomplete } from '@material-ui/lab';\nimport YAML from 'yaml';\nimport { useAsync } from 'react-use';\n\nconst catalogImportApiRef = createApiRef({\n  id: \"plugin.catalog-import.service\",\n  description: \"Used by the catalog import plugin to make requests\"\n});\n\nconst getGithubIntegrationConfig = (scmIntegrationsApi, location) => {\n  const integration = scmIntegrationsApi.github.byUrl(location);\n  if (!integration) {\n    return void 0;\n  }\n  const {name: repo, owner} = parseGitUrl(location);\n  return {\n    repo,\n    owner,\n    githubIntegrationConfig: integration.config\n  };\n};\n\nclass CatalogImportClient {\n  constructor(options) {\n    this.discoveryApi = options.discoveryApi;\n    this.githubAuthApi = options.githubAuthApi;\n    this.identityApi = options.identityApi;\n    this.scmIntegrationsApi = options.scmIntegrationsApi;\n    this.catalogApi = options.catalogApi;\n  }\n  async analyzeUrl(url) {\n    if (url.match(/\\.ya?ml$/)) {\n      const location = await this.catalogApi.addLocation({\n        type: \"url\",\n        target: url,\n        dryRun: true\n      });\n      return {\n        type: \"locations\",\n        locations: [\n          {\n            target: location.location.target,\n            entities: location.entities.map((e) => {\n              var _a;\n              return {\n                kind: e.kind,\n                namespace: (_a = e.metadata.namespace) != null ? _a : \"default\",\n                name: e.metadata.name\n              };\n            })\n          }\n        ]\n      };\n    }\n    const ghConfig = getGithubIntegrationConfig(this.scmIntegrationsApi, url);\n    if (!ghConfig) {\n      throw new Error(\"This URL was not recognized as a valid GitHub URL because there was no configured integration that matched the given host name. You could try to paste the full URL to a catalog-info.yaml file instead.\");\n    }\n    const locations = await this.checkGitHubForExistingCatalogInfo({\n      ...ghConfig,\n      url\n    });\n    if (locations.length > 0) {\n      return {\n        type: \"locations\",\n        locations\n      };\n    }\n    return {\n      type: \"repository\",\n      integrationType: \"github\",\n      url,\n      generatedEntities: await this.generateEntityDefinitions({\n        repo: url\n      })\n    };\n  }\n  async submitPullRequest({\n    repositoryUrl,\n    fileContent,\n    title,\n    body\n  }) {\n    const ghConfig = getGithubIntegrationConfig(this.scmIntegrationsApi, repositoryUrl);\n    if (ghConfig) {\n      return await this.submitGitHubPrToRepo({\n        ...ghConfig,\n        fileContent,\n        title,\n        body\n      });\n    }\n    throw new Error(\"unimplemented!\");\n  }\n  async generateEntityDefinitions({\n    repo\n  }) {\n    const idToken = await this.identityApi.getIdToken();\n    const response = await fetch(`${await this.discoveryApi.getBaseUrl(\"catalog\")}/analyze-location`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...idToken && {Authorization: `Bearer ${idToken}`}\n      },\n      method: \"POST\",\n      body: JSON.stringify({\n        location: {type: \"url\", target: repo}\n      })\n    }).catch((e) => {\n      throw new Error(`Failed to generate entity definitions, ${e.message}`);\n    });\n    if (!response.ok) {\n      throw new Error(`Failed to generate entity definitions. Received http response ${response.status}: ${response.statusText}`);\n    }\n    const payload = await response.json();\n    return payload.generateEntities.map((x) => x.entity);\n  }\n  async checkGitHubForExistingCatalogInfo({\n    url,\n    owner,\n    repo,\n    githubIntegrationConfig\n  }) {\n    const token = await this.githubAuthApi.getAccessToken([\"repo\"]);\n    const octo = new Octokit({\n      auth: token,\n      baseUrl: githubIntegrationConfig.apiBaseUrl\n    });\n    const catalogFileName = \"catalog-info.yaml\";\n    const query = `repo:${owner}/${repo}+filename:${catalogFileName}`;\n    const searchResult = await octo.search.code({q: query}).catch((e) => {\n      throw new Error(formatHttpErrorMessage(\"Couldn't search repository for metadata file.\", e));\n    });\n    const exists = searchResult.data.total_count > 0;\n    if (exists) {\n      const repoInformation = await octo.repos.get({owner, repo}).catch((e) => {\n        throw new Error(formatHttpErrorMessage(\"Couldn't fetch repo data\", e));\n      });\n      const defaultBranch = repoInformation.data.default_branch;\n      return await Promise.all(searchResult.data.items.map((i) => `${url.replace(/[\\/]*$/, \"\")}/blob/${defaultBranch}/${i.path}`).map(async (i) => ({\n        target: i,\n        entities: (await this.catalogApi.addLocation({\n          type: \"url\",\n          target: i,\n          dryRun: true\n        })).entities.map((e) => {\n          var _a;\n          return {\n            kind: e.kind,\n            namespace: (_a = e.metadata.namespace) != null ? _a : \"default\",\n            name: e.metadata.name\n          };\n        })\n      })));\n    }\n    return [];\n  }\n  async submitGitHubPrToRepo({\n    owner,\n    repo,\n    title,\n    body,\n    fileContent,\n    githubIntegrationConfig\n  }) {\n    const token = await this.githubAuthApi.getAccessToken([\"repo\"]);\n    const octo = new Octokit({\n      auth: token,\n      baseUrl: githubIntegrationConfig.apiBaseUrl\n    });\n    const branchName = \"backstage-integration\";\n    const fileName = \"catalog-info.yaml\";\n    const repoData = await octo.repos.get({\n      owner,\n      repo\n    }).catch((e) => {\n      throw new Error(formatHttpErrorMessage(\"Couldn't fetch repo data\", e));\n    });\n    const parentRef = await octo.git.getRef({\n      owner,\n      repo,\n      ref: `heads/${repoData.data.default_branch}`\n    }).catch((e) => {\n      throw new Error(formatHttpErrorMessage(\"Couldn't fetch default branch data\", e));\n    });\n    await octo.git.createRef({\n      owner,\n      repo,\n      ref: `refs/heads/${branchName}`,\n      sha: parentRef.data.object.sha\n    }).catch((e) => {\n      throw new Error(formatHttpErrorMessage(`Couldn't create a new branch with name '${branchName}'`, e));\n    });\n    await octo.repos.createOrUpdateFileContents({\n      owner,\n      repo,\n      path: fileName,\n      message: title,\n      content: Base64.encode(fileContent),\n      branch: branchName\n    }).catch((e) => {\n      throw new Error(formatHttpErrorMessage(`Couldn't create a commit with ${fileName} file added`, e));\n    });\n    const pullRequestResponse = await octo.pulls.create({\n      owner,\n      repo,\n      title,\n      head: branchName,\n      body,\n      base: repoData.data.default_branch\n    }).catch((e) => {\n      throw new Error(formatHttpErrorMessage(`Couldn't create a pull request for ${branchName} branch`, e));\n    });\n    return {\n      link: pullRequestResponse.data.html_url,\n      location: `https://${githubIntegrationConfig.host}/${owner}/${repo}/blob/${repoData.data.default_branch}/${fileName}`\n    };\n  }\n}\nfunction formatHttpErrorMessage(message, error) {\n  return `${message}, received http response status code ${error.status}: ${error.message}`;\n}\n\nconst rootRouteRef = createRouteRef({\n  path: \"\",\n  title: \"catalog-import\"\n});\nconst catalogImportPlugin = createPlugin({\n  id: \"catalog-import\",\n  apis: [\n    createApiFactory({\n      api: catalogImportApiRef,\n      deps: {\n        discoveryApi: discoveryApiRef,\n        githubAuthApi: githubAuthApiRef,\n        identityApi: identityApiRef,\n        scmIntegrationsApi: scmIntegrationsApiRef,\n        catalogApi: catalogApiRef\n      },\n      factory: ({\n        discoveryApi,\n        githubAuthApi,\n        identityApi,\n        scmIntegrationsApi,\n        catalogApi\n      }) => new CatalogImportClient({\n        discoveryApi,\n        githubAuthApi,\n        scmIntegrationsApi,\n        identityApi,\n        catalogApi\n      })\n    })\n  ],\n  routes: {\n    importPage: rootRouteRef\n  }\n});\nconst CatalogImportPage = catalogImportPlugin.provide(createRoutableExtension({\n  component: () => Promise.resolve().then(function () { return Router$1; }).then((m) => m.Router),\n  mountPoint: rootRouteRef\n}));\n\nfunction init(initialUrl) {\n  return {\n    activeFlow: \"unknown\",\n    activeState: \"analyze\",\n    analysisUrl: initialUrl,\n    previousStates: []\n  };\n}\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"onAnalysis\": {\n      if (state.activeState !== \"analyze\") {\n        return state;\n      }\n      const {activeState, previousStates} = state;\n      const [activeFlow, analysisUrl, analyzeResult, opts] = action.args;\n      return {\n        ...state,\n        analysisUrl,\n        activeFlow,\n        analyzeResult,\n        prepareResult: opts == null ? void 0 : opts.prepareResult,\n        activeState: (opts == null ? void 0 : opts.prepareResult) === void 0 ? \"prepare\" : \"review\",\n        previousStates: previousStates.concat(activeState)\n      };\n    }\n    case \"onPrepare\": {\n      if (state.activeState !== \"prepare\") {\n        return state;\n      }\n      const {activeState, previousStates} = state;\n      const [prepareResult, opts] = action.args;\n      return {\n        ...state,\n        prepareResult,\n        activeState: \"review\",\n        previousStates: (opts == null ? void 0 : opts.notRepeatable) ? [] : previousStates.concat(activeState)\n      };\n    }\n    case \"onReview\": {\n      if (state.activeState !== \"review\") {\n        return state;\n      }\n      const {activeState, previousStates} = state;\n      const [reviewResult] = action.args;\n      return {\n        ...state,\n        reviewResult,\n        activeState: \"finish\",\n        previousStates: previousStates.concat(activeState)\n      };\n    }\n    case \"onGoBack\": {\n      const {activeState, previousStates} = state;\n      return {\n        ...state,\n        activeState: previousStates.length > 0 ? previousStates[previousStates.length - 1] : activeState,\n        previousStates: previousStates.slice(0, previousStates.length - 1)\n      };\n    }\n    case \"onReset\":\n      return {\n        ...init(action.initialUrl),\n        reviewResult: state.reviewResult\n      };\n    default:\n      throw new Error();\n  }\n}\nconst useImportState = (options) => {\n  const [state, dispatch] = useReducer(reducer, options == null ? void 0 : options.initialUrl, init);\n  const {activeFlow, activeState, analysisUrl, previousStates} = state;\n  return {\n    activeFlow,\n    activeState,\n    activeStepNumber: [\"analyze\", \"prepare\", \"review\", \"finish\"].indexOf(activeState),\n    analysisUrl,\n    analyzeResult: state.analyzeResult,\n    prepareResult: state.prepareResult,\n    reviewResult: state.reviewResult,\n    onAnalysis: (flow, url, result, opts) => dispatch({\n      type: \"onAnalysis\",\n      args: [flow, url, result, opts]\n    }),\n    onPrepare: (result, opts) => dispatch({\n      type: \"onPrepare\",\n      args: [result, opts]\n    }),\n    onReview: (result) => dispatch({type: \"onReview\", args: [result]}),\n    onGoBack: previousStates.length > 0 ? () => dispatch({type: \"onGoBack\"}) : void 0,\n    onReset: () => dispatch({type: \"onReset\", initialUrl: options == null ? void 0 : options.initialUrl})\n  };\n};\n\nconst useStyles = makeStyles((theme) => ({\n  wrapper: {\n    marginTop: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    position: \"relative\"\n  },\n  buttonProgress: {\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12\n  },\n  button: {\n    marginTop: theme.spacing(1),\n    marginRight: theme.spacing(1)\n  }\n}));\nconst NextButton = (props) => {\n  const {loading, ...buttonProps} = props;\n  const classes = useStyles();\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.wrapper\n  }, /* @__PURE__ */ React.createElement(Button, {\n    color: \"primary\",\n    variant: \"contained\",\n    ...buttonProps,\n    disabled: props.disabled || props.loading\n  }), props.loading && /* @__PURE__ */ React.createElement(CircularProgress, {\n    size: \"1.5rem\",\n    className: classes.buttonProgress\n  }), props.loading);\n};\nconst BackButton = (props) => {\n  const classes = useStyles();\n  return /* @__PURE__ */ React.createElement(Button, {\n    variant: \"outlined\",\n    className: classes.button,\n    ...props\n  }, props.children || \"Back\");\n};\n\nconst useStyles$1 = makeStyles((theme) => ({\n  nested: {\n    paddingLeft: theme.spacing(4)\n  }\n}));\nfunction sortEntities(entities) {\n  return entities.sort((a, b) => formatEntityRefTitle(a).localeCompare(formatEntityRefTitle(b)));\n}\nfunction getEntityIcon(entity) {\n  switch (entity.kind.toLocaleLowerCase(\"en-US\")) {\n    case \"api\":\n      return /* @__PURE__ */ React.createElement(ExtensionIcon, null);\n    case \"component\":\n      return /* @__PURE__ */ React.createElement(MemoryIcon, null);\n    case \"domain\":\n      return /* @__PURE__ */ React.createElement(ApartmentIcon, null);\n    case \"group\":\n      return /* @__PURE__ */ React.createElement(GroupIcon, null);\n    case \"location\":\n      return /* @__PURE__ */ React.createElement(LocationOnIcon, null);\n    case \"system\":\n      return /* @__PURE__ */ React.createElement(CategoryIcon, null);\n    case \"user\":\n      return /* @__PURE__ */ React.createElement(PersonIcon, null);\n    default:\n      return /* @__PURE__ */ React.createElement(WorkIcon, null);\n  }\n}\nconst EntityListComponent = ({\n  locations,\n  collapsed = false,\n  locationListItemIcon,\n  onItemClick,\n  firstListItem,\n  withLinks = false\n}) => {\n  const classes = useStyles$1();\n  const [expandedUrls, setExpandedUrls] = useState([]);\n  const handleClick = (url) => {\n    setExpandedUrls((urls) => urls.includes(url) ? urls.filter((u) => u !== url) : urls.concat(url));\n  };\n  return /* @__PURE__ */ React.createElement(List, null, firstListItem, locations.map((r) => /* @__PURE__ */ React.createElement(React.Fragment, {\n    key: r.target\n  }, /* @__PURE__ */ React.createElement(ListItem, {\n    dense: true,\n    button: Boolean(onItemClick),\n    onClick: () => onItemClick == null ? void 0 : onItemClick.call(undefined, r.target)\n  }, /* @__PURE__ */ React.createElement(ListItemIcon, null, locationListItemIcon(r.target)), /* @__PURE__ */ React.createElement(ListItemText, {\n    primary: r.target,\n    secondary: `Entities: ${r.entities.length}`\n  }), collapsed && /* @__PURE__ */ React.createElement(ListItemSecondaryAction, null, /* @__PURE__ */ React.createElement(IconButton, {\n    edge: \"end\",\n    onClick: () => handleClick(r.target)\n  }, expandedUrls.includes(r.target) ? /* @__PURE__ */ React.createElement(ExpandLessIcon, null) : /* @__PURE__ */ React.createElement(ExpandMoreIcon, null)))), /* @__PURE__ */ React.createElement(Collapse, {\n    in: !collapsed || expandedUrls.includes(r.target),\n    timeout: \"auto\",\n    unmountOnExit: true\n  }, /* @__PURE__ */ React.createElement(List, {\n    component: \"div\",\n    disablePadding: true,\n    dense: true\n  }, sortEntities(r.entities).map((entity) => /* @__PURE__ */ React.createElement(ListItem, {\n    component: withLinks ? EntityRefLink : \"div\",\n    entityRef: withLinks ? entity : void 0,\n    button: withLinks,\n    key: formatEntityRefTitle(entity),\n    className: classes.nested\n  }, /* @__PURE__ */ React.createElement(ListItemIcon, null, getEntityIcon(entity)), /* @__PURE__ */ React.createElement(ListItemText, {\n    primary: formatEntityRefTitle(entity)\n  }))))))));\n};\n\nconst StepFinishImportLocation = ({reviewResult, onReset}) => /* @__PURE__ */ React.createElement(React.Fragment, null, reviewResult.type === \"repository\" && /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Typography, {\n  paragraph: true\n}, \"The following Pull Request has been opened:\", \" \", /* @__PURE__ */ React.createElement(Link, {\n  to: reviewResult.pullRequest.url,\n  target: \"_blank\",\n  rel: \"noreferrer\"\n}, reviewResult.pullRequest.url)), /* @__PURE__ */ React.createElement(Typography, {\n  paragraph: true\n}, \"Your entities will be imported as soon as the Pull Request is merged.\")), /* @__PURE__ */ React.createElement(Typography, null, \"The following entities have been added to the catalog:\"), /* @__PURE__ */ React.createElement(EntityListComponent, {\n  locations: reviewResult.locations,\n  locationListItemIcon: () => /* @__PURE__ */ React.createElement(LocationOnIcon, null),\n  withLinks: true\n}), /* @__PURE__ */ React.createElement(Grid, {\n  container: true,\n  spacing: 0\n}, /* @__PURE__ */ React.createElement(BackButton, {\n  onClick: onReset\n}, \"Register another\")));\n\nconst StepInitAnalyzeUrl = ({\n  onAnalysis,\n  analysisUrl = \"\",\n  disablePullRequest = false\n}) => {\n  const errorApi = useApi(errorApiRef);\n  const catalogImportApi = useApi(catalogImportApiRef);\n  const {register, handleSubmit, errors, watch} = useForm({\n    mode: \"onTouched\",\n    defaultValues: {\n      url: analysisUrl\n    }\n  });\n  const [submitted, setSubmitted] = useState(false);\n  const [error, setError] = useState(void 0);\n  const handleResult = useCallback(async ({url}) => {\n    setSubmitted(true);\n    try {\n      const analysisResult = await catalogImportApi.analyzeUrl(url);\n      switch (analysisResult.type) {\n        case \"repository\":\n          if (!disablePullRequest && analysisResult.generatedEntities.length > 0) {\n            onAnalysis(\"no-location\", url, analysisResult);\n          } else {\n            setError(\"Couldn't generate entities for your repository\");\n            setSubmitted(false);\n          }\n          break;\n        case \"locations\": {\n          if (analysisResult.locations.length === 1) {\n            onAnalysis(\"single-location\", url, analysisResult, {\n              prepareResult: analysisResult\n            });\n          } else if (analysisResult.locations.length > 1) {\n            onAnalysis(\"multiple-locations\", url, analysisResult);\n          } else {\n            setError(\"There are no entities at this location\");\n            setSubmitted(false);\n          }\n          break;\n        }\n        default: {\n          const err = `Received unknown analysis result of type ${analysisResult.type}. Please contact the support team.`;\n          setError(err);\n          setSubmitted(false);\n          errorApi.post(new Error(err));\n          break;\n        }\n      }\n    } catch (e) {\n      setError(e.message);\n      setSubmitted(false);\n    }\n  }, [catalogImportApi, disablePullRequest, errorApi, onAnalysis]);\n  return /* @__PURE__ */ React.createElement(\"form\", {\n    onSubmit: handleSubmit(handleResult)\n  }, /* @__PURE__ */ React.createElement(TextField, {\n    fullWidth: true,\n    id: \"url\",\n    name: \"url\",\n    label: \"Repository URL\",\n    placeholder: \"https://github.com/backstage/backstage/blob/master/catalog-info.yaml\",\n    helperText: \"Enter the full path to your entity file to start tracking your component\",\n    margin: \"normal\",\n    variant: \"outlined\",\n    error: Boolean(errors.url),\n    inputRef: register({\n      required: true,\n      validate: {\n        httpsValidator: (value) => typeof value === \"string\" && value.match(/^http[s]?:\\/\\//) !== null || \"Must start with http:// or https://.\"\n      }\n    }),\n    required: true\n  }), errors.url && /* @__PURE__ */ React.createElement(FormHelperText, {\n    error: true\n  }, errors.url.message), error && /* @__PURE__ */ React.createElement(FormHelperText, {\n    error: true\n  }, error), /* @__PURE__ */ React.createElement(Grid, {\n    container: true,\n    spacing: 0\n  }, /* @__PURE__ */ React.createElement(NextButton, {\n    disabled: Boolean(errors.url) || !watch(\"url\"),\n    loading: submitted,\n    type: \"submit\"\n  }, \"Analyze\")));\n};\n\nconst AutocompleteTextField = ({\n  name,\n  options,\n  required,\n  control,\n  errors,\n  rules,\n  loading = false,\n  loadingText,\n  helperText,\n  errorHelperText,\n  textFieldProps = {}\n}) => {\n  return /* @__PURE__ */ React.createElement(Controller, {\n    name,\n    control,\n    rules,\n    render: ({value, onChange, onBlur}) => /* @__PURE__ */ React.createElement(Autocomplete, {\n      loading,\n      loadingText,\n      options: options || [],\n      onChange: (_, v) => onChange(v || \"\"),\n      onBlur,\n      value,\n      autoSelect: true,\n      freeSolo: true,\n      renderInput: (params) => /* @__PURE__ */ React.createElement(TextField, {\n        ...params,\n        helperText: (errors == null ? void 0 : errors[name]) && errorHelperText || helperText,\n        error: Boolean(errors == null ? void 0 : errors[name]),\n        margin: \"normal\",\n        variant: \"outlined\",\n        required,\n        InputProps: {\n          ...params.InputProps,\n          endAdornment: /* @__PURE__ */ React.createElement(React.Fragment, null, loading ? /* @__PURE__ */ React.createElement(CircularProgress, {\n            color: \"inherit\",\n            size: \"1em\"\n          }) : null, params.InputProps.endAdornment)\n        },\n        ...textFieldProps\n      })\n    })\n  });\n};\n\nconst PreparePullRequestForm = ({\n  defaultValues,\n  onSubmit,\n  render\n}) => {\n  const {\n    handleSubmit,\n    watch,\n    control,\n    register,\n    errors\n  } = useForm({mode: \"onTouched\", defaultValues});\n  return /* @__PURE__ */ React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmit)\n  }, render({values: watch(), errors, register, control}));\n};\n\nconst PreviewCatalogInfoComponent = ({\n  repositoryUrl,\n  entities,\n  classes\n}) => {\n  return /* @__PURE__ */ React.createElement(Card, {\n    variant: \"outlined\",\n    className: classes == null ? void 0 : classes.card\n  }, /* @__PURE__ */ React.createElement(CardHeader, {\n    title: /* @__PURE__ */ React.createElement(\"code\", null, `${repositoryUrl.replace(/[\\/]*$/, \"\")}/catalog-info.yaml`)\n  }), /* @__PURE__ */ React.createElement(CardContent, {\n    className: classes == null ? void 0 : classes.cardContent\n  }, /* @__PURE__ */ React.createElement(CodeSnippet, {\n    text: entities.map((e) => YAML.stringify(e)).join(\"---\\n\").trim(),\n    language: \"yaml\"\n  })));\n};\n\nconst PreviewPullRequestComponent = ({\n  title,\n  description,\n  classes\n}) => {\n  return /* @__PURE__ */ React.createElement(Card, {\n    variant: \"outlined\",\n    className: classes == null ? void 0 : classes.card\n  }, /* @__PURE__ */ React.createElement(CardHeader, {\n    title,\n    subheader: \"Create a new Pull Request\"\n  }), /* @__PURE__ */ React.createElement(CardContent, {\n    className: classes == null ? void 0 : classes.cardContent\n  }, /* @__PURE__ */ React.createElement(MarkdownContent, {\n    content: description\n  })));\n};\n\nconst useStyles$2 = makeStyles((theme) => ({\n  previewCard: {\n    marginTop: theme.spacing(1)\n  },\n  previewCardContent: {\n    paddingTop: 0\n  }\n}));\nfunction generateEntities(entities, componentName, owner) {\n  return entities.map((e) => ({\n    ...e,\n    apiVersion: e.apiVersion,\n    kind: e.kind,\n    metadata: {\n      ...e.metadata,\n      name: componentName\n    },\n    spec: {\n      ...e.spec,\n      ...owner ? {owner} : {}\n    }\n  }));\n}\nconst StepPrepareCreatePullRequest = ({\n  analyzeResult,\n  onPrepare,\n  onGoBack,\n  renderFormFields,\n  defaultTitle,\n  defaultBody\n}) => {\n  var _a, _b, _c, _d;\n  const classes = useStyles$2();\n  const catalogApi = useApi(catalogApiRef);\n  const catalogInfoApi = useApi(catalogImportApiRef);\n  const [submitted, setSubmitted] = useState(false);\n  const [error, setError] = useState();\n  const {loading: groupsLoading, value: groups} = useAsync(async () => {\n    const groupEntities = await catalogApi.getEntities({\n      filter: {kind: \"group\"}\n    });\n    return groupEntities.items.map((e) => formatEntityRefTitle(e, {defaultKind: \"group\"})).sort();\n  });\n  const handleResult = useCallback(async (data) => {\n    setSubmitted(true);\n    try {\n      const pr = await catalogInfoApi.submitPullRequest({\n        repositoryUrl: analyzeResult.url,\n        title: data.title,\n        body: data.body,\n        fileContent: generateEntities(analyzeResult.generatedEntities, data.componentName, data.owner).map((e) => YAML.stringify(e)).join(\"---\\n\")\n      });\n      onPrepare({\n        type: \"repository\",\n        url: analyzeResult.url,\n        integrationType: analyzeResult.integrationType,\n        pullRequest: {\n          url: pr.link\n        },\n        locations: [\n          {\n            target: pr.location,\n            entities: generateEntities(analyzeResult.generatedEntities, data.componentName, data.owner).map((e) => ({\n              kind: e.kind,\n              namespace: e.metadata.namespace,\n              name: e.metadata.name\n            }))\n          }\n        ]\n      }, {notRepeatable: true});\n    } catch (e) {\n      setError(e.message);\n      setSubmitted(false);\n    }\n  }, [\n    analyzeResult.generatedEntities,\n    analyzeResult.integrationType,\n    analyzeResult.url,\n    catalogInfoApi,\n    onPrepare\n  ]);\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Typography, null, \"You entered a link to a \", analyzeResult.integrationType, \" repository but a\", \" \", /* @__PURE__ */ React.createElement(\"code\", null, \"catalog-info.yaml\"), \" could not be found. Use this form to open a Pull Request that creates one.\"), /* @__PURE__ */ React.createElement(PreparePullRequestForm, {\n    onSubmit: handleResult,\n    defaultValues: {\n      title: defaultTitle,\n      body: defaultBody,\n      owner: ((_b = (_a = analyzeResult.generatedEntities[0]) == null ? void 0 : _a.spec) == null ? void 0 : _b.owner) || \"\",\n      componentName: ((_d = (_c = analyzeResult.generatedEntities[0]) == null ? void 0 : _c.metadata) == null ? void 0 : _d.name) || \"\",\n      useCodeowners: false\n    },\n    render: ({values, errors, control, register}) => /* @__PURE__ */ React.createElement(React.Fragment, null, renderFormFields({\n      values,\n      errors,\n      register,\n      control,\n      groups: groups != null ? groups : [],\n      groupsLoading\n    }), /* @__PURE__ */ React.createElement(Box, {\n      marginTop: 2\n    }, /* @__PURE__ */ React.createElement(Typography, {\n      variant: \"h6\"\n    }, \"Preview Pull Request\")), /* @__PURE__ */ React.createElement(PreviewPullRequestComponent, {\n      title: values.title,\n      description: values.body,\n      classes: {\n        card: classes.previewCard,\n        cardContent: classes.previewCardContent\n      }\n    }), /* @__PURE__ */ React.createElement(Box, {\n      marginTop: 2,\n      marginBottom: 1\n    }, /* @__PURE__ */ React.createElement(Typography, {\n      variant: \"h6\"\n    }, \"Preview Entities\")), /* @__PURE__ */ React.createElement(PreviewCatalogInfoComponent, {\n      entities: generateEntities(analyzeResult.generatedEntities, values.componentName, values.owner),\n      repositoryUrl: analyzeResult.url,\n      classes: {\n        card: classes.previewCard,\n        cardContent: classes.previewCardContent\n      }\n    }), error && /* @__PURE__ */ React.createElement(FormHelperText, {\n      error: true\n    }, error), /* @__PURE__ */ React.createElement(Grid, {\n      container: true,\n      spacing: 0\n    }, onGoBack && /* @__PURE__ */ React.createElement(BackButton, {\n      onClick: onGoBack,\n      disabled: submitted\n    }), /* @__PURE__ */ React.createElement(NextButton, {\n      type: \"submit\",\n      disabled: Boolean(errors.title || errors.body || errors.owner),\n      loading: submitted\n    }, \"Create PR\")))\n  }));\n};\n\nconst StepPrepareSelectLocations = ({\n  analyzeResult,\n  prepareResult,\n  onPrepare,\n  onGoBack\n}) => {\n  const [selectedUrls, setSelectedUrls] = useState((prepareResult == null ? void 0 : prepareResult.locations.map((l) => l.target)) || []);\n  const handleResult = useCallback(async () => {\n    onPrepare({\n      type: \"locations\",\n      locations: analyzeResult.locations.filter((l) => selectedUrls.includes(l.target))\n    });\n  }, [analyzeResult.locations, onPrepare, selectedUrls]);\n  const onItemClick = (url) => {\n    setSelectedUrls((urls) => urls.includes(url) ? urls.filter((u) => u !== url) : urls.concat(url));\n  };\n  const onSelectAll = () => {\n    setSelectedUrls((urls) => urls.length < analyzeResult.locations.length ? analyzeResult.locations.map((l) => l.target) : []);\n  };\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Typography, null, \"Select one or more locations that are present in your git repository:\"), /* @__PURE__ */ React.createElement(EntityListComponent, {\n    firstListItem: /* @__PURE__ */ React.createElement(ListItem, {\n      dense: true,\n      button: true,\n      onClick: onSelectAll\n    }, /* @__PURE__ */ React.createElement(ListItemIcon, null, /* @__PURE__ */ React.createElement(Checkbox, {\n      edge: \"start\",\n      checked: selectedUrls.length === analyzeResult.locations.length,\n      indeterminate: selectedUrls.length > 0 && selectedUrls.length < analyzeResult.locations.length,\n      tabIndex: -1,\n      disableRipple: true\n    })), /* @__PURE__ */ React.createElement(ListItemText, {\n      primary: \"Select All\"\n    })),\n    onItemClick,\n    locations: analyzeResult.locations,\n    locationListItemIcon: (target) => /* @__PURE__ */ React.createElement(Checkbox, {\n      edge: \"start\",\n      checked: selectedUrls.includes(target),\n      tabIndex: -1,\n      disableRipple: true\n    }),\n    collapsed: true\n  }), /* @__PURE__ */ React.createElement(Grid, {\n    container: true,\n    spacing: 0\n  }, onGoBack && /* @__PURE__ */ React.createElement(BackButton, {\n    onClick: onGoBack\n  }), /* @__PURE__ */ React.createElement(NextButton, {\n    disabled: selectedUrls.length === 0,\n    onClick: handleResult\n  }, \"Review\")));\n};\n\nconst StepReviewLocation = ({\n  prepareResult,\n  onReview,\n  onGoBack\n}) => {\n  const catalogApi = useApi(catalogApiRef);\n  const configApi = useApi(configApiRef);\n  const appTitle = configApi.getOptional(\"app.title\") || \"Backstage\";\n  const [submitted, setSubmitted] = useState(false);\n  const [error, setError] = useState();\n  const handleImport = useCallback(async () => {\n    setSubmitted(true);\n    try {\n      const result = await Promise.all(prepareResult.locations.map((l) => catalogApi.addLocation({\n        type: \"url\",\n        target: l.target,\n        presence: prepareResult.type === \"repository\" ? \"optional\" : \"required\"\n      })));\n      onReview({\n        ...prepareResult,\n        locations: result.map((r) => ({\n          target: r.location.target,\n          entities: r.entities\n        }))\n      });\n    } catch (e) {\n      if (prepareResult.type === \"repository\" && e.message.startsWith(\"Location was added but has no entities specified yet\")) {\n        onReview({\n          ...prepareResult,\n          locations: prepareResult.locations.map((l) => ({\n            target: l.target,\n            entities: []\n          }))\n        });\n      } else {\n        setError(e.message);\n        setSubmitted(false);\n      }\n    }\n  }, [prepareResult, onReview, catalogApi]);\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, prepareResult.type === \"repository\" && /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Typography, {\n    paragraph: true\n  }, \"The following Pull Request has been opened:\", \" \", /* @__PURE__ */ React.createElement(Link, {\n    to: prepareResult.pullRequest.url,\n    target: \"_blank\",\n    rel: \"noopener noreferrer\"\n  }, prepareResult.pullRequest.url)), /* @__PURE__ */ React.createElement(Typography, {\n    paragraph: true\n  }, \"You can already import the location and \", appTitle, \" will fetch the entities as soon as the Pull Request is merged.\")), /* @__PURE__ */ React.createElement(Typography, null, \"The following entities will be added to the catalog:\"), /* @__PURE__ */ React.createElement(EntityListComponent, {\n    locations: prepareResult.locations,\n    locationListItemIcon: () => /* @__PURE__ */ React.createElement(LocationOnIcon, null)\n  }), error && /* @__PURE__ */ React.createElement(FormHelperText, {\n    error: true\n  }, error), /* @__PURE__ */ React.createElement(Grid, {\n    container: true,\n    spacing: 0\n  }, onGoBack && /* @__PURE__ */ React.createElement(BackButton, {\n    onClick: onGoBack,\n    disabled: submitted\n  }), /* @__PURE__ */ React.createElement(NextButton, {\n    disabled: submitted,\n    loading: submitted,\n    onClick: () => handleImport()\n  }, \"Import\")));\n};\n\nfunction defaultPreparePullRequest(apis, {title, body} = {}) {\n  var _a;\n  const appTitle = (_a = apis.configApi.getOptionalString(\"app.title\")) != null ? _a : \"Backstage\";\n  const appBaseUrl = apis.configApi.getString(\"app.baseUrl\");\n  return {\n    title: title != null ? title : \"Add catalog-info.yaml config file\",\n    body: body != null ? body : `This pull request adds a **Backstage entity metadata file** to this repository so that the component can be added to the [${appTitle} software catalog](${appBaseUrl}).\n\nAfter this pull request is merged, the component will become available.\n\nFor more information, read an [overview of the Backstage software catalog](https://backstage.io/docs/features/software-catalog/software-catalog-overview).`\n  };\n}\nfunction defaultGenerateStepper(flow, defaults) {\n  switch (flow) {\n    case \"single-location\":\n      return {\n        ...defaults,\n        prepare: () => ({\n          stepLabel: /* @__PURE__ */ React.createElement(StepLabel, {\n            optional: /* @__PURE__ */ React.createElement(Typography, {\n              variant: \"caption\"\n            }, \"Discovered Locations: 1\")\n          }, \"Select Locations\"),\n          content: /* @__PURE__ */ React.createElement(React.Fragment, null)\n        })\n      };\n    case \"multiple-locations\":\n      return {\n        ...defaults,\n        prepare: (state, opts) => {\n          if (state.analyzeResult.type !== \"locations\") {\n            return defaults.prepare(state, opts);\n          }\n          return {\n            stepLabel: /* @__PURE__ */ React.createElement(StepLabel, {\n              optional: /* @__PURE__ */ React.createElement(Typography, {\n                variant: \"caption\"\n              }, \"Discovered Locations: \", state.analyzeResult.locations.length)\n            }, \"Select Locations\"),\n            content: /* @__PURE__ */ React.createElement(StepPrepareSelectLocations, {\n              analyzeResult: state.analyzeResult,\n              prepareResult: state.prepareResult,\n              onPrepare: state.onPrepare,\n              onGoBack: state.onGoBack\n            })\n          };\n        }\n      };\n    case \"no-location\":\n      return {\n        ...defaults,\n        prepare: (state, opts) => {\n          var _a, _b;\n          if (state.analyzeResult.type !== \"repository\") {\n            return defaults.prepare(state, opts);\n          }\n          const preparePullRequest = (_b = (_a = opts == null ? void 0 : opts.opts) == null ? void 0 : _a.pullRequest) == null ? void 0 : _b.preparePullRequest;\n          const {title, body} = defaultPreparePullRequest(opts.apis, preparePullRequest ? preparePullRequest(opts.apis) : {});\n          return {\n            stepLabel: /* @__PURE__ */ React.createElement(StepLabel, null, \"Create Pull Request\"),\n            content: /* @__PURE__ */ React.createElement(StepPrepareCreatePullRequest, {\n              analyzeResult: state.analyzeResult,\n              onPrepare: state.onPrepare,\n              onGoBack: state.onGoBack,\n              defaultTitle: title,\n              defaultBody: body,\n              renderFormFields: ({\n                values,\n                control,\n                errors,\n                groupsLoading,\n                groups,\n                register\n              }) => /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Box, {\n                marginTop: 2\n              }, /* @__PURE__ */ React.createElement(Typography, {\n                variant: \"h6\"\n              }, \"Pull Request Details\")), /* @__PURE__ */ React.createElement(TextField, {\n                name: \"title\",\n                label: \"Pull Request Title\",\n                placeholder: \"Add Backstage catalog entity descriptor files\",\n                margin: \"normal\",\n                variant: \"outlined\",\n                fullWidth: true,\n                inputRef: register({required: true}),\n                error: Boolean(errors.title),\n                required: true\n              }), /* @__PURE__ */ React.createElement(TextField, {\n                name: \"body\",\n                label: \"Pull Request Body\",\n                placeholder: \"A describing text with Markdown support\",\n                margin: \"normal\",\n                variant: \"outlined\",\n                fullWidth: true,\n                inputRef: register({required: true}),\n                error: Boolean(errors.body),\n                multiline: true,\n                required: true\n              }), /* @__PURE__ */ React.createElement(Box, {\n                marginTop: 2\n              }, /* @__PURE__ */ React.createElement(Typography, {\n                variant: \"h6\"\n              }, \"Entity Configuration\")), /* @__PURE__ */ React.createElement(TextField, {\n                name: \"componentName\",\n                label: \"Name of the created component\",\n                placeholder: \"my-component\",\n                margin: \"normal\",\n                variant: \"outlined\",\n                fullWidth: true,\n                inputRef: register({required: true}),\n                error: Boolean(errors.componentName),\n                required: true\n              }), !values.useCodeowners && /* @__PURE__ */ React.createElement(AutocompleteTextField, {\n                name: \"owner\",\n                control,\n                errors,\n                options: groups || [],\n                loading: groupsLoading,\n                loadingText: \"Loading groups\\u2026\",\n                helperText: \"Select an owner from the list or enter a reference to a Group or a User\",\n                errorHelperText: \"required value\",\n                textFieldProps: {\n                  label: \"Entity Owner\",\n                  placeholder: \"my-group\"\n                },\n                rules: {required: true},\n                required: true\n              }), /* @__PURE__ */ React.createElement(FormControlLabel, {\n                control: /* @__PURE__ */ React.createElement(Checkbox, {\n                  name: \"useCodeowners\",\n                  inputRef: register,\n                  onChange: (_, value) => {\n                    if (value) {\n                      control.setValue(\"owner\", \"\");\n                    }\n                  }\n                }),\n                label: /* @__PURE__ */ React.createElement(React.Fragment, null, \"Use \", /* @__PURE__ */ React.createElement(\"em\", null, \"CODEOWNERS\"), \" file as Entity Owner\")\n              }), /* @__PURE__ */ React.createElement(FormHelperText, null, \"WARNING: This may fail if no CODEOWNERS file is found at the target location.\"))\n            })\n          };\n        }\n      };\n    default:\n      return defaults;\n  }\n}\nconst defaultStepper = {\n  analyze: (state, {opts}) => {\n    var _a;\n    return {\n      stepLabel: /* @__PURE__ */ React.createElement(StepLabel, null, \"Select URL\"),\n      content: /* @__PURE__ */ React.createElement(StepInitAnalyzeUrl, {\n        key: \"analyze\",\n        analysisUrl: state.analysisUrl,\n        onAnalysis: state.onAnalysis,\n        disablePullRequest: (_a = opts == null ? void 0 : opts.pullRequest) == null ? void 0 : _a.disable\n      })\n    };\n  },\n  prepare: (state) => ({\n    stepLabel: /* @__PURE__ */ React.createElement(StepLabel, {\n      optional: /* @__PURE__ */ React.createElement(Typography, {\n        variant: \"caption\"\n      }, \"Optional\")\n    }, \"Import Actions\"),\n    content: /* @__PURE__ */ React.createElement(BackButton, {\n      onClick: state.onGoBack\n    })\n  }),\n  review: (state) => ({\n    stepLabel: /* @__PURE__ */ React.createElement(StepLabel, null, \"Review\"),\n    content: /* @__PURE__ */ React.createElement(StepReviewLocation, {\n      prepareResult: state.prepareResult,\n      onReview: state.onReview,\n      onGoBack: state.onGoBack\n    })\n  }),\n  finish: (state) => ({\n    stepLabel: /* @__PURE__ */ React.createElement(StepLabel, null, \"Finish\"),\n    content: /* @__PURE__ */ React.createElement(StepFinishImportLocation, {\n      reviewResult: state.reviewResult,\n      onReset: state.onReset\n    })\n  })\n};\n\nconst useStyles$3 = makeStyles(() => ({\n  stepperRoot: {\n    padding: 0\n  }\n}));\nconst ImportStepper = ({\n  initialUrl,\n  generateStepper = defaultGenerateStepper,\n  variant,\n  opts\n}) => {\n  const configApi = useApi(configApiRef);\n  const classes = useStyles$3();\n  const state = useImportState({initialUrl});\n  const states = useMemo(() => generateStepper(state.activeFlow, defaultStepper), [generateStepper, state.activeFlow]);\n  const render = (step) => {\n    return /* @__PURE__ */ React.createElement(Step, null, step.stepLabel, /* @__PURE__ */ React.createElement(StepContent, null, step.content));\n  };\n  return /* @__PURE__ */ React.createElement(InfoCard, {\n    variant\n  }, /* @__PURE__ */ React.createElement(Stepper, {\n    classes: {root: classes.stepperRoot},\n    activeStep: state.activeStepNumber,\n    orientation: \"vertical\"\n  }, render(states.analyze(state, {apis: {configApi}, opts})), render(states.prepare(state, {apis: {configApi}, opts})), render(states.review(state, {apis: {configApi}, opts})), render(states.finish(state, {apis: {configApi}, opts}))));\n};\n\nfunction repositories(configApi) {\n  const integrations = configApi.getConfig(\"integrations\");\n  const repos = [];\n  if (integrations.has(\"github\")) {\n    repos.push(\"GitHub\");\n  }\n  if (integrations.has(\"bitbucket\")) {\n    repos.push(\"Bitbucket\");\n  }\n  if (integrations.has(\"gitlab\")) {\n    repos.push(\"GitLab\");\n  }\n  if (integrations.has(\"azure\")) {\n    repos.push(\"Azure\");\n  }\n  return repos;\n}\nconst ImportComponentPage = (opts) => {\n  var _a;\n  const configApi = useApi(configApiRef);\n  const appTitle = configApi.getOptional(\"app.title\") || \"Backstage\";\n  const repos = repositories(configApi);\n  const repositoryString = repos.join(\", \").replace(/, (\\w*)$/, \" or $1\");\n  return /* @__PURE__ */ React.createElement(Page, {\n    themeId: \"home\"\n  }, /* @__PURE__ */ React.createElement(Header, {\n    title: \"Register an existing component\"\n  }), /* @__PURE__ */ React.createElement(Content, null, /* @__PURE__ */ React.createElement(ContentHeader, {\n    title: `Start tracking your component in ${appTitle}`\n  }, /* @__PURE__ */ React.createElement(SupportButton, null, \"Start tracking your component in \", appTitle, \" by adding it to the software catalog.\")), /* @__PURE__ */ React.createElement(Grid, {\n    container: true,\n    spacing: 2,\n    direction: \"row-reverse\"\n  }, /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 4,\n    lg: 6,\n    xl: 8\n  }, /* @__PURE__ */ React.createElement(InfoCard, {\n    title: \"Register an existing component\",\n    deepLink: {\n      title: \"Learn more about the Software Catalog\",\n      link: \"https://backstage.io/docs/features/software-catalog/software-catalog-overview\"\n    }\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"body2\",\n    paragraph: true\n  }, \"Enter the URL to your SCM repository to add it to \", appTitle, \".\"), /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"h6\"\n  }, \"Link to an existing entity file\"), /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"subtitle2\",\n    color: \"textSecondary\",\n    paragraph: true\n  }, \"Example:\", \" \", /* @__PURE__ */ React.createElement(\"code\", null, \"https://github.com/backstage/backstage/blob/master/catalog-info.yaml\")), /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"body2\",\n    paragraph: true\n  }, \"The wizard analyzes the file, previews the entities, and adds them to the \", appTitle, \" catalog.\"), repos.length > 0 && /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"h6\"\n  }, \"Link to a \", repositoryString, \" repository\"), /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"subtitle2\",\n    color: \"textSecondary\",\n    paragraph: true\n  }, \"Example: \", /* @__PURE__ */ React.createElement(\"code\", null, \"https://github.com/backstage/backstage\")), /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"body2\",\n    paragraph: true\n  }, \"The wizard discovers all \", /* @__PURE__ */ React.createElement(\"code\", null, \"catalog-info.yaml\"), \" \", \"files in the repository, previews the entities, and adds them to the \", appTitle, \" catalog.\"), !((_a = opts == null ? void 0 : opts.pullRequest) == null ? void 0 : _a.disable) && /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"body2\",\n    paragraph: true\n  }, \"If no entities are found, the wizard will prepare a Pull Request that adds an example\", \" \", /* @__PURE__ */ React.createElement(\"code\", null, \"catalog-info.yaml\"), \" and prepares the \", appTitle, \" \", \"catalog to load all entities as soon as the Pull Request is merged.\")))), /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 8,\n    lg: 6,\n    xl: 4\n  }, /* @__PURE__ */ React.createElement(ImportStepper, {\n    opts\n  })))));\n};\n\nconst Router = (opts) => /* @__PURE__ */ React.createElement(Routes, null, /* @__PURE__ */ React.createElement(Route, {\n  element: /* @__PURE__ */ React.createElement(ImportComponentPage, {\n    ...opts\n  })\n}));\n\nvar Router$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  Router: Router\n});\n\nexport { AutocompleteTextField, CatalogImportClient, CatalogImportPage, EntityListComponent, ImportStepper, PreparePullRequestForm, PreviewCatalogInfoComponent, PreviewPullRequestComponent, Router, StepInitAnalyzeUrl, StepPrepareCreatePullRequest, catalogImportApiRef, catalogImportPlugin, defaultGenerateStepper, catalogImportPlugin as plugin };\n//# sourceMappingURL=index.esm.js.map\n","import { createApiRef } from '@backstage/core';\nimport { ScmIntegrations } from '@backstage/integration';\n\nclass ScmIntegrationsApi {\n  static fromConfig(config) {\n    return ScmIntegrations.fromConfig(config);\n  }\n}\nconst scmIntegrationsApiRef = createApiRef({\n  id: \"integration.scmintegrations\",\n  description: \"All of the registered SCM integrations of your config\"\n});\n\nexport { ScmIntegrationsApi, scmIntegrationsApiRef };\n//# sourceMappingURL=index.esm.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.checkStrictMode = exports.schemaCxtHasRules = exports.subschemaCode = exports.validateFunctionCode = void 0;\nconst boolSchema_1 = require(\"./boolSchema\");\nconst dataType_1 = require(\"./dataType\");\nconst iterate_1 = require(\"./iterate\");\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nconst resolve_1 = require(\"../resolve\");\nconst util_1 = require(\"../util\");\n// schema compilation - generates validation function, subschemaCode (below) is used for subschemas\nfunction validateFunctionCode(it) {\n    if (isSchemaObj(it)) {\n        checkKeywords(it);\n        if (schemaCxtHasRules(it)) {\n            topSchemaObjCode(it);\n            return;\n        }\n    }\n    validateFunction(it, () => boolSchema_1.topBoolOrEmptySchema(it));\n}\nexports.validateFunctionCode = validateFunctionCode;\nfunction validateFunction({ gen, validateName, schema, schemaEnv, opts }, body) {\n    if (opts.code.es5) {\n        gen.func(validateName, codegen_1._ `${names_1.default.data}, ${names_1.default.valCxt}`, schemaEnv.$async, () => {\n            gen.code(codegen_1._ `\"use strict\"; ${funcSourceUrl(schema, opts)}`);\n            destructureValCxtES5(gen, opts);\n            gen.code(body);\n        });\n    }\n    else {\n        gen.func(validateName, codegen_1._ `${names_1.default.data}, ${destructureValCxt(opts)}`, schemaEnv.$async, () => gen.code(funcSourceUrl(schema, opts)).code(body));\n    }\n}\nfunction destructureValCxt(opts) {\n    return codegen_1._ `{${names_1.default.dataPath}=\"\", ${names_1.default.parentData}, ${names_1.default.parentDataProperty}, ${names_1.default.rootData}=${names_1.default.data}${opts.dynamicRef ? codegen_1._ `, ${names_1.default.dynamicAnchors}={}` : codegen_1.nil}}={}`;\n}\nfunction destructureValCxtES5(gen, opts) {\n    gen.if(names_1.default.valCxt, () => {\n        gen.var(names_1.default.dataPath, codegen_1._ `${names_1.default.valCxt}.${names_1.default.dataPath}`);\n        gen.var(names_1.default.parentData, codegen_1._ `${names_1.default.valCxt}.${names_1.default.parentData}`);\n        gen.var(names_1.default.parentDataProperty, codegen_1._ `${names_1.default.valCxt}.${names_1.default.parentDataProperty}`);\n        gen.var(names_1.default.rootData, codegen_1._ `${names_1.default.valCxt}.${names_1.default.rootData}`);\n        if (opts.dynamicRef)\n            gen.var(names_1.default.dynamicAnchors, codegen_1._ `${names_1.default.valCxt}.${names_1.default.dynamicAnchors}`);\n    }, () => {\n        gen.var(names_1.default.dataPath, codegen_1._ `\"\"`);\n        gen.var(names_1.default.parentData, codegen_1._ `undefined`);\n        gen.var(names_1.default.parentDataProperty, codegen_1._ `undefined`);\n        gen.var(names_1.default.rootData, names_1.default.data);\n        if (opts.dynamicRef)\n            gen.var(names_1.default.dynamicAnchors, codegen_1._ `{}`);\n    });\n}\nfunction topSchemaObjCode(it) {\n    const { schema, opts, gen } = it;\n    validateFunction(it, () => {\n        if (opts.$comment && schema.$comment)\n            commentKeyword(it);\n        checkNoDefault(it);\n        gen.let(names_1.default.vErrors, null);\n        gen.let(names_1.default.errors, 0);\n        if (opts.unevaluated)\n            resetEvaluated(it);\n        typeAndKeywords(it);\n        returnResults(it);\n    });\n    return;\n}\nfunction resetEvaluated(it) {\n    // TODO maybe some hook to execute it in the end to check whether props/items are Name, as in assignEvaluated\n    const { gen, validateName } = it;\n    it.evaluated = gen.const(\"evaluated\", codegen_1._ `${validateName}.evaluated`);\n    gen.if(codegen_1._ `${it.evaluated}.dynamicProps`, () => gen.assign(codegen_1._ `${it.evaluated}.props`, codegen_1._ `undefined`));\n    gen.if(codegen_1._ `${it.evaluated}.dynamicItems`, () => gen.assign(codegen_1._ `${it.evaluated}.items`, codegen_1._ `undefined`));\n}\nfunction funcSourceUrl(schema, opts) {\n    return typeof schema == \"object\" && schema.$id && (opts.code.source || opts.code.process)\n        ? codegen_1._ `/*# sourceURL=${schema.$id} */`\n        : codegen_1.nil;\n}\n// schema compilation - this function is used recursively to generate code for sub-schemas\nfunction subschemaCode(it, valid) {\n    if (isSchemaObj(it)) {\n        checkKeywords(it);\n        if (schemaCxtHasRules(it)) {\n            subSchemaObjCode(it, valid);\n            return;\n        }\n    }\n    boolSchema_1.boolOrEmptySchema(it, valid);\n}\nexports.subschemaCode = subschemaCode;\nfunction schemaCxtHasRules({ schema, self }) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (self.RULES.all[key])\n            return true;\n    return false;\n}\nexports.schemaCxtHasRules = schemaCxtHasRules;\nfunction isSchemaObj(it) {\n    return typeof it.schema != \"boolean\";\n}\nfunction subSchemaObjCode(it, valid) {\n    const { schema, gen, opts } = it;\n    if (opts.$comment && schema.$comment)\n        commentKeyword(it);\n    updateContext(it);\n    checkAsync(it);\n    const errsCount = gen.const(\"_errs\", names_1.default.errors);\n    typeAndKeywords(it, errsCount);\n    // TODO var\n    gen.var(valid, codegen_1._ `${errsCount} === ${names_1.default.errors}`);\n}\nfunction checkKeywords(it) {\n    util_1.checkUnknownRules(it);\n    checkRefsAndKeywords(it);\n}\nfunction typeAndKeywords(it, errsCount) {\n    if (it.opts.jtd)\n        return iterate_1.schemaKeywords(it, [], false, errsCount);\n    const types = dataType_1.getSchemaTypes(it.schema);\n    const checkedTypes = dataType_1.coerceAndCheckDataType(it, types);\n    iterate_1.schemaKeywords(it, types, !checkedTypes, errsCount);\n}\nfunction checkRefsAndKeywords(it) {\n    const { schema, errSchemaPath, opts, self } = it;\n    if (schema.$ref && opts.ignoreKeywordsWithRef && util_1.schemaHasRulesButRef(schema, self.RULES)) {\n        self.logger.warn(`$ref: keywords ignored in schema at path \"${errSchemaPath}\"`);\n    }\n}\nfunction checkNoDefault(it) {\n    const { schema, opts } = it;\n    if (schema.default !== undefined && opts.useDefaults && opts.strict) {\n        checkStrictMode(it, \"default is ignored in the schema root\");\n    }\n}\nfunction updateContext(it) {\n    if (it.schema.$id)\n        it.baseId = resolve_1.resolveUrl(it.baseId, it.schema.$id);\n}\nfunction checkAsync(it) {\n    if (it.schema.$async && !it.schemaEnv.$async)\n        throw new Error(\"async schema in sync schema\");\n}\nfunction commentKeyword({ gen, schemaEnv, schema, errSchemaPath, opts }) {\n    const msg = schema.$comment;\n    if (opts.$comment === true) {\n        gen.code(codegen_1._ `${names_1.default.self}.logger.log(${msg})`);\n    }\n    else if (typeof opts.$comment == \"function\") {\n        const schemaPath = codegen_1.str `${errSchemaPath}/$comment`;\n        const rootName = gen.scopeValue(\"root\", { ref: schemaEnv.root });\n        gen.code(codegen_1._ `${names_1.default.self}.opts.$comment(${msg}, ${schemaPath}, ${rootName}.schema)`);\n    }\n}\nfunction returnResults(it) {\n    const { gen, schemaEnv, validateName, ValidationError, opts } = it;\n    if (schemaEnv.$async) {\n        // TODO assign unevaluated\n        gen.if(codegen_1._ `${names_1.default.errors} === 0`, () => gen.return(names_1.default.data), () => gen.throw(codegen_1._ `new ${ValidationError}(${names_1.default.vErrors})`));\n    }\n    else {\n        gen.assign(codegen_1._ `${validateName}.errors`, names_1.default.vErrors);\n        if (opts.unevaluated)\n            assignEvaluated(it);\n        gen.return(codegen_1._ `${names_1.default.errors} === 0`);\n    }\n}\nfunction assignEvaluated({ gen, evaluated, props, items }) {\n    if (props instanceof codegen_1.Name)\n        gen.assign(codegen_1._ `${evaluated}.props`, props);\n    if (items instanceof codegen_1.Name)\n        gen.assign(codegen_1._ `${evaluated}.items`, items);\n}\nfunction checkStrictMode(it, msg, mode = it.opts.strict) {\n    if (!mode)\n        return;\n    msg = `strict mode: ${msg}`;\n    if (mode === true)\n        throw new Error(msg);\n    it.self.logger.warn(msg);\n}\nexports.checkStrictMode = checkStrictMode;\n//# sourceMappingURL=index.js.map","import { serializeError as serializeError$1, deserializeError as deserializeError$1 } from 'serialize-error';\n\nclass CustomErrorBase extends Error {\n  constructor(message, cause) {\n    var _a;\n    let fullMessage = message;\n    if (cause) {\n      if (fullMessage) {\n        fullMessage += `; caused by ${cause}`;\n      } else {\n        fullMessage = `caused by ${cause}`;\n      }\n    }\n    super(fullMessage);\n    (_a = Error.captureStackTrace) == null ? void 0 : _a.call(Error, this, this.constructor);\n    this.name = this.constructor.name;\n    this.cause = cause;\n  }\n}\n\nclass InputError extends CustomErrorBase {\n}\nclass AuthenticationError extends CustomErrorBase {\n}\nclass NotAllowedError extends CustomErrorBase {\n}\nclass NotFoundError extends CustomErrorBase {\n}\nclass ConflictError extends CustomErrorBase {\n}\nclass NotModifiedError extends CustomErrorBase {\n}\n\nfunction serializeError(error, options) {\n  const serialized = serializeError$1(error);\n  const result = {\n    name: \"Unknown\",\n    message: \"<no reason given>\",\n    ...serialized\n  };\n  if (!(options == null ? void 0 : options.includeStack)) {\n    delete result.stack;\n  }\n  return result;\n}\nfunction deserializeError(data) {\n  const result = deserializeError$1(data);\n  if (!data.stack) {\n    result.stack = void 0;\n  }\n  return result;\n}\n\nasync function parseErrorResponse(response) {\n  var _a;\n  try {\n    const text = await response.text();\n    if (text) {\n      if ((_a = response.headers.get(\"content-type\")) == null ? void 0 : _a.startsWith(\"application/json\")) {\n        try {\n          const body = JSON.parse(text);\n          if (body.error && body.response) {\n            return body;\n          }\n        } catch {\n        }\n      }\n      return {\n        error: {\n          name: \"Unknown\",\n          message: `Request failed with status ${response.status} ${response.statusText}, ${text}`\n        },\n        response: {\n          statusCode: response.status\n        }\n      };\n    }\n  } catch {\n  }\n  return {\n    error: {\n      name: \"Unknown\",\n      message: `Request failed with status ${response.status} ${response.statusText}`\n    },\n    response: {\n      statusCode: response.status\n    }\n  };\n}\n\nclass ResponseError extends Error {\n  static async fromResponse(response) {\n    const data = await parseErrorResponse(response);\n    const status = data.response.statusCode || response.status;\n    const statusText = data.error.name || response.statusText;\n    const message = `Request failed with ${status} ${statusText}`;\n    const cause = deserializeError(data.error);\n    return new ResponseError({\n      message,\n      response,\n      data,\n      cause\n    });\n  }\n  constructor(props) {\n    super(props.message);\n    this.name = \"ResponseError\";\n    this.response = props.response;\n    this.data = props.data;\n    this.cause = props.cause;\n  }\n}\n\nexport { AuthenticationError, ConflictError, CustomErrorBase, InputError, NotAllowedError, NotFoundError, NotModifiedError, ResponseError, deserializeError, parseErrorResponse, serializeError };\n//# sourceMappingURL=index.esm.js.map\n","import { createApiRef, useApi, Progress, EmptyState, Table, Link, useQueryParamState, Page, Header, Content, Lifecycle, createRouteRef, createPlugin, createApiFactory, discoveryApiRef, createRoutableExtension, useRouteRef, SidebarSearchField } from '@backstage/core';\nimport { ENTITY_DEFAULT_NAMESPACE } from '@backstage/catalog-model';\nimport qs from 'qs';\nimport { catalogApiRef } from '@backstage/plugin-catalog-react';\nimport { Paper, makeStyles as makeStyles$1, IconButton as IconButton$1, Typography, Card, CardHeader, Button, Divider, CardContent, Select, MenuItem, List, ListItem, Checkbox, ListItemText, Grid } from '@material-ui/core';\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { useAsync, useDebounce } from 'react-use';\nimport { makeStyles } from '@material-ui/core/styles';\nimport InputBase from '@material-ui/core/InputBase';\nimport IconButton from '@material-ui/core/IconButton';\nimport SearchIcon from '@material-ui/icons/Search';\nimport ClearButton from '@material-ui/icons/Clear';\nimport { Alert } from '@material-ui/lab';\nimport FilterListIcon from '@material-ui/icons/FilterList';\nimport { useNavigate } from 'react-router-dom';\n\nconst searchApiRef = createApiRef({\n  id: \"plugin.search.queryservice\",\n  description: \"Used to make requests against the search API\"\n});\nclass SearchClient {\n  constructor(options) {\n    this.catalogApi = options.catalogApi;\n    this.discoveryApi = options.discoveryApi;\n  }\n  async entities() {\n    const entities = await this.catalogApi.getEntities();\n    return entities.items.map((entity) => {\n      var _a, _b, _c, _d, _e;\n      return {\n        name: entity.metadata.name,\n        description: entity.metadata.description,\n        owner: typeof ((_a = entity.spec) == null ? void 0 : _a.owner) === \"string\" ? (_b = entity.spec) == null ? void 0 : _b.owner : void 0,\n        kind: entity.kind,\n        lifecycle: typeof ((_c = entity.spec) == null ? void 0 : _c.lifecycle) === \"string\" ? (_d = entity.spec) == null ? void 0 : _d.lifecycle : void 0,\n        url: `/catalog/${((_e = entity.metadata.namespace) == null ? void 0 : _e.toLowerCase()) || ENTITY_DEFAULT_NAMESPACE}/${entity.kind.toLowerCase()}/${entity.metadata.name}`\n      };\n    });\n  }\n  getSearchResult() {\n    return this.entities();\n  }\n  async _alphaPerformSearch(query) {\n    const queryString = qs.stringify(query);\n    const url = `${await this.discoveryApi.getBaseUrl(\"search/query\")}?${queryString}`;\n    const response = await fetch(url);\n    return response.json();\n  }\n}\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  input: {\n    flex: 1\n  }\n}));\nconst SearchBar = ({\n  searchQuery,\n  handleSearch,\n  handleClearSearchBar\n}) => {\n  const classes = useStyles();\n  return /* @__PURE__ */ React.createElement(Paper, {\n    component: \"form\",\n    onSubmit: (e) => handleSearch(e),\n    className: classes.root\n  }, /* @__PURE__ */ React.createElement(IconButton, {\n    disabled: true,\n    type: \"submit\",\n    \"aria-label\": \"search\"\n  }, /* @__PURE__ */ React.createElement(SearchIcon, null)), /* @__PURE__ */ React.createElement(InputBase, {\n    className: classes.input,\n    placeholder: \"Search in Backstage\",\n    value: searchQuery,\n    onChange: (e) => handleSearch(e),\n    inputProps: {\"aria-label\": \"search backstage\"}\n  }), /* @__PURE__ */ React.createElement(IconButton, {\n    \"aria-label\": \"search\",\n    onClick: () => handleClearSearchBar()\n  }, /* @__PURE__ */ React.createElement(ClearButton, null)));\n};\n\nconst useStyles$1 = makeStyles$1((theme) => ({\n  filters: {\n    width: \"250px\",\n    display: \"flex\"\n  },\n  icon: {\n    margin: theme.spacing(-1, 0, 0, 0)\n  }\n}));\nconst FiltersButton = ({\n  numberOfSelectedFilters,\n  handleToggleFilters\n}) => {\n  const classes = useStyles$1();\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.filters\n  }, /* @__PURE__ */ React.createElement(IconButton$1, {\n    className: classes.icon,\n    \"aria-label\": \"settings\",\n    onClick: handleToggleFilters\n  }, /* @__PURE__ */ React.createElement(FilterListIcon, null)), /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"h6\"\n  }, \"Filters (\", numberOfSelectedFilters ? numberOfSelectedFilters : 0, \")\"));\n};\n\nconst useStyles$2 = makeStyles$1((theme) => ({\n  filters: {\n    background: \"transparent\",\n    boxShadow: \"0px 0px 0px 0px\"\n  },\n  checkbox: {\n    padding: theme.spacing(0, 1, 0, 1)\n  },\n  dropdown: {\n    width: \"100%\"\n  }\n}));\nconst Filters = ({\n  filters,\n  filterOptions,\n  resetFilters,\n  updateSelected,\n  updateChecked\n}) => {\n  const classes = useStyles$2();\n  return /* @__PURE__ */ React.createElement(Card, {\n    className: classes.filters\n  }, /* @__PURE__ */ React.createElement(CardHeader, {\n    title: /* @__PURE__ */ React.createElement(Typography, {\n      variant: \"h6\"\n    }, \"Filters\"),\n    action: /* @__PURE__ */ React.createElement(Button, {\n      color: \"primary\",\n      onClick: () => resetFilters()\n    }, \"CLEAR ALL\")\n  }), /* @__PURE__ */ React.createElement(Divider, null), filterOptions.kind.length === 0 && filterOptions.lifecycle.length === 0 && /* @__PURE__ */ React.createElement(CardContent, null, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"subtitle2\"\n  }, \"Filters cannot be applied to available results\")), filterOptions.kind.length > 0 && /* @__PURE__ */ React.createElement(CardContent, null, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"subtitle2\"\n  }, \"Kind\"), /* @__PURE__ */ React.createElement(Select, {\n    id: \"outlined-select\",\n    onChange: (e) => {\n      var _a;\n      return updateSelected((_a = e == null ? void 0 : e.target) == null ? void 0 : _a.value);\n    },\n    variant: \"outlined\",\n    className: classes.dropdown,\n    value: filters.selected\n  }, filterOptions.kind.map((filter) => /* @__PURE__ */ React.createElement(MenuItem, {\n    selected: filter === \"\",\n    dense: true,\n    key: filter,\n    value: filter\n  }, filter)))), filterOptions.lifecycle.length > 0 && /* @__PURE__ */ React.createElement(CardContent, null, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"subtitle2\"\n  }, \"Lifecycle\"), /* @__PURE__ */ React.createElement(List, {\n    disablePadding: true,\n    dense: true\n  }, filterOptions.lifecycle.map((filter) => /* @__PURE__ */ React.createElement(ListItem, {\n    key: filter,\n    dense: true,\n    button: true,\n    onClick: () => updateChecked(filter)\n  }, /* @__PURE__ */ React.createElement(Checkbox, {\n    edge: \"start\",\n    disableRipple: true,\n    className: classes.checkbox,\n    color: \"primary\",\n    checked: filters.checked.includes(filter),\n    tabIndex: -1,\n    value: filter,\n    name: filter\n  }), /* @__PURE__ */ React.createElement(ListItemText, {\n    id: filter,\n    primary: filter\n  }))))));\n};\n\nconst useStyles$3 = makeStyles$1((theme) => ({\n  searchQuery: {\n    color: theme.palette.text.primary,\n    background: theme.palette.background.default,\n    borderRadius: \"10%\"\n  },\n  tableHeader: {\n    margin: theme.spacing(1, 0, 0, 0),\n    display: \"flex\"\n  },\n  divider: {\n    width: \"1px\",\n    margin: theme.spacing(0, 2),\n    padding: theme.spacing(2, 0)\n  }\n}));\nconst columns = [\n  {\n    title: \"Name\",\n    field: \"name\",\n    highlight: true,\n    render: (result) => /* @__PURE__ */ React.createElement(Link, {\n      to: result.url || \"\"\n    }, result.name)\n  },\n  {\n    title: \"Description\",\n    field: \"description\"\n  },\n  {\n    title: \"Owner\",\n    field: \"owner\"\n  },\n  {\n    title: \"Kind\",\n    field: \"kind\"\n  },\n  {\n    title: \"LifeCycle\",\n    field: \"lifecycle\"\n  }\n];\nconst TableHeader = ({\n  searchQuery,\n  numberOfSelectedFilters,\n  numberOfResults,\n  handleToggleFilters\n}) => {\n  const classes = useStyles$3();\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.tableHeader\n  }, /* @__PURE__ */ React.createElement(FiltersButton, {\n    numberOfSelectedFilters,\n    handleToggleFilters\n  }), /* @__PURE__ */ React.createElement(Divider, {\n    className: classes.divider,\n    orientation: \"vertical\"\n  }), /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    xs: 12\n  }, searchQuery ? /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"h6\"\n  }, `${numberOfResults} `, numberOfResults > 1 ? `results for ` : `result for `, /* @__PURE__ */ React.createElement(\"span\", {\n    className: classes.searchQuery\n  }, '\"', searchQuery, '\"'), \" \") : /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"h6\"\n  }, `${numberOfResults} results`)));\n};\nconst SearchResult = ({searchQuery}) => {\n  const searchApi = useApi(searchApiRef);\n  const [showFilters, toggleFilters] = useState(false);\n  const [selectedFilters, setSelectedFilters] = useState({\n    selected: \"\",\n    checked: []\n  });\n  const [filteredResults, setFilteredResults] = useState([]);\n  const {loading, error, value: results} = useAsync(() => {\n    return searchApi.getSearchResult();\n  }, []);\n  useEffect(() => {\n    if (results) {\n      let withFilters = results;\n      if (selectedFilters.selected !== \"\") {\n        withFilters = results.filter((result) => selectedFilters.selected.includes(result.kind));\n      }\n      if (selectedFilters.checked.length > 0) {\n        withFilters = withFilters.filter((result) => result.lifecycle && selectedFilters.checked.includes(result.lifecycle));\n      }\n      if (searchQuery) {\n        withFilters = withFilters.filter((result) => {\n          var _a, _b, _c;\n          return ((_a = result.name) == null ? void 0 : _a.toLocaleLowerCase(\"en-US\").includes(searchQuery)) || ((_b = result.name) == null ? void 0 : _b.toLocaleLowerCase(\"en-US\").includes(searchQuery.split(\" \").join(\"-\"))) || ((_c = result.description) == null ? void 0 : _c.toLocaleLowerCase(\"en-US\").includes(searchQuery));\n        });\n      }\n      setFilteredResults(withFilters);\n    }\n  }, [selectedFilters, searchQuery, results]);\n  if (loading) {\n    return /* @__PURE__ */ React.createElement(Progress, null);\n  }\n  if (error) {\n    return /* @__PURE__ */ React.createElement(Alert, {\n      severity: \"error\"\n    }, \"Error encountered while fetching search results. \", error.toString());\n  }\n  if (!results || results.length === 0) {\n    return /* @__PURE__ */ React.createElement(EmptyState, {\n      missing: \"data\",\n      title: \"Sorry, no results were found\"\n    });\n  }\n  const resetFilters = () => {\n    setSelectedFilters({\n      selected: \"\",\n      checked: []\n    });\n  };\n  const updateSelected = (filter) => {\n    setSelectedFilters((prevState) => ({\n      ...prevState,\n      selected: filter\n    }));\n  };\n  const updateChecked = (filter) => {\n    if (selectedFilters.checked.includes(filter)) {\n      setSelectedFilters((prevState) => ({\n        ...prevState,\n        checked: prevState.checked.filter((item) => item !== filter)\n      }));\n      return;\n    }\n    setSelectedFilters((prevState) => ({\n      ...prevState,\n      checked: [...prevState.checked, filter]\n    }));\n  };\n  const filterOptions = results.reduce((acc, curr) => {\n    if (curr.kind && acc.kind.indexOf(curr.kind) < 0) {\n      acc.kind.push(curr.kind);\n    }\n    if (curr.lifecycle && acc.lifecycle.indexOf(curr.lifecycle) < 0) {\n      acc.lifecycle.push(curr.lifecycle);\n    }\n    return acc;\n  }, {\n    kind: [],\n    lifecycle: []\n  });\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Grid, {\n    container: true\n  }, showFilters && /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    xs: 3\n  }, /* @__PURE__ */ React.createElement(Filters, {\n    filters: selectedFilters,\n    filterOptions,\n    resetFilters,\n    updateSelected,\n    updateChecked\n  })), /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    xs: showFilters ? 9 : 12\n  }, /* @__PURE__ */ React.createElement(Table, {\n    options: {paging: true, pageSize: 20, search: false},\n    data: filteredResults,\n    columns,\n    title: /* @__PURE__ */ React.createElement(TableHeader, {\n      searchQuery,\n      numberOfResults: filteredResults.length,\n      numberOfSelectedFilters: (selectedFilters.selected !== \"\" ? 1 : 0) + selectedFilters.checked.length,\n      handleToggleFilters: () => toggleFilters(!showFilters)\n    })\n  }))));\n};\n\nconst SearchPage = () => {\n  const [queryString, setQueryString] = useQueryParamState(\"query\");\n  const [searchQuery, setSearchQuery] = useState(queryString != null ? queryString : \"\");\n  const handleSearch = (event) => {\n    event.preventDefault();\n    setSearchQuery(event.target.value);\n  };\n  useEffect(() => setSearchQuery(queryString != null ? queryString : \"\"), [queryString]);\n  useDebounce(() => {\n    setQueryString(searchQuery);\n  }, 200, [searchQuery]);\n  const handleClearSearchBar = () => {\n    setSearchQuery(\"\");\n  };\n  return /* @__PURE__ */ React.createElement(Page, {\n    themeId: \"home\"\n  }, /* @__PURE__ */ React.createElement(Header, {\n    title: \"Search\"\n  }), /* @__PURE__ */ React.createElement(Content, null, /* @__PURE__ */ React.createElement(Grid, {\n    container: true,\n    direction: \"row\"\n  }, /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    xs: 12\n  }, /* @__PURE__ */ React.createElement(SearchBar, {\n    handleSearch,\n    handleClearSearchBar,\n    searchQuery\n  })), /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    xs: 12\n  }, /* @__PURE__ */ React.createElement(SearchResult, {\n    searchQuery: (queryString != null ? queryString : \"\").toLocaleLowerCase(\"en-US\")\n  })))));\n};\n\nconst SearchPageNext = () => {\n  const [queryString, setQueryString] = useQueryParamState(\"query\");\n  const [searchQuery, setSearchQuery] = useState(queryString != null ? queryString : \"\");\n  const handleSearch = (event) => {\n    event.preventDefault();\n    setSearchQuery(event.target.value);\n  };\n  useEffect(() => setSearchQuery(queryString != null ? queryString : \"\"), [queryString]);\n  useDebounce(() => {\n    setQueryString(searchQuery);\n  }, 200, [searchQuery]);\n  const handleClearSearchBar = () => {\n    setSearchQuery(\"\");\n  };\n  return /* @__PURE__ */ React.createElement(Page, {\n    themeId: \"home\"\n  }, /* @__PURE__ */ React.createElement(Header, {\n    title: \"Search\",\n    subtitle: /* @__PURE__ */ React.createElement(Lifecycle, {\n      alpha: true\n    })\n  }), /* @__PURE__ */ React.createElement(Content, null, /* @__PURE__ */ React.createElement(Grid, {\n    container: true,\n    direction: \"row\"\n  }, /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    xs: 12\n  }, /* @__PURE__ */ React.createElement(SearchBar, {\n    handleSearch,\n    handleClearSearchBar,\n    searchQuery\n  })), /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    xs: 12\n  }, /* @__PURE__ */ React.createElement(SearchResult, {\n    searchQuery: (queryString != null ? queryString : \"\").toLowerCase()\n  })))));\n};\n\nconst rootRouteRef = createRouteRef({\n  path: \"/search\",\n  title: \"search\"\n});\nconst rootNextRouteRef = createRouteRef({\n  path: \"/search-next\",\n  title: \"search\"\n});\nconst searchPlugin = createPlugin({\n  id: \"search\",\n  apis: [\n    createApiFactory({\n      api: searchApiRef,\n      deps: {catalogApi: catalogApiRef, discoveryApi: discoveryApiRef},\n      factory: ({catalogApi, discoveryApi}) => {\n        return new SearchClient({catalogApi, discoveryApi});\n      }\n    })\n  ],\n  register({router}) {\n    router.addRoute(rootRouteRef, SearchPage);\n    router.addRoute(rootNextRouteRef, SearchPageNext);\n  },\n  routes: {\n    root: rootRouteRef,\n    nextRoot: rootNextRouteRef\n  }\n});\nconst SearchPage$1 = searchPlugin.provide(createRoutableExtension({\n  component: () => import('./index-47f3726b.esm.js').then((m) => m.SearchPage),\n  mountPoint: rootRouteRef\n}));\nconst SearchPageNext$1 = searchPlugin.provide(createRoutableExtension({\n  component: () => import('./index-9c2ae6a3.esm.js').then((m) => m.SearchPageNext),\n  mountPoint: rootNextRouteRef\n}));\n\nconst SidebarSearch = () => {\n  const searchRoute = useRouteRef(rootRouteRef);\n  const navigate = useNavigate();\n  const handleSearch = useCallback((query) => {\n    const queryString = qs.stringify({query}, {addQueryPrefix: true});\n    navigate(`${searchRoute()}${queryString}`);\n  }, [navigate, searchRoute]);\n  return /* @__PURE__ */ React.createElement(SidebarSearchField, {\n    onSearch: handleSearch,\n    to: \"/search\"\n  });\n};\n\nexport { Filters as F, SearchPage as S, SearchPageNext as a, SearchPage$1 as b, SearchPageNext$1 as c, FiltersButton as d, SearchBar as e, SearchResult as f, SidebarSearch as g, searchPlugin as s };\n//# sourceMappingURL=index-37ed06b2.esm.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"./codegen\");\nconst names = {\n    // validation function arguments\n    data: new codegen_1.Name(\"data\"),\n    // args passed from referencing schema\n    valCxt: new codegen_1.Name(\"valCxt\"),\n    dataPath: new codegen_1.Name(\"dataPath\"),\n    parentData: new codegen_1.Name(\"parentData\"),\n    parentDataProperty: new codegen_1.Name(\"parentDataProperty\"),\n    rootData: new codegen_1.Name(\"rootData\"),\n    dynamicAnchors: new codegen_1.Name(\"dynamicAnchors\"),\n    // function scoped variables\n    vErrors: new codegen_1.Name(\"vErrors\"),\n    errors: new codegen_1.Name(\"errors\"),\n    this: new codegen_1.Name(\"this\"),\n    // \"globals\"\n    self: new codegen_1.Name(\"self\"),\n    scope: new codegen_1.Name(\"scope\"),\n    // JTD serialize/parse name for JSON string and position\n    json: new codegen_1.Name(\"json\"),\n    jsonPos: new codegen_1.Name(\"jsonPos\"),\n    jsonLen: new codegen_1.Name(\"jsonLen\"),\n    jsonPart: new codegen_1.Name(\"jsonPart\"),\n};\nexports.default = names;\n//# sourceMappingURL=names.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateUnion = exports.validateArray = exports.usePattern = exports.callValidateCode = exports.schemaProperties = exports.allSchemaProperties = exports.noPropertyInData = exports.propertyInData = exports.isOwnProperty = exports.hasPropFunc = exports.reportMissingProp = exports.checkMissingProp = exports.checkReportMissingProp = void 0;\nconst codegen_1 = require(\"../compile/codegen\");\nconst util_1 = require(\"../compile/util\");\nconst subschema_1 = require(\"../compile/subschema\");\nconst names_1 = require(\"../compile/names\");\nfunction checkReportMissingProp(cxt, prop) {\n    const { gen, data, it } = cxt;\n    gen.if(noPropertyInData(gen, data, prop, it.opts.ownProperties), () => {\n        cxt.setParams({ missingProperty: codegen_1._ `${prop}` }, true);\n        cxt.error();\n    });\n}\nexports.checkReportMissingProp = checkReportMissingProp;\nfunction checkMissingProp({ gen, data, it: { opts } }, properties, missing) {\n    return codegen_1.or(...properties.map((prop) => codegen_1.and(noPropertyInData(gen, data, prop, opts.ownProperties), codegen_1._ `${missing} = ${prop}`)));\n}\nexports.checkMissingProp = checkMissingProp;\nfunction reportMissingProp(cxt, missing) {\n    cxt.setParams({ missingProperty: missing }, true);\n    cxt.error();\n}\nexports.reportMissingProp = reportMissingProp;\nfunction hasPropFunc(gen) {\n    return gen.scopeValue(\"func\", {\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        ref: Object.prototype.hasOwnProperty,\n        code: codegen_1._ `Object.prototype.hasOwnProperty`,\n    });\n}\nexports.hasPropFunc = hasPropFunc;\nfunction isOwnProperty(gen, data, property) {\n    return codegen_1._ `${hasPropFunc(gen)}.call(${data}, ${property})`;\n}\nexports.isOwnProperty = isOwnProperty;\nfunction propertyInData(gen, data, property, ownProperties) {\n    const cond = codegen_1._ `${data}${codegen_1.getProperty(property)} !== undefined`;\n    return ownProperties ? codegen_1._ `${cond} && ${isOwnProperty(gen, data, property)}` : cond;\n}\nexports.propertyInData = propertyInData;\nfunction noPropertyInData(gen, data, property, ownProperties) {\n    const cond = codegen_1._ `${data}${codegen_1.getProperty(property)} === undefined`;\n    return ownProperties ? codegen_1.or(cond, codegen_1.not(isOwnProperty(gen, data, property))) : cond;\n}\nexports.noPropertyInData = noPropertyInData;\nfunction allSchemaProperties(schemaMap) {\n    return schemaMap ? Object.keys(schemaMap).filter((p) => p !== \"__proto__\") : [];\n}\nexports.allSchemaProperties = allSchemaProperties;\nfunction schemaProperties(it, schemaMap) {\n    return allSchemaProperties(schemaMap).filter((p) => !util_1.alwaysValidSchema(it, schemaMap[p]));\n}\nexports.schemaProperties = schemaProperties;\nfunction callValidateCode({ schemaCode, data, it: { gen, topSchemaRef, schemaPath, errorPath }, it }, func, context, passSchema) {\n    const dataAndSchema = passSchema ? codegen_1._ `${schemaCode}, ${data}, ${topSchemaRef}${schemaPath}` : data;\n    const valCxt = [\n        [names_1.default.dataPath, codegen_1.strConcat(names_1.default.dataPath, errorPath)],\n        [names_1.default.parentData, it.parentData],\n        [names_1.default.parentDataProperty, it.parentDataProperty],\n        [names_1.default.rootData, names_1.default.rootData],\n    ];\n    if (it.opts.dynamicRef)\n        valCxt.push([names_1.default.dynamicAnchors, names_1.default.dynamicAnchors]);\n    const args = codegen_1._ `${dataAndSchema}, ${gen.object(...valCxt)}`;\n    return context !== codegen_1.nil ? codegen_1._ `${func}.call(${context}, ${args})` : codegen_1._ `${func}(${args})`;\n}\nexports.callValidateCode = callValidateCode;\nfunction usePattern(gen, pattern) {\n    return gen.scopeValue(\"pattern\", {\n        key: pattern,\n        ref: new RegExp(pattern, \"u\"),\n        code: codegen_1._ `new RegExp(${pattern}, \"u\")`,\n    });\n}\nexports.usePattern = usePattern;\nfunction validateArray(cxt) {\n    const { gen, data, keyword, it } = cxt;\n    const valid = gen.name(\"valid\");\n    if (it.allErrors) {\n        const validArr = gen.let(\"valid\", true);\n        validateItems(() => gen.assign(validArr, false));\n        return validArr;\n    }\n    gen.var(valid, true);\n    validateItems(() => gen.break());\n    return valid;\n    function validateItems(notValid) {\n        const len = gen.const(\"len\", codegen_1._ `${data}.length`);\n        gen.forRange(\"i\", 0, len, (i) => {\n            cxt.subschema({\n                keyword,\n                dataProp: i,\n                dataPropType: subschema_1.Type.Num,\n            }, valid);\n            gen.if(codegen_1.not(valid), notValid);\n        });\n    }\n}\nexports.validateArray = validateArray;\nfunction validateUnion(cxt) {\n    const { gen, schema, keyword, it } = cxt;\n    /* istanbul ignore if */\n    if (!Array.isArray(schema))\n        throw new Error(\"ajv implementation error\");\n    const alwaysValid = schema.some((sch) => util_1.alwaysValidSchema(it, sch));\n    if (alwaysValid && !it.opts.unevaluated)\n        return;\n    const valid = gen.let(\"valid\", false);\n    const schValid = gen.name(\"_valid\");\n    gen.block(() => schema.forEach((_sch, i) => {\n        const schCxt = cxt.subschema({\n            keyword,\n            schemaProp: i,\n            compositeRule: true,\n        }, schValid);\n        gen.assign(valid, codegen_1._ `${valid} || ${schValid}`);\n        const merged = cxt.mergeValidEvaluated(schCxt, schValid);\n        // can short-circuit if `unevaluatedProperties/Items` not supported (opts.unevaluated !== true)\n        // or if all properties and items were evaluated (it.props === true && it.items === true)\n        if (!merged)\n            gen.if(codegen_1.not(valid));\n    }));\n    cxt.result(valid, () => cxt.reset(), () => cxt.error(true));\n}\nexports.validateUnion = validateUnion;\n//# sourceMappingURL=code.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.boolOrEmptySchema = exports.topBoolOrEmptySchema = void 0;\nconst errors_1 = require(\"../errors\");\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nconst boolError = {\n    message: \"boolean schema is false\",\n};\nfunction topBoolOrEmptySchema(it) {\n    const { gen, schema, validateName } = it;\n    if (schema === false) {\n        falseSchemaError(it, false);\n    }\n    else if (typeof schema == \"object\" && schema.$async === true) {\n        gen.return(names_1.default.data);\n    }\n    else {\n        gen.assign(codegen_1._ `${validateName}.errors`, null);\n        gen.return(true);\n    }\n}\nexports.topBoolOrEmptySchema = topBoolOrEmptySchema;\nfunction boolOrEmptySchema(it, valid) {\n    const { gen, schema } = it;\n    if (schema === false) {\n        gen.var(valid, false); // TODO var\n        falseSchemaError(it);\n    }\n    else {\n        gen.var(valid, true); // TODO var\n    }\n}\nexports.boolOrEmptySchema = boolOrEmptySchema;\nfunction falseSchemaError(it, overrideAllErrors) {\n    const { gen, data } = it;\n    // TODO maybe some other interface should be used for non-keyword validation errors...\n    const cxt = {\n        gen,\n        keyword: \"false schema\",\n        data,\n        schema: false,\n        schemaCode: false,\n        schemaValue: false,\n        params: {},\n        it,\n    };\n    errors_1.reportError(cxt, boolError, overrideAllErrors);\n}\n//# sourceMappingURL=boolSchema.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.schemaKeywords = void 0;\nconst applicability_1 = require(\"./applicability\");\nconst dataType_1 = require(\"./dataType\");\nconst defaults_1 = require(\"./defaults\");\nconst keyword_1 = require(\"./keyword\");\nconst util_1 = require(\"../util\");\nconst _1 = require(\".\");\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nfunction schemaKeywords(it, types, typeErrors, errsCount) {\n    const { gen, schema, data, allErrors, opts, self } = it;\n    const { RULES } = self;\n    if (schema.$ref && (opts.ignoreKeywordsWithRef || !util_1.schemaHasRulesButRef(schema, RULES))) {\n        gen.block(() => keyword_1.keywordCode(it, \"$ref\", RULES.all.$ref.definition)); // TODO typecast\n        return;\n    }\n    if (!opts.jtd)\n        checkStrictTypes(it, types);\n    gen.block(() => {\n        for (const group of RULES.rules)\n            groupKeywords(group);\n        groupKeywords(RULES.post);\n    });\n    function groupKeywords(group) {\n        if (!applicability_1.shouldUseGroup(schema, group))\n            return;\n        if (group.type) {\n            gen.if(dataType_1.checkDataType(group.type, data, opts.strict));\n            iterateKeywords(it, group);\n            if (types.length === 1 && types[0] === group.type && typeErrors) {\n                gen.else();\n                dataType_1.reportTypeError(it);\n            }\n            gen.endIf();\n        }\n        else {\n            iterateKeywords(it, group);\n        }\n        // TODO make it \"ok\" call?\n        if (!allErrors)\n            gen.if(codegen_1._ `${names_1.default.errors} === ${errsCount || 0}`);\n    }\n}\nexports.schemaKeywords = schemaKeywords;\nfunction iterateKeywords(it, group) {\n    const { gen, schema, opts: { useDefaults }, } = it;\n    if (useDefaults)\n        defaults_1.assignDefaults(it, group.type);\n    gen.block(() => {\n        for (const rule of group.rules) {\n            if (applicability_1.shouldUseRule(schema, rule)) {\n                keyword_1.keywordCode(it, rule.keyword, rule.definition, group.type);\n            }\n        }\n    });\n}\nfunction checkStrictTypes(it, types) {\n    if (it.schemaEnv.meta || !it.opts.strictTypes)\n        return;\n    checkContextTypes(it, types);\n    if (!it.opts.allowUnionTypes)\n        checkMultipleTypes(it, types);\n    checkKeywordTypes(it, it.dataTypes);\n}\nfunction checkContextTypes(it, types) {\n    if (!types.length)\n        return;\n    if (!it.dataTypes.length) {\n        it.dataTypes = types;\n        return;\n    }\n    types.forEach((t) => {\n        if (!includesType(it.dataTypes, t)) {\n            strictTypesError(it, `type \"${t}\" not allowed by context \"${it.dataTypes.join(\",\")}\"`);\n        }\n    });\n    it.dataTypes = it.dataTypes.filter((t) => includesType(types, t));\n}\nfunction checkMultipleTypes(it, ts) {\n    if (ts.length > 1 && !(ts.length === 2 && ts.includes(\"null\"))) {\n        strictTypesError(it, \"use allowUnionTypes to allow union type keyword\");\n    }\n}\nfunction checkKeywordTypes(it, ts) {\n    const rules = it.self.RULES.all;\n    for (const keyword in rules) {\n        const rule = rules[keyword];\n        if (typeof rule == \"object\" && applicability_1.shouldUseRule(it.schema, rule)) {\n            const { type } = rule.definition;\n            if (type.length && !type.some((t) => hasApplicableType(ts, t))) {\n                strictTypesError(it, `missing type \"${type.join(\",\")}\" for keyword \"${keyword}\"`);\n            }\n        }\n    }\n}\nfunction hasApplicableType(schTs, kwdT) {\n    return schTs.includes(kwdT) || (kwdT === \"number\" && schTs.includes(\"integer\"));\n}\nfunction includesType(ts, t) {\n    return ts.includes(t) || (t === \"integer\" && ts.includes(\"number\"));\n}\nfunction strictTypesError(it, msg) {\n    const schemaPath = it.schemaEnv.baseId + it.errSchemaPath;\n    msg += ` at \"${schemaPath}\" (strictTypes)`;\n    _1.checkStrictMode(it, msg, it.opts.strictTypes);\n}\n//# sourceMappingURL=iterate.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.assignDefaults = void 0;\nconst codegen_1 = require(\"../codegen\");\nconst _1 = require(\".\");\nfunction assignDefaults(it, ty) {\n    const { properties, items } = it.schema;\n    if (ty === \"object\" && properties) {\n        for (const key in properties) {\n            assignDefault(it, key, properties[key].default);\n        }\n    }\n    else if (ty === \"array\" && Array.isArray(items)) {\n        items.forEach((sch, i) => assignDefault(it, i, sch.default));\n    }\n}\nexports.assignDefaults = assignDefaults;\nfunction assignDefault(it, prop, defaultValue) {\n    const { gen, compositeRule, data, opts } = it;\n    if (defaultValue === undefined)\n        return;\n    const childData = codegen_1._ `${data}${codegen_1.getProperty(prop)}`;\n    if (compositeRule) {\n        _1.checkStrictMode(it, `default is ignored for: ${childData}`);\n        return;\n    }\n    let condition = codegen_1._ `${childData} === undefined`;\n    if (opts.useDefaults === \"empty\") {\n        condition = codegen_1._ `${condition} || ${childData} === null || ${childData} === \"\"`;\n    }\n    // `${childData} === undefined` +\n    // (opts.useDefaults === \"empty\" ? ` || ${childData} === null || ${childData} === \"\"` : \"\")\n    gen.if(condition, codegen_1._ `${childData} = ${codegen_1.stringify(defaultValue)}`);\n}\n//# sourceMappingURL=defaults.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.keywordCode = void 0;\nconst context_1 = require(\"../context\");\nconst errors_1 = require(\"../errors\");\nconst code_1 = require(\"../../vocabularies/code\");\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nfunction keywordCode(it, keyword, def, ruleType) {\n    const cxt = new context_1.default(it, def, keyword);\n    if (\"code\" in def) {\n        def.code(cxt, ruleType);\n    }\n    else if (cxt.$data && def.validate) {\n        funcKeywordCode(cxt, def);\n    }\n    else if (\"macro\" in def) {\n        macroKeywordCode(cxt, def);\n    }\n    else if (def.compile || def.validate) {\n        funcKeywordCode(cxt, def);\n    }\n}\nexports.keywordCode = keywordCode;\nfunction macroKeywordCode(cxt, def) {\n    const { gen, keyword, schema, parentSchema, it } = cxt;\n    const macroSchema = def.macro.call(it.self, schema, parentSchema, it);\n    const schemaRef = useKeyword(gen, keyword, macroSchema);\n    if (it.opts.validateSchema !== false)\n        it.self.validateSchema(macroSchema, true);\n    const valid = gen.name(\"valid\");\n    cxt.subschema({\n        schema: macroSchema,\n        schemaPath: codegen_1.nil,\n        errSchemaPath: `${it.errSchemaPath}/${keyword}`,\n        topSchemaRef: schemaRef,\n        compositeRule: true,\n    }, valid);\n    cxt.pass(valid, () => cxt.error(true));\n}\nfunction funcKeywordCode(cxt, def) {\n    var _a;\n    const { gen, keyword, schema, parentSchema, $data, it } = cxt;\n    checkAsync(it, def);\n    const validate = !$data && def.compile ? def.compile.call(it.self, schema, parentSchema, it) : def.validate;\n    const validateRef = useKeyword(gen, keyword, validate);\n    const valid = gen.let(\"valid\");\n    cxt.block$data(valid, validateKeyword);\n    cxt.ok((_a = def.valid) !== null && _a !== void 0 ? _a : valid);\n    function validateKeyword() {\n        if (def.errors === false) {\n            assignValid();\n            if (def.modifying)\n                modifyData(cxt);\n            reportErrs(() => cxt.error());\n        }\n        else {\n            const ruleErrs = def.async ? validateAsync() : validateSync();\n            if (def.modifying)\n                modifyData(cxt);\n            reportErrs(() => addErrs(cxt, ruleErrs));\n        }\n    }\n    function validateAsync() {\n        const ruleErrs = gen.let(\"ruleErrs\", null);\n        gen.try(() => assignValid(codegen_1._ `await `), (e) => gen.assign(valid, false).if(codegen_1._ `${e} instanceof ${it.ValidationError}`, () => gen.assign(ruleErrs, codegen_1._ `${e}.errors`), () => gen.throw(e)));\n        return ruleErrs;\n    }\n    function validateSync() {\n        const validateErrs = codegen_1._ `${validateRef}.errors`;\n        gen.assign(validateErrs, null);\n        assignValid(codegen_1.nil);\n        return validateErrs;\n    }\n    function assignValid(_await = def.async ? codegen_1._ `await ` : codegen_1.nil) {\n        const passCxt = it.opts.passContext ? names_1.default.this : names_1.default.self;\n        const passSchema = !((\"compile\" in def && !$data) || def.schema === false);\n        gen.assign(valid, codegen_1._ `${_await}${code_1.callValidateCode(cxt, validateRef, passCxt, passSchema)}`, def.modifying);\n    }\n    function reportErrs(errors) {\n        var _a;\n        gen.if(codegen_1.not((_a = def.valid) !== null && _a !== void 0 ? _a : valid), errors);\n    }\n}\nfunction modifyData(cxt) {\n    const { gen, data, it } = cxt;\n    gen.if(it.parentData, () => gen.assign(data, codegen_1._ `${it.parentData}[${it.parentDataProperty}]`));\n}\nfunction addErrs(cxt, errs) {\n    const { gen } = cxt;\n    gen.if(codegen_1._ `Array.isArray(${errs})`, () => {\n        gen\n            .assign(names_1.default.vErrors, codegen_1._ `${names_1.default.vErrors} === null ? ${errs} : ${names_1.default.vErrors}.concat(${errs})`)\n            .assign(names_1.default.errors, codegen_1._ `${names_1.default.vErrors}.length`);\n        errors_1.extendErrors(cxt);\n    }, () => cxt.error());\n}\nfunction checkAsync({ schemaEnv }, def) {\n    if (def.async && !schemaEnv.$async)\n        throw new Error(\"async keyword in sync schema\");\n}\nfunction useKeyword(gen, keyword, result) {\n    if (result === undefined)\n        throw new Error(`keyword \"${keyword}\" failed to compile`);\n    return gen.scopeValue(\"keyword\", typeof result == \"function\" ? { ref: result } : { ref: result, code: codegen_1.stringify(result) });\n}\n//# sourceMappingURL=keyword.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CodeGen = exports.Name = exports.nil = exports.stringify = exports.str = exports._ = exports.KeywordCxt = void 0;\nconst context_1 = require(\"./compile/context\");\nexports.KeywordCxt = context_1.default;\nvar codegen_1 = require(\"./compile/codegen\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return codegen_1._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return codegen_1.str; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return codegen_1.stringify; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return codegen_1.nil; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return codegen_1.Name; } });\nObject.defineProperty(exports, \"CodeGen\", { enumerable: true, get: function () { return codegen_1.CodeGen; } });\nconst error_classes_1 = require(\"./compile/error_classes\");\nconst rules_1 = require(\"./compile/rules\");\nconst compile_1 = require(\"./compile\");\nconst codegen_2 = require(\"./compile/codegen\");\nconst resolve_1 = require(\"./compile/resolve\");\nconst dataType_1 = require(\"./compile/validate/dataType\");\nconst util_1 = require(\"./compile/util\");\nconst $dataRefSchema = require(\"./refs/data.json\");\nconst META_IGNORE_OPTIONS = [\"removeAdditional\", \"useDefaults\", \"coerceTypes\"];\nconst EXT_SCOPE_NAMES = new Set([\n    \"validate\",\n    \"serialize\",\n    \"parse\",\n    \"wrapper\",\n    \"root\",\n    \"schema\",\n    \"keyword\",\n    \"pattern\",\n    \"formats\",\n    \"validate$data\",\n    \"func\",\n    \"obj\",\n    \"Error\",\n]);\nconst removedOptions = {\n    errorDataPath: \"\",\n    format: \"`validateFormats: false` can be used instead.\",\n    nullable: '\"nullable\" keyword is supported by default.',\n    jsonPointers: \"Deprecated jsPropertySyntax can be used instead.\",\n    extendRefs: \"Deprecated ignoreKeywordsWithRef can be used instead.\",\n    missingRefs: \"Pass empty schema with $id that should be ignored to ajv.addSchema.\",\n    processCode: \"Use option `code: {process: (code, schemaEnv: object) => string}`\",\n    sourceCode: \"Use option `code: {source: true}`\",\n    schemaId: \"JSON Schema draft-04 is not supported in Ajv v7.\",\n    strictDefaults: \"It is default now, see option `strict`.\",\n    strictKeywords: \"It is default now, see option `strict`.\",\n    strictNumbers: \"It is default now, see option `strict`.\",\n    uniqueItems: '\"uniqueItems\" keyword is always validated.',\n    unknownFormats: \"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).\",\n    cache: \"Map is used as cache, schema object as key.\",\n    serialize: \"Map is used as cache, schema object as key.\",\n};\nconst deprecatedOptions = {\n    ignoreKeywordsWithRef: \"\",\n    jsPropertySyntax: \"\",\n    unicode: '\"minLength\"/\"maxLength\" account for unicode characters by default.',\n};\nfunction requiredOptions(o) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\n    const strict = (_a = o.strict) !== null && _a !== void 0 ? _a : true;\n    const strictLog = strict ? \"log\" : false;\n    const _optz = (_b = o.code) === null || _b === void 0 ? void 0 : _b.optimize;\n    const optimize = _optz === true || _optz === undefined ? 1 : _optz || 0;\n    return {\n        strict,\n        strictTypes: (_c = o.strictTypes) !== null && _c !== void 0 ? _c : strictLog,\n        strictTuples: (_d = o.strictTuples) !== null && _d !== void 0 ? _d : strictLog,\n        code: o.code ? { ...o.code, optimize } : { optimize },\n        loopRequired: (_e = o.loopRequired) !== null && _e !== void 0 ? _e : Infinity,\n        loopEnum: (_f = o.loopEnum) !== null && _f !== void 0 ? _f : Infinity,\n        meta: (_g = o.meta) !== null && _g !== void 0 ? _g : true,\n        messages: (_h = o.messages) !== null && _h !== void 0 ? _h : true,\n        inlineRefs: (_j = o.inlineRefs) !== null && _j !== void 0 ? _j : true,\n        addUsedSchema: (_k = o.addUsedSchema) !== null && _k !== void 0 ? _k : true,\n        validateSchema: (_l = o.validateSchema) !== null && _l !== void 0 ? _l : true,\n        validateFormats: (_m = o.validateFormats) !== null && _m !== void 0 ? _m : true,\n    };\n}\nclass Ajv {\n    constructor(opts = {}) {\n        this.schemas = {};\n        this.refs = {};\n        this.formats = {};\n        this._compilations = new Set();\n        this._loading = {};\n        this._cache = new Map();\n        opts = this.opts = { ...opts, ...requiredOptions(opts) };\n        const { es5, lines } = this.opts.code;\n        this.scope = new codegen_2.ValueScope({ scope: {}, prefixes: EXT_SCOPE_NAMES, es5, lines });\n        this.logger = getLogger(opts.logger);\n        const formatOpt = opts.validateFormats;\n        opts.validateFormats = false;\n        this.RULES = rules_1.getRules();\n        checkOptions.call(this, removedOptions, opts, \"NOT SUPPORTED\");\n        checkOptions.call(this, deprecatedOptions, opts, \"DEPRECATED\", \"warn\");\n        this._metaOpts = getMetaSchemaOptions.call(this);\n        if (opts.formats)\n            addInitialFormats.call(this);\n        this._addVocabularies();\n        this._addDefaultMetaSchema();\n        if (opts.keywords)\n            addInitialKeywords.call(this, opts.keywords);\n        if (typeof opts.meta == \"object\")\n            this.addMetaSchema(opts.meta);\n        addInitialSchemas.call(this);\n        opts.validateFormats = formatOpt;\n    }\n    _addVocabularies() {\n        this.addKeyword(\"$async\");\n    }\n    _addDefaultMetaSchema() {\n        const { $data, meta } = this.opts;\n        if (meta && $data)\n            this.addMetaSchema($dataRefSchema, $dataRefSchema.$id, false);\n    }\n    defaultMeta() {\n        const { meta } = this.opts;\n        return (this.opts.defaultMeta = typeof meta == \"object\" ? meta.$id || meta : undefined);\n    }\n    validate(schemaKeyRef, // key, ref or schema object\n    data // to be validated\n    ) {\n        let v;\n        if (typeof schemaKeyRef == \"string\") {\n            v = this.getSchema(schemaKeyRef);\n            if (!v)\n                throw new Error(`no schema with key or ref \"${schemaKeyRef}\"`);\n        }\n        else {\n            v = this.compile(schemaKeyRef);\n        }\n        const valid = v(data);\n        if (!(\"$async\" in v))\n            this.errors = v.errors;\n        return valid;\n    }\n    compile(schema, _meta) {\n        const sch = this._addSchema(schema, _meta);\n        return (sch.validate || this._compileSchemaEnv(sch));\n    }\n    compileAsync(schema, meta) {\n        if (typeof this.opts.loadSchema != \"function\") {\n            throw new Error(\"options.loadSchema should be a function\");\n        }\n        const { loadSchema } = this.opts;\n        return runCompileAsync.call(this, schema, meta);\n        async function runCompileAsync(_schema, _meta) {\n            await loadMetaSchema.call(this, _schema.$schema);\n            const sch = this._addSchema(_schema, _meta);\n            return sch.validate || _compileAsync.call(this, sch);\n        }\n        async function loadMetaSchema($ref) {\n            if ($ref && !this.getSchema($ref)) {\n                await runCompileAsync.call(this, { $ref }, true);\n            }\n        }\n        async function _compileAsync(sch) {\n            try {\n                return this._compileSchemaEnv(sch);\n            }\n            catch (e) {\n                if (!(e instanceof error_classes_1.MissingRefError))\n                    throw e;\n                checkLoaded.call(this, e);\n                await loadMissingSchema.call(this, e.missingSchema);\n                return _compileAsync.call(this, sch);\n            }\n        }\n        function checkLoaded({ missingSchema: ref, missingRef }) {\n            if (this.refs[ref]) {\n                throw new Error(`AnySchema ${ref} is loaded but ${missingRef} cannot be resolved`);\n            }\n        }\n        async function loadMissingSchema(ref) {\n            const _schema = await _loadSchema.call(this, ref);\n            if (!this.refs[ref])\n                await loadMetaSchema.call(this, _schema.$schema);\n            if (!this.refs[ref])\n                this.addSchema(_schema, ref, meta);\n        }\n        async function _loadSchema(ref) {\n            const p = this._loading[ref];\n            if (p)\n                return p;\n            try {\n                return await (this._loading[ref] = loadSchema(ref));\n            }\n            finally {\n                delete this._loading[ref];\n            }\n        }\n    }\n    // Adds schema to the instance\n    addSchema(schema, // If array is passed, `key` will be ignored\n    key, // Optional schema key. Can be passed to `validate` method instead of schema object or id/ref. One schema per instance can have empty `id` and `key`.\n    _meta, // true if schema is a meta-schema. Used internally, addMetaSchema should be used instead.\n    _validateSchema = this.opts.validateSchema // false to skip schema validation. Used internally, option validateSchema should be used instead.\n    ) {\n        if (Array.isArray(schema)) {\n            for (const sch of schema)\n                this.addSchema(sch, undefined, _meta, _validateSchema);\n            return this;\n        }\n        let id;\n        if (typeof schema === \"object\") {\n            id = schema.$id;\n            if (id !== undefined && typeof id != \"string\")\n                throw new Error(\"schema id must be string\");\n        }\n        key = resolve_1.normalizeId(key || id);\n        this._checkUnique(key);\n        this.schemas[key] = this._addSchema(schema, _meta, _validateSchema, true);\n        return this;\n    }\n    // Add schema that will be used to validate other schemas\n    // options in META_IGNORE_OPTIONS are alway set to false\n    addMetaSchema(schema, key, // schema key\n    _validateSchema = this.opts.validateSchema // false to skip schema validation, can be used to override validateSchema option for meta-schema\n    ) {\n        this.addSchema(schema, key, true, _validateSchema);\n        return this;\n    }\n    //  Validate schema against its meta-schema\n    validateSchema(schema, throwOrLogError) {\n        if (typeof schema == \"boolean\")\n            return true;\n        let $schema;\n        $schema = schema.$schema;\n        if ($schema !== undefined && typeof $schema != \"string\") {\n            throw new Error(\"$schema must be a string\");\n        }\n        $schema = $schema || this.opts.defaultMeta || this.defaultMeta();\n        if (!$schema) {\n            this.logger.warn(\"meta-schema not available\");\n            this.errors = null;\n            return true;\n        }\n        const valid = this.validate($schema, schema);\n        if (!valid && throwOrLogError) {\n            const message = \"schema is invalid: \" + this.errorsText();\n            if (this.opts.validateSchema === \"log\")\n                this.logger.error(message);\n            else\n                throw new Error(message);\n        }\n        return valid;\n    }\n    // Get compiled schema by `key` or `ref`.\n    // (`key` that was passed to `addSchema` or full schema reference - `schema.$id` or resolved id)\n    getSchema(keyRef) {\n        let sch;\n        while (typeof (sch = getSchEnv.call(this, keyRef)) == \"string\")\n            keyRef = sch;\n        if (sch === undefined) {\n            const root = new compile_1.SchemaEnv({ schema: {} });\n            sch = compile_1.resolveSchema.call(this, root, keyRef);\n            if (!sch)\n                return;\n            this.refs[keyRef] = sch;\n        }\n        return (sch.validate || this._compileSchemaEnv(sch));\n    }\n    // Remove cached schema(s).\n    // If no parameter is passed all schemas but meta-schemas are removed.\n    // If RegExp is passed all schemas with key/id matching pattern but meta-schemas are removed.\n    // Even if schema is referenced by other schemas it still can be removed as other schemas have local references.\n    removeSchema(schemaKeyRef) {\n        if (schemaKeyRef instanceof RegExp) {\n            this._removeAllSchemas(this.schemas, schemaKeyRef);\n            this._removeAllSchemas(this.refs, schemaKeyRef);\n            return this;\n        }\n        switch (typeof schemaKeyRef) {\n            case \"undefined\":\n                this._removeAllSchemas(this.schemas);\n                this._removeAllSchemas(this.refs);\n                this._cache.clear();\n                return this;\n            case \"string\": {\n                const sch = getSchEnv.call(this, schemaKeyRef);\n                if (typeof sch == \"object\")\n                    this._cache.delete(sch.schema);\n                delete this.schemas[schemaKeyRef];\n                delete this.refs[schemaKeyRef];\n                return this;\n            }\n            case \"object\": {\n                const cacheKey = schemaKeyRef;\n                this._cache.delete(cacheKey);\n                let id = schemaKeyRef.$id;\n                if (id) {\n                    id = resolve_1.normalizeId(id);\n                    delete this.schemas[id];\n                    delete this.refs[id];\n                }\n                return this;\n            }\n            default:\n                throw new Error(\"ajv.removeSchema: invalid parameter\");\n        }\n    }\n    // add \"vocabulary\" - a collection of keywords\n    addVocabulary(definitions) {\n        for (const def of definitions)\n            this.addKeyword(def);\n        return this;\n    }\n    addKeyword(kwdOrDef, def // deprecated\n    ) {\n        let keyword;\n        if (typeof kwdOrDef == \"string\") {\n            keyword = kwdOrDef;\n            if (typeof def == \"object\") {\n                this.logger.warn(\"these parameters are deprecated, see docs for addKeyword\");\n                def.keyword = keyword;\n            }\n        }\n        else if (typeof kwdOrDef == \"object\" && def === undefined) {\n            def = kwdOrDef;\n            keyword = def.keyword;\n            if (Array.isArray(keyword) && !keyword.length) {\n                throw new Error(\"addKeywords: keyword must be string or non-empty array\");\n            }\n        }\n        else {\n            throw new Error(\"invalid addKeywords parameters\");\n        }\n        checkKeyword.call(this, keyword, def);\n        if (!def) {\n            util_1.eachItem(keyword, (kwd) => addRule.call(this, kwd));\n            return this;\n        }\n        keywordMetaschema.call(this, def);\n        const definition = {\n            ...def,\n            type: dataType_1.getJSONTypes(def.type),\n            schemaType: dataType_1.getJSONTypes(def.schemaType),\n        };\n        util_1.eachItem(keyword, definition.type.length === 0\n            ? (k) => addRule.call(this, k, definition)\n            : (k) => definition.type.forEach((t) => addRule.call(this, k, definition, t)));\n        return this;\n    }\n    getKeyword(keyword) {\n        const rule = this.RULES.all[keyword];\n        return typeof rule == \"object\" ? rule.definition : !!rule;\n    }\n    // Remove keyword\n    removeKeyword(keyword) {\n        // TODO return type should be Ajv\n        const { RULES } = this;\n        delete RULES.keywords[keyword];\n        delete RULES.all[keyword];\n        for (const group of RULES.rules) {\n            const i = group.rules.findIndex((rule) => rule.keyword === keyword);\n            if (i >= 0)\n                group.rules.splice(i, 1);\n        }\n        return this;\n    }\n    // Add format\n    addFormat(name, format) {\n        if (typeof format == \"string\")\n            format = new RegExp(format);\n        this.formats[name] = format;\n        return this;\n    }\n    errorsText(errors = this.errors, // optional array of validation errors\n    { separator = \", \", dataVar = \"data\" } = {} // optional options with properties `separator` and `dataVar`\n    ) {\n        if (!errors || errors.length === 0)\n            return \"No errors\";\n        return errors\n            .map((e) => `${dataVar}${e.dataPath} ${e.message}`)\n            .reduce((text, msg) => text + separator + msg);\n    }\n    $dataMetaSchema(metaSchema, keywordsJsonPointers) {\n        const rules = this.RULES.all;\n        metaSchema = JSON.parse(JSON.stringify(metaSchema));\n        for (const jsonPointer of keywordsJsonPointers) {\n            const segments = jsonPointer.split(\"/\").slice(1); // first segment is an empty string\n            let keywords = metaSchema;\n            for (const seg of segments)\n                keywords = keywords[seg];\n            for (const key in rules) {\n                const rule = rules[key];\n                if (typeof rule != \"object\")\n                    continue;\n                const { $data } = rule.definition;\n                const schema = keywords[key];\n                if ($data && schema)\n                    keywords[key] = schemaOrData(schema);\n            }\n        }\n        return metaSchema;\n    }\n    _removeAllSchemas(schemas, regex) {\n        for (const keyRef in schemas) {\n            const sch = schemas[keyRef];\n            if (!regex || regex.test(keyRef)) {\n                if (typeof sch == \"string\") {\n                    delete schemas[keyRef];\n                }\n                else if (sch && !sch.meta) {\n                    this._cache.delete(sch.schema);\n                    delete schemas[keyRef];\n                }\n            }\n        }\n    }\n    _addSchema(schema, meta, validateSchema = this.opts.validateSchema, addSchema = this.opts.addUsedSchema) {\n        if (typeof schema != \"object\") {\n            if (this.opts.jtd)\n                throw new Error(\"schema must be object\");\n            else if (typeof schema != \"boolean\")\n                throw new Error(\"schema must be object or boolean\");\n        }\n        let sch = this._cache.get(schema);\n        if (sch !== undefined)\n            return sch;\n        const localRefs = resolve_1.getSchemaRefs.call(this, schema);\n        sch = new compile_1.SchemaEnv({ schema, meta, localRefs });\n        this._cache.set(sch.schema, sch);\n        const id = sch.baseId;\n        if (addSchema && !id.startsWith(\"#\")) {\n            // TODO atm it is allowed to overwrite schemas without id (instead of not adding them)\n            if (id)\n                this._checkUnique(id);\n            this.refs[id] = sch;\n        }\n        if (validateSchema)\n            this.validateSchema(schema, true);\n        return sch;\n    }\n    _checkUnique(id) {\n        if (this.schemas[id] || this.refs[id]) {\n            throw new Error(`schema with key or id \"${id}\" already exists`);\n        }\n    }\n    _compileSchemaEnv(sch) {\n        if (sch.meta)\n            this._compileMetaSchema(sch);\n        else\n            compile_1.compileSchema.call(this, sch);\n        /* istanbul ignore if */\n        if (!sch.validate)\n            throw new Error(\"ajv implementation error\");\n        return sch.validate;\n    }\n    _compileMetaSchema(sch) {\n        const currentOpts = this.opts;\n        this.opts = this._metaOpts;\n        try {\n            compile_1.compileSchema.call(this, sch);\n        }\n        finally {\n            this.opts = currentOpts;\n        }\n    }\n}\nexports.default = Ajv;\nAjv.ValidationError = error_classes_1.ValidationError;\nAjv.MissingRefError = error_classes_1.MissingRefError;\nfunction checkOptions(checkOpts, options, msg, log = \"error\") {\n    for (const key in checkOpts) {\n        const opt = key;\n        if (opt in options)\n            this.logger[log](`${msg}: option ${key}. ${checkOpts[opt]}`);\n    }\n}\nfunction getSchEnv(keyRef) {\n    keyRef = resolve_1.normalizeId(keyRef); // TODO tests fail without this line\n    return this.schemas[keyRef] || this.refs[keyRef];\n}\nfunction addInitialSchemas() {\n    const optsSchemas = this.opts.schemas;\n    if (!optsSchemas)\n        return;\n    if (Array.isArray(optsSchemas))\n        this.addSchema(optsSchemas);\n    else\n        for (const key in optsSchemas)\n            this.addSchema(optsSchemas[key], key);\n}\nfunction addInitialFormats() {\n    for (const name in this.opts.formats) {\n        const format = this.opts.formats[name];\n        if (format)\n            this.addFormat(name, format);\n    }\n}\nfunction addInitialKeywords(defs) {\n    if (Array.isArray(defs)) {\n        this.addVocabulary(defs);\n        return;\n    }\n    this.logger.warn(\"keywords option as map is deprecated, pass array\");\n    for (const keyword in defs) {\n        const def = defs[keyword];\n        if (!def.keyword)\n            def.keyword = keyword;\n        this.addKeyword(def);\n    }\n}\nfunction getMetaSchemaOptions() {\n    const metaOpts = { ...this.opts };\n    for (const opt of META_IGNORE_OPTIONS)\n        delete metaOpts[opt];\n    return metaOpts;\n}\nconst noLogs = { log() { }, warn() { }, error() { } };\nfunction getLogger(logger) {\n    if (logger === false)\n        return noLogs;\n    if (logger === undefined)\n        return console;\n    if (logger.log && logger.warn && logger.error)\n        return logger;\n    throw new Error(\"logger must implement log, warn and error methods\");\n}\nconst KEYWORD_NAME = /^[a-z_$][a-z0-9_$:-]*$/i;\nfunction checkKeyword(keyword, def) {\n    const { RULES } = this;\n    util_1.eachItem(keyword, (kwd) => {\n        if (RULES.keywords[kwd])\n            throw new Error(`Keyword ${kwd} is already defined`);\n        if (!KEYWORD_NAME.test(kwd))\n            throw new Error(`Keyword ${kwd} has invalid name`);\n    });\n    if (!def)\n        return;\n    if (def.$data && !(\"code\" in def || \"validate\" in def)) {\n        throw new Error('$data keyword must have \"code\" or \"validate\" function');\n    }\n}\nfunction addRule(keyword, definition, dataType) {\n    var _a;\n    const post = definition === null || definition === void 0 ? void 0 : definition.post;\n    if (dataType && post)\n        throw new Error('keyword with \"post\" flag cannot have \"type\"');\n    const { RULES } = this;\n    let ruleGroup = post ? RULES.post : RULES.rules.find(({ type: t }) => t === dataType);\n    if (!ruleGroup) {\n        ruleGroup = { type: dataType, rules: [] };\n        RULES.rules.push(ruleGroup);\n    }\n    RULES.keywords[keyword] = true;\n    if (!definition)\n        return;\n    const rule = {\n        keyword,\n        definition: {\n            ...definition,\n            type: dataType_1.getJSONTypes(definition.type),\n            schemaType: dataType_1.getJSONTypes(definition.schemaType),\n        },\n    };\n    if (definition.before)\n        addBeforeRule.call(this, ruleGroup, rule, definition.before);\n    else\n        ruleGroup.rules.push(rule);\n    RULES.all[keyword] = rule;\n    (_a = definition.implements) === null || _a === void 0 ? void 0 : _a.forEach((kwd) => this.addKeyword(kwd));\n}\nfunction addBeforeRule(ruleGroup, rule, before) {\n    const i = ruleGroup.rules.findIndex((_rule) => _rule.keyword === before);\n    if (i >= 0) {\n        ruleGroup.rules.splice(i, 0, rule);\n    }\n    else {\n        ruleGroup.rules.push(rule);\n        this.logger.warn(`rule ${before} is not defined`);\n    }\n}\nfunction keywordMetaschema(def) {\n    let { metaSchema } = def;\n    if (metaSchema === undefined)\n        return;\n    if (def.$data && this.opts.$data)\n        metaSchema = schemaOrData(metaSchema);\n    def.validateSchema = this.compile(metaSchema, true);\n}\nconst $dataRef = {\n    $ref: \"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#\",\n};\nfunction schemaOrData(schema) {\n    return { anyOf: [schema, $dataRef] };\n}\n//# sourceMappingURL=core.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst core_1 = require(\"./core\");\nconst validation_1 = require(\"./validation\");\nconst applicator_1 = require(\"./applicator\");\nconst format_1 = require(\"./format\");\nconst metadata_1 = require(\"./metadata\");\nconst draft7Vocabularies = [\n    core_1.default,\n    validation_1.default,\n    applicator_1.default,\n    format_1.default,\n    metadata_1.metadataVocabulary,\n    metadata_1.contentVocabulary,\n];\nexports.default = draft7Vocabularies;\n//# sourceMappingURL=draft7.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst id_1 = require(\"./id\");\nconst ref_1 = require(\"./ref\");\nconst core = [\n    \"$schema\",\n    \"$id\",\n    \"$defs\",\n    \"$vocabulary\",\n    { keyword: \"$comment\" },\n    \"definitions\",\n    id_1.default,\n    ref_1.default,\n];\nexports.default = core;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst def = {\n    keyword: \"id\",\n    code() {\n        throw new Error('NOT SUPPORTED: keyword \"id\", use \"$id\" for schema ID');\n    },\n};\nexports.default = def;\n//# sourceMappingURL=id.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.callRef = exports.getValidate = void 0;\nconst error_classes_1 = require(\"../../compile/error_classes\");\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst names_1 = require(\"../../compile/names\");\nconst compile_1 = require(\"../../compile\");\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"$ref\",\n    schemaType: \"string\",\n    code(cxt) {\n        const { gen, schema, it } = cxt;\n        const { baseId, schemaEnv: env, validateName, opts, self } = it;\n        // TODO See comment in dynamicRef.ts\n        // This has to be improved to resolve #815.\n        if (schema === \"#\" || schema === \"#/\")\n            return callRootRef();\n        const schOrEnv = compile_1.resolveRef.call(self, env.root, baseId, schema);\n        if (schOrEnv === undefined)\n            throw new error_classes_1.MissingRefError(baseId, schema);\n        if (schOrEnv instanceof compile_1.SchemaEnv)\n            return callValidate(schOrEnv);\n        return inlineRefSchema(schOrEnv);\n        function callRootRef() {\n            if (env === env.root)\n                return callRef(cxt, validateName, env, env.$async);\n            const rootName = gen.scopeValue(\"root\", { ref: env.root });\n            return callRef(cxt, codegen_1._ `${rootName}.validate`, env.root, env.root.$async);\n        }\n        function callValidate(sch) {\n            const v = getValidate(cxt, sch);\n            callRef(cxt, v, sch, sch.$async);\n        }\n        function inlineRefSchema(sch) {\n            const schName = gen.scopeValue(\"schema\", opts.code.source === true ? { ref: sch, code: codegen_1.stringify(sch) } : { ref: sch });\n            const valid = gen.name(\"valid\");\n            const schCxt = cxt.subschema({\n                schema: sch,\n                dataTypes: [],\n                schemaPath: codegen_1.nil,\n                topSchemaRef: schName,\n                errSchemaPath: schema,\n            }, valid);\n            cxt.mergeEvaluated(schCxt);\n            cxt.ok(valid);\n        }\n    },\n};\nfunction getValidate(cxt, sch) {\n    const { gen } = cxt;\n    return sch.validate\n        ? gen.scopeValue(\"validate\", { ref: sch.validate })\n        : codegen_1._ `${gen.scopeValue(\"wrapper\", { ref: sch })}.validate`;\n}\nexports.getValidate = getValidate;\nfunction callRef(cxt, v, sch, $async) {\n    const { gen, it } = cxt;\n    const { allErrors, schemaEnv: env, opts } = it;\n    const passCxt = opts.passContext ? names_1.default.this : codegen_1.nil;\n    if ($async)\n        callAsyncRef();\n    else\n        callSyncRef();\n    function callAsyncRef() {\n        if (!env.$async)\n            throw new Error(\"async schema referenced by sync schema\");\n        const valid = gen.let(\"valid\");\n        gen.try(() => {\n            gen.code(codegen_1._ `await ${code_1.callValidateCode(cxt, v, passCxt)}`);\n            addEvaluatedFrom(v); // TODO will not work with async, it has to be returned with the result\n            if (!allErrors)\n                gen.assign(valid, true);\n        }, (e) => {\n            gen.if(codegen_1._ `!(${e} instanceof ${it.ValidationError})`, () => gen.throw(e));\n            addErrorsFrom(e);\n            if (!allErrors)\n                gen.assign(valid, false);\n        });\n        cxt.ok(valid);\n    }\n    function callSyncRef() {\n        cxt.result(code_1.callValidateCode(cxt, v, passCxt), () => addEvaluatedFrom(v), () => addErrorsFrom(v));\n    }\n    function addErrorsFrom(source) {\n        const errs = codegen_1._ `${source}.errors`;\n        gen.assign(names_1.default.vErrors, codegen_1._ `${names_1.default.vErrors} === null ? ${errs} : ${names_1.default.vErrors}.concat(${errs})`); // TODO tagged\n        gen.assign(names_1.default.errors, codegen_1._ `${names_1.default.vErrors}.length`);\n    }\n    function addEvaluatedFrom(source) {\n        var _a;\n        if (!it.opts.unevaluated)\n            return;\n        const schEvaluated = (_a = sch === null || sch === void 0 ? void 0 : sch.validate) === null || _a === void 0 ? void 0 : _a.evaluated;\n        // TODO refactor\n        if (it.props !== true) {\n            if (schEvaluated && !schEvaluated.dynamicProps) {\n                if (schEvaluated.props !== undefined) {\n                    it.props = util_1.mergeEvaluated.props(gen, schEvaluated.props, it.props);\n                }\n            }\n            else {\n                const props = gen.var(\"props\", codegen_1._ `${source}.evaluated.props`);\n                it.props = util_1.mergeEvaluated.props(gen, props, it.props, codegen_1.Name);\n            }\n        }\n        if (it.items !== true) {\n            if (schEvaluated && !schEvaluated.dynamicItems) {\n                if (schEvaluated.items !== undefined) {\n                    it.items = util_1.mergeEvaluated.items(gen, schEvaluated.items, it.items);\n                }\n            }\n            else {\n                const items = gen.var(\"items\", codegen_1._ `${source}.evaluated.items`);\n                it.items = util_1.mergeEvaluated.items(gen, items, it.items, codegen_1.Name);\n            }\n        }\n    }\n}\nexports.callRef = callRef;\nexports.default = def;\n//# sourceMappingURL=ref.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst limitNumber_1 = require(\"./limitNumber\");\nconst multipleOf_1 = require(\"./multipleOf\");\nconst limitLength_1 = require(\"./limitLength\");\nconst pattern_1 = require(\"./pattern\");\nconst limitProperties_1 = require(\"./limitProperties\");\nconst required_1 = require(\"./required\");\nconst limitItems_1 = require(\"./limitItems\");\nconst uniqueItems_1 = require(\"./uniqueItems\");\nconst const_1 = require(\"./const\");\nconst enum_1 = require(\"./enum\");\nconst validation = [\n    // number\n    limitNumber_1.default,\n    multipleOf_1.default,\n    // string\n    limitLength_1.default,\n    pattern_1.default,\n    // object\n    limitProperties_1.default,\n    required_1.default,\n    // array\n    limitItems_1.default,\n    uniqueItems_1.default,\n    // any\n    { keyword: \"type\", schemaType: [\"string\", \"array\"] },\n    { keyword: \"nullable\", schemaType: \"boolean\" },\n    const_1.default,\n    enum_1.default,\n];\nexports.default = validation;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst ops = codegen_1.operators;\nconst KWDs = {\n    maximum: { okStr: \"<=\", ok: ops.LTE, fail: ops.GT },\n    minimum: { okStr: \">=\", ok: ops.GTE, fail: ops.LT },\n    exclusiveMaximum: { okStr: \"<\", ok: ops.LT, fail: ops.GTE },\n    exclusiveMinimum: { okStr: \">\", ok: ops.GT, fail: ops.LTE },\n};\nconst error = {\n    message: ({ keyword, schemaCode }) => codegen_1.str `should be ${KWDs[keyword].okStr} ${schemaCode}`,\n    params: ({ keyword, schemaCode }) => codegen_1._ `{comparison: ${KWDs[keyword].okStr}, limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: Object.keys(KWDs),\n    type: \"number\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        cxt.fail$data(codegen_1._ `${data} ${KWDs[keyword].fail} ${schemaCode} || isNaN(${data})`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitNumber.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => codegen_1.str `should be multiple of ${schemaCode}`,\n    params: ({ schemaCode }) => codegen_1._ `{multipleOf: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"multipleOf\",\n    type: \"number\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, schemaCode, it } = cxt;\n        // const bdt = bad$DataType(schemaCode, <string>def.schemaType, $data)\n        const prec = it.opts.multipleOfPrecision;\n        const res = gen.let(\"res\");\n        const invalid = prec\n            ? codegen_1._ `Math.abs(Math.round(${res}) - ${res}) > 1e-${prec}`\n            : codegen_1._ `${res} !== parseInt(${res})`;\n        cxt.fail$data(codegen_1._ `(${schemaCode} === 0 || (${res} = ${data}/${schemaCode}, ${invalid}))`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=multipleOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst ucs2length_1 = require(\"../../compile/ucs2length\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxLength\" ? \"more\" : \"fewer\";\n        return codegen_1.str `should NOT have ${comp} than ${schemaCode} characters`;\n    },\n    params: ({ schemaCode }) => codegen_1._ `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxLength\", \"minLength\"],\n    type: \"string\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode, it } = cxt;\n        const op = keyword === \"maxLength\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        let len;\n        if (it.opts.unicode === false) {\n            len = codegen_1._ `${data}.length`;\n        }\n        else {\n            const u2l = cxt.gen.scopeValue(\"func\", {\n                ref: ucs2length_1.default,\n                code: codegen_1._ `require(\"ajv/dist/compile/ucs2length\").default`,\n            });\n            len = codegen_1._ `${u2l}(${data})`;\n        }\n        cxt.fail$data(codegen_1._ `${len} ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitLength.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// https://mathiasbynens.be/notes/javascript-encoding\n// https://github.com/bestiejs/punycode.js - punycode.ucs2.decode\nfunction ucs2length(str) {\n    const len = str.length;\n    let length = 0;\n    let pos = 0;\n    let value;\n    while (pos < len) {\n        length++;\n        value = str.charCodeAt(pos++);\n        if (value >= 0xd800 && value <= 0xdbff && pos < len) {\n            // high surrogate, and there is a next character\n            value = str.charCodeAt(pos);\n            if ((value & 0xfc00) === 0xdc00)\n                pos++; // low surrogate\n        }\n    }\n    return length;\n}\nexports.default = ucs2length;\n//# sourceMappingURL=ucs2length.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => codegen_1.str `should match pattern \"${schemaCode}\"`,\n    params: ({ schemaCode }) => codegen_1._ `{pattern: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"pattern\",\n    type: \"string\",\n    schemaType: \"string\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schema, schemaCode } = cxt;\n        const regExp = $data ? codegen_1._ `(new RegExp(${schemaCode}, \"u\"))` : code_1.usePattern(gen, schema); // TODO regexp should be wrapped in try/catch\n        cxt.fail$data(codegen_1._ `!${regExp}.test(${data})`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=pattern.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxProperties\" ? \"more\" : \"fewer\";\n        return codegen_1.str `should NOT have ${comp} than ${schemaCode} items`;\n    },\n    params: ({ schemaCode }) => codegen_1._ `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxProperties\", \"minProperties\"],\n    type: \"object\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        const op = keyword === \"maxProperties\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        cxt.fail$data(codegen_1._ `Object.keys(${data}).length ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitProperties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst validate_1 = require(\"../../compile/validate\");\nconst error = {\n    message: ({ params: { missingProperty } }) => codegen_1.str `should have required property '${missingProperty}'`,\n    params: ({ params: { missingProperty } }) => codegen_1._ `{missingProperty: ${missingProperty}}`,\n};\nconst def = {\n    keyword: \"required\",\n    type: \"object\",\n    schemaType: \"array\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, schema, schemaCode, data, $data, it } = cxt;\n        const { opts } = it;\n        if (!$data && schema.length === 0)\n            return;\n        const useLoop = schema.length >= opts.loopRequired;\n        if (it.allErrors)\n            allErrorsMode();\n        else\n            exitOnErrorMode();\n        if (opts.strictRequired) {\n            const props = cxt.parentSchema.properties;\n            const { definedProperties } = cxt.it;\n            for (const requiredKey of schema) {\n                if ((props === null || props === void 0 ? void 0 : props[requiredKey]) === undefined && !definedProperties.has(requiredKey)) {\n                    const schemaPath = it.schemaEnv.baseId + it.errSchemaPath;\n                    const msg = `required property \"${requiredKey}\" is not defined at \"${schemaPath}\" (strictRequired)`;\n                    validate_1.checkStrictMode(it, msg, it.opts.strictRequired);\n                }\n            }\n        }\n        function allErrorsMode() {\n            if (useLoop || $data) {\n                cxt.block$data(codegen_1.nil, loopAllRequired);\n            }\n            else {\n                for (const prop of schema) {\n                    code_1.checkReportMissingProp(cxt, prop);\n                }\n            }\n        }\n        function exitOnErrorMode() {\n            const missing = gen.let(\"missing\");\n            if (useLoop || $data) {\n                const valid = gen.let(\"valid\", true);\n                cxt.block$data(valid, () => loopUntilMissing(missing, valid));\n                cxt.ok(valid);\n            }\n            else {\n                gen.if(code_1.checkMissingProp(cxt, schema, missing));\n                code_1.reportMissingProp(cxt, missing);\n                gen.else();\n            }\n        }\n        function loopAllRequired() {\n            gen.forOf(\"prop\", schemaCode, (prop) => {\n                cxt.setParams({ missingProperty: prop });\n                gen.if(code_1.noPropertyInData(gen, data, prop, opts.ownProperties), () => cxt.error());\n            });\n        }\n        function loopUntilMissing(missing, valid) {\n            cxt.setParams({ missingProperty: missing });\n            gen.forOf(missing, schemaCode, () => {\n                gen.assign(valid, code_1.propertyInData(gen, data, missing, opts.ownProperties));\n                gen.if(codegen_1.not(valid), () => {\n                    cxt.error();\n                    gen.break();\n                });\n            }, codegen_1.nil);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=required.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxItems\" ? \"more\" : \"fewer\";\n        return codegen_1.str `should NOT have ${comp} than ${schemaCode} items`;\n    },\n    params: ({ schemaCode }) => codegen_1._ `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxItems\", \"minItems\"],\n    type: \"array\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        const op = keyword === \"maxItems\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        cxt.fail$data(codegen_1._ `${data}.length ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst dataType_1 = require(\"../../compile/validate/dataType\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst equal = require(\"fast-deep-equal\");\nconst error = {\n    message: ({ params: { i, j } }) => codegen_1.str `should NOT have duplicate items (items ## ${j} and ${i} are identical)`,\n    params: ({ params: { i, j } }) => codegen_1._ `{i: ${i}, j: ${j}}`,\n};\nconst def = {\n    keyword: \"uniqueItems\",\n    type: \"array\",\n    schemaType: \"boolean\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schema, parentSchema, schemaCode, it } = cxt;\n        if (!$data && !schema)\n            return;\n        const valid = gen.let(\"valid\");\n        const itemTypes = parentSchema.items ? dataType_1.getSchemaTypes(parentSchema.items) : [];\n        cxt.block$data(valid, validateUniqueItems, codegen_1._ `${schemaCode} === false`);\n        cxt.ok(valid);\n        function validateUniqueItems() {\n            const i = gen.let(\"i\", codegen_1._ `${data}.length`);\n            const j = gen.let(\"j\");\n            cxt.setParams({ i, j });\n            gen.assign(valid, true);\n            gen.if(codegen_1._ `${i} > 1`, () => (canOptimize() ? loopN : loopN2)(i, j));\n        }\n        function canOptimize() {\n            return itemTypes.length > 0 && !itemTypes.some((t) => t === \"object\" || t === \"array\");\n        }\n        function loopN(i, j) {\n            const item = gen.name(\"item\");\n            const wrongType = dataType_1.checkDataTypes(itemTypes, item, it.opts.strict, dataType_1.DataType.Wrong);\n            const indices = gen.const(\"indices\", codegen_1._ `{}`);\n            gen.for(codegen_1._ `;${i}--;`, () => {\n                gen.let(item, codegen_1._ `${data}[${i}]`);\n                gen.if(wrongType, codegen_1._ `continue`);\n                if (itemTypes.length > 1)\n                    gen.if(codegen_1._ `typeof ${item} == \"string\"`, codegen_1._ `${item} += \"_\"`);\n                gen\n                    .if(codegen_1._ `typeof ${indices}[${item}] == \"number\"`, () => {\n                    gen.assign(j, codegen_1._ `${indices}[${item}]`);\n                    cxt.error();\n                    gen.assign(valid, false).break();\n                })\n                    .code(codegen_1._ `${indices}[${item}] = ${i}`);\n            });\n        }\n        function loopN2(i, j) {\n            const eql = cxt.gen.scopeValue(\"func\", {\n                ref: equal,\n                code: codegen_1._ `require(\"ajv/dist/compile/equal\")`,\n            });\n            const outer = gen.name(\"outer\");\n            gen.label(outer).for(codegen_1._ `;${i}--;`, () => gen.for(codegen_1._ `${j} = ${i}; ${j}--;`, () => gen.if(codegen_1._ `${eql}(${data}[${i}], ${data}[${j}])`, () => {\n                cxt.error();\n                gen.assign(valid, false).break(outer);\n            })));\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=uniqueItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst equal = require(\"fast-deep-equal\");\nconst error = {\n    message: \"should be equal to constant\",\n    params: ({ schemaCode }) => codegen_1._ `{allowedValue: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"const\",\n    $data: true,\n    error,\n    code(cxt) {\n        const eql = cxt.gen.scopeValue(\"func\", {\n            ref: equal,\n            code: codegen_1._ `require(\"ajv/dist/compile/equal\")`,\n        });\n        // TODO optimize for scalar values in schema\n        cxt.fail$data(codegen_1._ `!${eql}(${cxt.data}, ${cxt.schemaCode})`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=const.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst equal = require(\"fast-deep-equal\");\nconst error = {\n    message: \"should be equal to one of the allowed values\",\n    params: ({ schemaCode }) => codegen_1._ `{allowedValues: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"enum\",\n    schemaType: \"array\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schema, schemaCode, it } = cxt;\n        if (!$data && schema.length === 0)\n            throw new Error(\"enum must have non-empty array\");\n        const useLoop = schema.length >= it.opts.loopEnum;\n        const eql = cxt.gen.scopeValue(\"func\", {\n            ref: equal,\n            code: codegen_1._ `require(\"ajv/dist/compile/equal\")`,\n        });\n        let valid;\n        if (useLoop || $data) {\n            valid = gen.let(\"valid\");\n            cxt.block$data(valid, loopEnum);\n        }\n        else {\n            /* istanbul ignore if */\n            if (!Array.isArray(schema))\n                throw new Error(\"ajv implementation error\");\n            const vSchema = gen.const(\"vSchema\", schemaCode);\n            valid = codegen_1.or(...schema.map((_x, i) => equalCode(vSchema, i)));\n        }\n        cxt.pass(valid);\n        function loopEnum() {\n            gen.assign(valid, false);\n            gen.forOf(\"v\", schemaCode, (v) => gen.if(codegen_1._ `${eql}(${data}, ${v})`, () => gen.assign(valid, true).break()));\n        }\n        function equalCode(vSchema, i) {\n            const sch = schema[i];\n            return sch && typeof sch === \"object\"\n                ? codegen_1._ `${eql}(${data}, ${vSchema}[${i}])`\n                : codegen_1._ `${data} === ${sch}`;\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=enum.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst additionalItems_1 = require(\"./additionalItems\");\nconst items_1 = require(\"./items\");\nconst contains_1 = require(\"./contains\");\nconst dependencies_1 = require(\"./dependencies\");\nconst propertyNames_1 = require(\"./propertyNames\");\nconst additionalProperties_1 = require(\"./additionalProperties\");\nconst properties_1 = require(\"./properties\");\nconst patternProperties_1 = require(\"./patternProperties\");\nconst not_1 = require(\"./not\");\nconst anyOf_1 = require(\"./anyOf\");\nconst oneOf_1 = require(\"./oneOf\");\nconst allOf_1 = require(\"./allOf\");\nconst if_1 = require(\"./if\");\nconst thenElse_1 = require(\"./thenElse\");\nconst applicator = [\n    // any\n    not_1.default,\n    anyOf_1.default,\n    oneOf_1.default,\n    allOf_1.default,\n    if_1.default,\n    thenElse_1.default,\n    // array\n    additionalItems_1.default,\n    items_1.default,\n    contains_1.default,\n    // object\n    propertyNames_1.default,\n    additionalProperties_1.default,\n    dependencies_1.default,\n    properties_1.default,\n    patternProperties_1.default,\n];\nexports.default = applicator;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst subschema_1 = require(\"../../compile/subschema\");\nconst util_1 = require(\"../../compile/util\");\nconst validate_1 = require(\"../../compile/validate\");\nconst error = {\n    message: ({ params: { len } }) => codegen_1.str `should NOT have more than ${len} items`,\n    params: ({ params: { len } }) => codegen_1._ `{limit: ${len}}`,\n};\nconst def = {\n    keyword: \"additionalItems\",\n    type: \"array\",\n    schemaType: [\"boolean\", \"object\"],\n    before: \"uniqueItems\",\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, data, it } = cxt;\n        const { items } = parentSchema;\n        if (!Array.isArray(items)) {\n            validate_1.checkStrictMode(it, '\"additionalItems\" is ignored when \"items\" is not an array of schemas');\n            return;\n        }\n        it.items = true;\n        const len = gen.const(\"len\", codegen_1._ `${data}.length`);\n        if (schema === false) {\n            cxt.setParams({ len: items.length });\n            cxt.pass(codegen_1._ `${len} <= ${items.length}`);\n        }\n        else if (typeof schema == \"object\" && !util_1.alwaysValidSchema(it, schema)) {\n            const valid = gen.var(\"valid\", codegen_1._ `${len} <= ${items.length}`); // TODO var\n            gen.if(codegen_1.not(valid), () => validateItems(valid));\n            cxt.ok(valid);\n        }\n        function validateItems(valid) {\n            gen.forRange(\"i\", items.length, len, (i) => {\n                cxt.subschema({ keyword: \"additionalItems\", dataProp: i, dataPropType: subschema_1.Type.Num }, valid);\n                if (!it.allErrors)\n                    gen.if(codegen_1.not(valid), () => gen.break());\n            });\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=additionalItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst validate_1 = require(\"../../compile/validate\");\nconst code_1 = require(\"../code\");\nconst def = {\n    keyword: \"items\",\n    type: \"array\",\n    schemaType: [\"object\", \"array\", \"boolean\"],\n    before: \"uniqueItems\",\n    code(cxt) {\n        const { gen, schema, it } = cxt;\n        if (Array.isArray(schema)) {\n            if (it.opts.unevaluated && schema.length && it.items !== true) {\n                it.items = util_1.mergeEvaluated.items(gen, schema.length, it.items);\n            }\n            validateTuple(schema);\n        }\n        else {\n            it.items = true;\n            if (util_1.alwaysValidSchema(it, schema))\n                return;\n            cxt.ok(code_1.validateArray(cxt));\n        }\n        function validateTuple(schArr) {\n            const { parentSchema, data } = cxt;\n            if (it.opts.strictTuples && !fullTupleSchema(schArr.length, parentSchema)) {\n                const msg = `\"items\" is ${schArr.length}-tuple, but minItems or maxItems/additionalItems are not specified or different`;\n                validate_1.checkStrictMode(it, msg, it.opts.strictTuples);\n            }\n            const valid = gen.name(\"valid\");\n            const len = gen.const(\"len\", codegen_1._ `${data}.length`);\n            schArr.forEach((sch, i) => {\n                if (util_1.alwaysValidSchema(it, sch))\n                    return;\n                gen.if(codegen_1._ `${len} > ${i}`, () => cxt.subschema({\n                    keyword: \"items\",\n                    schemaProp: i,\n                    dataProp: i,\n                }, valid));\n                cxt.ok(valid);\n            });\n        }\n    },\n};\nfunction fullTupleSchema(len, sch) {\n    return len === sch.minItems && (len === sch.maxItems || sch.additionalItems === false);\n}\nexports.default = def;\n//# sourceMappingURL=items.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst subschema_1 = require(\"../../compile/subschema\");\nconst util_1 = require(\"../../compile/util\");\nconst validate_1 = require(\"../../compile/validate\");\nconst error = {\n    message: ({ params: { min, max } }) => max === undefined\n        ? codegen_1.str `should contain at least ${min} valid item(s)`\n        : codegen_1.str `should contain at least ${min} and no more than ${max} valid item(s)`,\n    params: ({ params: { min, max } }) => max === undefined ? codegen_1._ `{minContains: ${min}}` : codegen_1._ `{minContains: ${min}, maxContains: ${max}}`,\n};\nconst def = {\n    keyword: \"contains\",\n    type: \"array\",\n    schemaType: [\"object\", \"boolean\"],\n    before: \"uniqueItems\",\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, data, it } = cxt;\n        let min;\n        let max;\n        const { minContains, maxContains } = parentSchema;\n        if (it.opts.next) {\n            min = minContains === undefined ? 1 : minContains;\n            max = maxContains;\n        }\n        else {\n            min = 1;\n        }\n        const len = gen.const(\"len\", codegen_1._ `${data}.length`);\n        cxt.setParams({ min, max });\n        if (max === undefined && min === 0) {\n            validate_1.checkStrictMode(it, `\"minContains\" == 0 without \"maxContains\": \"contains\" keyword ignored`);\n            return;\n        }\n        if (max !== undefined && min > max) {\n            validate_1.checkStrictMode(it, `\"minContains\" > \"maxContains\" is always invalid`);\n            cxt.fail();\n            return;\n        }\n        if (util_1.alwaysValidSchema(it, schema)) {\n            let cond = codegen_1._ `${len} >= ${min}`;\n            if (max !== undefined)\n                cond = codegen_1._ `${cond} && ${len} <= ${max}`;\n            cxt.pass(cond);\n            return;\n        }\n        it.items = true;\n        const valid = gen.name(\"valid\");\n        if (max === undefined && min === 1) {\n            validateItems(valid, () => gen.if(valid, () => gen.break()));\n        }\n        else {\n            gen.let(valid, false);\n            const schValid = gen.name(\"_valid\");\n            const count = gen.let(\"count\", 0);\n            validateItems(schValid, () => gen.if(schValid, () => checkLimits(count)));\n        }\n        cxt.result(valid, () => cxt.reset());\n        function validateItems(_valid, block) {\n            gen.forRange(\"i\", 0, len, (i) => {\n                cxt.subschema({\n                    keyword: \"contains\",\n                    dataProp: i,\n                    dataPropType: subschema_1.Type.Num,\n                    compositeRule: true,\n                }, _valid);\n                block();\n            });\n        }\n        function checkLimits(count) {\n            gen.code(codegen_1._ `${count}++`);\n            if (max === undefined) {\n                gen.if(codegen_1._ `${count} >= ${min}`, () => gen.assign(valid, true).break());\n            }\n            else {\n                gen.if(codegen_1._ `${count} > ${max}`, () => gen.assign(valid, false).break());\n                if (min === 1)\n                    gen.assign(valid, true);\n                else\n                    gen.if(codegen_1._ `${count} >= ${min}`, () => gen.assign(valid, true));\n            }\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=contains.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateSchemaDeps = exports.validatePropertyDeps = exports.error = void 0;\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst code_1 = require(\"../code\");\nexports.error = {\n    message: ({ params: { property, depsCount, deps } }) => {\n        const property_ies = depsCount === 1 ? \"property\" : \"properties\";\n        return codegen_1.str `should have ${property_ies} ${deps} when property ${property} is present`;\n    },\n    params: ({ params: { property, depsCount, deps, missingProperty } }) => codegen_1._ `{property: ${property},\n    missingProperty: ${missingProperty},\n    depsCount: ${depsCount},\n    deps: ${deps}}`, // TODO change to reference\n};\nconst def = {\n    keyword: \"dependencies\",\n    type: \"object\",\n    schemaType: \"object\",\n    error: exports.error,\n    code(cxt) {\n        const [propDeps, schDeps] = splitDependencies(cxt);\n        validatePropertyDeps(cxt, propDeps);\n        validateSchemaDeps(cxt, schDeps);\n    },\n};\nfunction splitDependencies({ schema }) {\n    const propertyDeps = {};\n    const schemaDeps = {};\n    for (const key in schema) {\n        if (key === \"__proto__\")\n            continue;\n        const deps = Array.isArray(schema[key]) ? propertyDeps : schemaDeps;\n        deps[key] = schema[key];\n    }\n    return [propertyDeps, schemaDeps];\n}\nfunction validatePropertyDeps(cxt, propertyDeps = cxt.schema) {\n    const { gen, data, it } = cxt;\n    if (Object.keys(propertyDeps).length === 0)\n        return;\n    const missing = gen.let(\"missing\");\n    for (const prop in propertyDeps) {\n        const deps = propertyDeps[prop];\n        if (deps.length === 0)\n            continue;\n        const hasProperty = code_1.propertyInData(gen, data, prop, it.opts.ownProperties);\n        cxt.setParams({\n            property: prop,\n            depsCount: deps.length,\n            deps: deps.join(\", \"),\n        });\n        if (it.allErrors) {\n            gen.if(hasProperty, () => {\n                for (const depProp of deps) {\n                    code_1.checkReportMissingProp(cxt, depProp);\n                }\n            });\n        }\n        else {\n            gen.if(codegen_1._ `${hasProperty} && (${code_1.checkMissingProp(cxt, deps, missing)})`);\n            code_1.reportMissingProp(cxt, missing);\n            gen.else();\n        }\n    }\n}\nexports.validatePropertyDeps = validatePropertyDeps;\nfunction validateSchemaDeps(cxt, schemaDeps = cxt.schema) {\n    const { gen, data, keyword, it } = cxt;\n    const valid = gen.name(\"valid\");\n    for (const prop in schemaDeps) {\n        if (util_1.alwaysValidSchema(it, schemaDeps[prop]))\n            continue;\n        gen.if(code_1.propertyInData(gen, data, prop, it.opts.ownProperties), () => {\n            const schCxt = cxt.subschema({ keyword, schemaProp: prop }, valid);\n            cxt.mergeValidEvaluated(schCxt, valid);\n        }, () => gen.var(valid, true) // TODO var\n        );\n        cxt.ok(valid);\n    }\n}\nexports.validateSchemaDeps = validateSchemaDeps;\nexports.default = def;\n//# sourceMappingURL=dependencies.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params }) => codegen_1.str `property name '${params.propertyName}' is invalid`,\n    params: ({ params }) => codegen_1._ `{propertyName: ${params.propertyName}}`,\n};\nconst def = {\n    keyword: \"propertyNames\",\n    type: \"object\",\n    schemaType: [\"object\", \"boolean\"],\n    error,\n    code(cxt) {\n        const { gen, schema, data, it } = cxt;\n        if (util_1.alwaysValidSchema(it, schema))\n            return;\n        const valid = gen.name(\"valid\");\n        gen.forIn(\"key\", data, (key) => {\n            cxt.setParams({ propertyName: key });\n            cxt.subschema({\n                keyword: \"propertyNames\",\n                data: key,\n                dataTypes: [\"string\"],\n                propertyName: key,\n                compositeRule: true,\n            }, valid);\n            gen.if(codegen_1.not(valid), () => {\n                cxt.error(true);\n                if (!it.allErrors)\n                    gen.break();\n            });\n        });\n        cxt.ok(valid);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=propertyNames.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst context_1 = require(\"../../compile/context\");\nconst code_1 = require(\"../code\");\nconst util_1 = require(\"../../compile/util\");\nconst additionalProperties_1 = require(\"./additionalProperties\");\nconst def = {\n    keyword: \"properties\",\n    type: \"object\",\n    schemaType: \"object\",\n    code(cxt) {\n        const { gen, schema, parentSchema, data, it } = cxt;\n        if (it.opts.removeAdditional === \"all\" && parentSchema.additionalProperties === undefined) {\n            additionalProperties_1.default.code(new context_1.default(it, additionalProperties_1.default, \"additionalProperties\"));\n        }\n        const allProps = code_1.allSchemaProperties(schema);\n        for (const prop of allProps) {\n            it.definedProperties.add(prop);\n        }\n        if (it.opts.unevaluated && allProps.length && it.props !== true) {\n            it.props = util_1.mergeEvaluated.props(gen, util_1.toHash(allProps), it.props);\n        }\n        const properties = allProps.filter((p) => !util_1.alwaysValidSchema(it, schema[p]));\n        if (properties.length === 0)\n            return;\n        const valid = gen.name(\"valid\");\n        for (const prop of properties) {\n            if (hasDefault(prop)) {\n                applyPropertySchema(prop);\n            }\n            else {\n                gen.if(code_1.propertyInData(gen, data, prop, it.opts.ownProperties));\n                applyPropertySchema(prop);\n                if (!it.allErrors)\n                    gen.else().var(valid, true);\n                gen.endIf();\n            }\n            cxt.it.definedProperties.add(prop);\n            cxt.ok(valid);\n        }\n        function hasDefault(prop) {\n            return it.opts.useDefaults && !it.compositeRule && schema[prop].default !== undefined;\n        }\n        function applyPropertySchema(prop) {\n            cxt.subschema({\n                keyword: \"properties\",\n                schemaProp: prop,\n                dataProp: prop,\n            }, valid);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=properties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst subschema_1 = require(\"../../compile/subschema\");\nconst validate_1 = require(\"../../compile/validate\");\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"patternProperties\",\n    type: \"object\",\n    schemaType: \"object\",\n    code(cxt) {\n        const { gen, schema, data, parentSchema, it } = cxt;\n        const { opts } = it;\n        const patterns = code_1.schemaProperties(it, schema);\n        // TODO mark properties matching patterns with always valid schemas as evaluated\n        if (patterns.length === 0)\n            return;\n        const checkProperties = opts.strict && !opts.allowMatchingProperties && parentSchema.properties;\n        const valid = gen.name(\"valid\");\n        if (it.props !== true && !(it.props instanceof codegen_1.Name)) {\n            it.props = util_1.evaluatedPropsToName(gen, it.props);\n        }\n        const { props } = it;\n        validatePatternProperties();\n        function validatePatternProperties() {\n            for (const pat of patterns) {\n                if (checkProperties)\n                    checkMatchingProperties(pat);\n                if (it.allErrors) {\n                    validateProperties(pat);\n                }\n                else {\n                    gen.var(valid, true); // TODO var\n                    validateProperties(pat);\n                    gen.if(valid);\n                }\n            }\n        }\n        function checkMatchingProperties(pat) {\n            for (const prop in checkProperties) {\n                if (new RegExp(pat).test(prop)) {\n                    validate_1.checkStrictMode(it, `property ${prop} matches pattern ${pat} (use allowMatchingProperties)`);\n                }\n            }\n        }\n        function validateProperties(pat) {\n            gen.forIn(\"key\", data, (key) => {\n                gen.if(codegen_1._ `${code_1.usePattern(gen, pat)}.test(${key})`, () => {\n                    cxt.subschema({\n                        keyword: \"patternProperties\",\n                        schemaProp: pat,\n                        dataProp: key,\n                        dataPropType: subschema_1.Type.Str,\n                    }, valid);\n                    if (it.opts.unevaluated && props !== true) {\n                        gen.assign(codegen_1._ `${props}[${key}]`, true);\n                    }\n                    else if (!it.allErrors) {\n                        // can short-circuit if `unevaluatedProperties` is not supported (opts.next === false)\n                        // or if all properties were evaluated (props === true)\n                        gen.if(codegen_1.not(valid), () => gen.break());\n                    }\n                });\n            });\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=patternProperties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"not\",\n    schemaType: [\"object\", \"boolean\"],\n    trackErrors: true,\n    code(cxt) {\n        const { gen, schema, it } = cxt;\n        if (util_1.alwaysValidSchema(it, schema)) {\n            cxt.fail();\n            return;\n        }\n        const valid = gen.name(\"valid\");\n        cxt.subschema({\n            keyword: \"not\",\n            compositeRule: true,\n            createErrors: false,\n            allErrors: false,\n        }, valid);\n        cxt.result(valid, () => cxt.error(), () => cxt.reset());\n    },\n    error: {\n        message: \"should NOT be valid\",\n    },\n};\nexports.default = def;\n//# sourceMappingURL=not.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst def = {\n    keyword: \"anyOf\",\n    schemaType: \"array\",\n    trackErrors: true,\n    code: code_1.validateUnion,\n    error: {\n        message: \"should match some schema in anyOf\",\n    },\n};\nexports.default = def;\n//# sourceMappingURL=anyOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: \"should match exactly one schema in oneOf\",\n    params: ({ params }) => codegen_1._ `{passingSchemas: ${params.passing}}`,\n};\nconst def = {\n    keyword: \"oneOf\",\n    schemaType: \"array\",\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, it } = cxt;\n        /* istanbul ignore if */\n        if (!Array.isArray(schema))\n            throw new Error(\"ajv implementation error\");\n        const schArr = schema;\n        const valid = gen.let(\"valid\", false);\n        const passing = gen.let(\"passing\", null);\n        const schValid = gen.name(\"_valid\");\n        cxt.setParams({ passing });\n        // TODO possibly fail straight away (with warning or exception) if there are two empty always valid schemas\n        gen.block(validateOneOf);\n        cxt.result(valid, () => cxt.reset(), () => cxt.error(true));\n        function validateOneOf() {\n            schArr.forEach((sch, i) => {\n                let schCxt;\n                if (util_1.alwaysValidSchema(it, sch)) {\n                    gen.var(schValid, true);\n                }\n                else {\n                    schCxt = cxt.subschema({\n                        keyword: \"oneOf\",\n                        schemaProp: i,\n                        compositeRule: true,\n                    }, schValid);\n                }\n                if (i > 0) {\n                    gen\n                        .if(codegen_1._ `${schValid} && ${valid}`)\n                        .assign(valid, false)\n                        .assign(passing, codegen_1._ `[${passing}, ${i}]`)\n                        .else();\n                }\n                gen.if(schValid, () => {\n                    gen.assign(valid, true);\n                    gen.assign(passing, i);\n                    if (schCxt)\n                        cxt.mergeEvaluated(schCxt, codegen_1.Name);\n                });\n            });\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=oneOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"allOf\",\n    schemaType: \"array\",\n    code(cxt) {\n        const { gen, schema, it } = cxt;\n        /* istanbul ignore if */\n        if (!Array.isArray(schema))\n            throw new Error(\"ajv implementation error\");\n        const valid = gen.name(\"valid\");\n        schema.forEach((sch, i) => {\n            if (util_1.alwaysValidSchema(it, sch))\n                return;\n            const schCxt = cxt.subschema({ keyword: \"allOf\", schemaProp: i }, valid);\n            cxt.ok(valid);\n            cxt.mergeEvaluated(schCxt);\n        });\n    },\n};\nexports.default = def;\n//# sourceMappingURL=allOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst validate_1 = require(\"../../compile/validate\");\nconst error = {\n    message: ({ params }) => codegen_1.str `should match \"${params.ifClause}\" schema`,\n    params: ({ params }) => codegen_1._ `{failingKeyword: ${params.ifClause}}`,\n};\nconst def = {\n    keyword: \"if\",\n    schemaType: [\"object\", \"boolean\"],\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, parentSchema, it } = cxt;\n        if (parentSchema.then === undefined && parentSchema.else === undefined) {\n            validate_1.checkStrictMode(it, '\"if\" without \"then\" and \"else\" is ignored');\n        }\n        const hasThen = hasSchema(it, \"then\");\n        const hasElse = hasSchema(it, \"else\");\n        if (!hasThen && !hasElse)\n            return;\n        const valid = gen.let(\"valid\", true);\n        const schValid = gen.name(\"_valid\");\n        validateIf();\n        cxt.reset();\n        if (hasThen && hasElse) {\n            const ifClause = gen.let(\"ifClause\");\n            cxt.setParams({ ifClause });\n            gen.if(schValid, validateClause(\"then\", ifClause), validateClause(\"else\", ifClause));\n        }\n        else if (hasThen) {\n            gen.if(schValid, validateClause(\"then\"));\n        }\n        else {\n            gen.if(codegen_1.not(schValid), validateClause(\"else\"));\n        }\n        cxt.pass(valid, () => cxt.error(true));\n        function validateIf() {\n            const schCxt = cxt.subschema({\n                keyword: \"if\",\n                compositeRule: true,\n                createErrors: false,\n                allErrors: false,\n            }, schValid);\n            cxt.mergeEvaluated(schCxt);\n        }\n        function validateClause(keyword, ifClause) {\n            return () => {\n                const schCxt = cxt.subschema({ keyword }, schValid);\n                gen.assign(valid, schValid);\n                cxt.mergeValidEvaluated(schCxt, valid);\n                if (ifClause)\n                    gen.assign(ifClause, codegen_1._ `${keyword}`);\n                else\n                    cxt.setParams({ ifClause: keyword });\n            };\n        }\n    },\n};\nfunction hasSchema(it, keyword) {\n    const schema = it.schema[keyword];\n    return schema !== undefined && !util_1.alwaysValidSchema(it, schema);\n}\nexports.default = def;\n//# sourceMappingURL=if.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst validate_1 = require(\"../../compile/validate\");\nconst def = {\n    keyword: [\"then\", \"else\"],\n    schemaType: [\"object\", \"boolean\"],\n    code({ keyword, parentSchema, it }) {\n        if (parentSchema.if === undefined)\n            validate_1.checkStrictMode(it, `\"${keyword}\" without \"if\" is ignored`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=thenElse.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst format_1 = require(\"./format\");\nconst format = [format_1.default];\nexports.default = format;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => codegen_1.str `should match format \"${schemaCode}\"`,\n    params: ({ schemaCode }) => codegen_1._ `{format: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"format\",\n    type: [\"number\", \"string\"],\n    schemaType: \"string\",\n    $data: true,\n    error,\n    code(cxt, ruleType) {\n        const { gen, data, $data, schema, schemaCode, it } = cxt;\n        const { opts, errSchemaPath, schemaEnv, self } = it;\n        if (!opts.validateFormats)\n            return;\n        if ($data)\n            validate$DataFormat();\n        else\n            validateFormat();\n        function validate$DataFormat() {\n            const fmts = gen.scopeValue(\"formats\", {\n                ref: self.formats,\n                code: opts.code.formats,\n            });\n            const fDef = gen.const(\"fDef\", codegen_1._ `${fmts}[${schemaCode}]`);\n            const fType = gen.let(\"fType\");\n            const format = gen.let(\"format\");\n            // TODO simplify\n            gen.if(codegen_1._ `typeof ${fDef} == \"object\" && !(${fDef} instanceof RegExp)`, () => gen.assign(fType, codegen_1._ `${fDef}.type || \"string\"`).assign(format, codegen_1._ `${fDef}.validate`), () => gen.assign(fType, codegen_1._ `\"string\"`).assign(format, fDef));\n            cxt.fail$data(codegen_1.or(unknownFmt(), invalidFmt()));\n            function unknownFmt() {\n                if (opts.strict === false)\n                    return codegen_1.nil;\n                return codegen_1._ `${schemaCode} && !${format}`;\n            }\n            function invalidFmt() {\n                const callFormat = schemaEnv.$async\n                    ? codegen_1._ `(${fDef}.async ? await ${format}(${data}) : ${format}(${data}))`\n                    : codegen_1._ `${format}(${data})`;\n                const validData = codegen_1._ `(typeof ${format} == \"function\" ? ${callFormat} : ${format}.test(${data}))`;\n                return codegen_1._ `${format} && ${format} !== true && ${fType} === ${ruleType} && !${validData}`;\n            }\n        }\n        function validateFormat() {\n            const formatDef = self.formats[schema];\n            if (!formatDef) {\n                unknownFormat();\n                return;\n            }\n            if (formatDef === true)\n                return;\n            const [fmtType, format, fmtRef] = getFormat(formatDef);\n            if (fmtType === ruleType)\n                cxt.pass(validCondition());\n            function unknownFormat() {\n                if (opts.strict === false) {\n                    self.logger.warn(unknownMsg());\n                    return;\n                }\n                throw new Error(unknownMsg());\n                function unknownMsg() {\n                    return `unknown format \"${schema}\" ignored in schema at path \"${errSchemaPath}\"`;\n                }\n            }\n            function getFormat(fmtDef) {\n                const fmt = gen.scopeValue(\"formats\", {\n                    key: schema,\n                    ref: fmtDef,\n                    code: opts.code.formats ? codegen_1._ `${opts.code.formats}${codegen_1.getProperty(schema)}` : undefined,\n                });\n                if (typeof fmtDef == \"object\" && !(fmtDef instanceof RegExp)) {\n                    return [fmtDef.type || \"string\", fmtDef.validate, codegen_1._ `${fmt}.validate`];\n                }\n                return [\"string\", fmtDef, fmt];\n            }\n            function validCondition() {\n                if (typeof formatDef == \"object\" && !(formatDef instanceof RegExp) && formatDef.async) {\n                    if (!schemaEnv.$async)\n                        throw new Error(\"async format in sync schema\");\n                    return codegen_1._ `await ${fmtRef}(${data})`;\n                }\n                return typeof format == \"function\" ? codegen_1._ `${fmtRef}(${data})` : codegen_1._ `${fmtRef}.test(${data})`;\n            }\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=format.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.contentVocabulary = exports.metadataVocabulary = void 0;\nexports.metadataVocabulary = [\n    \"title\",\n    \"description\",\n    \"default\",\n    \"deprecated\",\n    \"readOnly\",\n    \"writeOnly\",\n    \"examples\",\n];\nexports.contentVocabulary = [\n    \"contentMediaType\",\n    \"contentEncoding\",\n    \"contentSchema\",\n];\n//# sourceMappingURL=metadata.js.map","import parseGitUrl from 'git-url-parse';\nimport fetch from 'cross-fetch';\nimport { createAppAuth } from '@octokit/auth-app';\nimport { Octokit } from '@octokit/rest';\nimport { DateTime } from 'luxon';\n\nfunction isValidHost(host) {\n  const check = new URL(\"http://example.com\");\n  check.host = host;\n  return check.host === host;\n}\nfunction isValidUrl(url) {\n  try {\n    new URL(url);\n    return true;\n  } catch {\n    return false;\n  }\n}\nfunction basicIntegrations(integrations, getHost) {\n  return {\n    list() {\n      return integrations;\n    },\n    byUrl(url) {\n      const parsed = typeof url === \"string\" ? new URL(url) : url;\n      return integrations.find((i) => getHost(i) === parsed.hostname);\n    },\n    byHost(host) {\n      return integrations.find((i) => getHost(i) === host);\n    }\n  };\n}\nfunction defaultScmResolveUrl(options) {\n  const {url, base, lineNumber} = options;\n  try {\n    new URL(url);\n    return url;\n  } catch {\n  }\n  let updated;\n  if (url.startsWith(\"/\")) {\n    const {filepath} = parseGitUrl(base);\n    updated = new URL(base);\n    const repoRootPath = updated.pathname.substring(0, updated.pathname.length - filepath.length).replace(/\\/+$/, \"\");\n    updated.pathname = `${repoRootPath}${url}`;\n  } else {\n    updated = new URL(url, base);\n  }\n  updated.search = new URL(base).search;\n  if (lineNumber) {\n    updated.hash = `L${lineNumber}`;\n  }\n  return updated.toString();\n}\n\nconst AZURE_HOST = \"dev.azure.com\";\nfunction readAzureIntegrationConfig(config) {\n  var _a;\n  const host = (_a = config.getOptionalString(\"host\")) != null ? _a : AZURE_HOST;\n  const token = config.getOptionalString(\"token\");\n  if (!isValidHost(host)) {\n    throw new Error(`Invalid Azure integration config, '${host}' is not a valid host`);\n  }\n  return {host, token};\n}\nfunction readAzureIntegrationConfigs(configs) {\n  const result = configs.map(readAzureIntegrationConfig);\n  if (!result.some((c) => c.host === AZURE_HOST)) {\n    result.push({host: AZURE_HOST});\n  }\n  return result;\n}\n\nconst _AzureIntegration = class {\n  constructor(integrationConfig) {\n    this.integrationConfig = integrationConfig;\n  }\n  get type() {\n    return \"azure\";\n  }\n  get title() {\n    return this.integrationConfig.host;\n  }\n  get config() {\n    return this.integrationConfig;\n  }\n  resolveUrl(options) {\n    const {url, base} = options;\n    if (isValidUrl(url)) {\n      return url;\n    }\n    const parsed = parseGitUrl(base);\n    const {organization, owner, name, filepath} = parsed;\n    if (!organization || !owner || !name) {\n      return new URL(url, base).toString();\n    }\n    const path = (filepath == null ? void 0 : filepath.replace(/^\\//, \"\")) || \"\";\n    const mockBaseUrl = new URL(`https://a.com/${path}`);\n    const updatedPath = new URL(url, mockBaseUrl).pathname;\n    const newUrl = new URL(base);\n    newUrl.searchParams.set(\"path\", updatedPath);\n    if (options.lineNumber) {\n      newUrl.searchParams.set(\"line\", String(options.lineNumber));\n      newUrl.searchParams.set(\"lineEnd\", String(options.lineNumber + 1));\n      newUrl.searchParams.set(\"lineStartColumn\", \"1\");\n      newUrl.searchParams.set(\"lineEndColumn\", \"1\");\n    }\n    return newUrl.toString();\n  }\n  resolveEditUrl(url) {\n    return url;\n  }\n};\nlet AzureIntegration = _AzureIntegration;\nAzureIntegration.factory = ({config}) => {\n  var _a;\n  const configs = readAzureIntegrationConfigs((_a = config.getOptionalConfigArray(\"integrations.azure\")) != null ? _a : []);\n  return basicIntegrations(configs.map((c) => new _AzureIntegration(c)), (i) => i.config.host);\n};\n\nfunction getAzureFileFetchUrl(url) {\n  var _a;\n  try {\n    const parsedUrl = new URL(url);\n    const [\n      empty,\n      userOrOrg,\n      project,\n      srcKeyword,\n      repoName\n    ] = parsedUrl.pathname.split(\"/\");\n    const path = parsedUrl.searchParams.get(\"path\") || \"\";\n    const ref = (_a = parsedUrl.searchParams.get(\"version\")) == null ? void 0 : _a.substr(2);\n    if (empty !== \"\" || userOrOrg === \"\" || project === \"\" || srcKeyword !== \"_git\" || repoName === \"\" || path === \"\" || ref === \"\") {\n      throw new Error(\"Wrong Azure Devops URL or Invalid file path\");\n    }\n    parsedUrl.pathname = [\n      empty,\n      userOrOrg,\n      project,\n      \"_apis\",\n      \"git\",\n      \"repositories\",\n      repoName,\n      \"items\"\n    ].join(\"/\");\n    const queryParams = [`path=${path}`];\n    if (ref) {\n      queryParams.push(`version=${ref}`);\n    }\n    parsedUrl.search = queryParams.join(\"&\");\n    parsedUrl.protocol = \"https\";\n    return parsedUrl.toString();\n  } catch (e) {\n    throw new Error(`Incorrect URL: ${url}, ${e}`);\n  }\n}\nfunction getAzureDownloadUrl(url) {\n  const {\n    name: repoName,\n    owner: project,\n    organization,\n    protocol,\n    resource,\n    filepath\n  } = parseGitUrl(url);\n  const scopePath = filepath ? `&scopePath=${encodeURIComponent(filepath)}` : \"\";\n  return `${protocol}://${resource}/${organization}/${project}/_apis/git/repositories/${repoName}/items?recursionLevel=full&download=true&api-version=6.0${scopePath}`;\n}\nfunction getAzureCommitsUrl(url) {\n  var _a;\n  try {\n    const parsedUrl = new URL(url);\n    const [\n      empty,\n      userOrOrg,\n      project,\n      srcKeyword,\n      repoName\n    ] = parsedUrl.pathname.split(\"/\");\n    const ref = (_a = parsedUrl.searchParams.get(\"version\")) == null ? void 0 : _a.substr(2);\n    if (!!empty || !userOrOrg || !project || srcKeyword !== \"_git\" || !repoName) {\n      throw new Error(\"Wrong Azure Devops URL\");\n    }\n    parsedUrl.pathname = [\n      empty,\n      userOrOrg,\n      project,\n      \"_apis\",\n      \"git\",\n      \"repositories\",\n      repoName,\n      \"commits\"\n    ].join(\"/\");\n    const queryParams = [];\n    if (ref) {\n      queryParams.push(`searchCriteria.itemVersion.version=${ref}`);\n    }\n    parsedUrl.search = queryParams.join(\"&\");\n    parsedUrl.protocol = \"https\";\n    return parsedUrl.toString();\n  } catch (e) {\n    throw new Error(`Incorrect URL: ${url}, ${e}`);\n  }\n}\nfunction getAzureRequestOptions(config, additionalHeaders) {\n  const headers = additionalHeaders ? {...additionalHeaders} : {};\n  if (config.token) {\n    const buffer = Buffer.from(`:${config.token}`, \"utf8\");\n    headers.Authorization = `Basic ${buffer.toString(\"base64\")}`;\n  }\n  return {headers};\n}\n\nconst BITBUCKET_HOST = \"bitbucket.org\";\nconst BITBUCKET_API_BASE_URL = \"https://api.bitbucket.org/2.0\";\nfunction readBitbucketIntegrationConfig(config) {\n  var _a;\n  const host = (_a = config.getOptionalString(\"host\")) != null ? _a : BITBUCKET_HOST;\n  let apiBaseUrl = config.getOptionalString(\"apiBaseUrl\");\n  const token = config.getOptionalString(\"token\");\n  const username = config.getOptionalString(\"username\");\n  const appPassword = config.getOptionalString(\"appPassword\");\n  if (!isValidHost(host)) {\n    throw new Error(`Invalid Bitbucket integration config, '${host}' is not a valid host`);\n  }\n  if (apiBaseUrl) {\n    apiBaseUrl = apiBaseUrl.replace(/\\/+$/, \"\");\n  } else if (host === BITBUCKET_HOST) {\n    apiBaseUrl = BITBUCKET_API_BASE_URL;\n  }\n  return {\n    host,\n    apiBaseUrl,\n    token,\n    username,\n    appPassword\n  };\n}\nfunction readBitbucketIntegrationConfigs(configs) {\n  const result = configs.map(readBitbucketIntegrationConfig);\n  if (!result.some((c) => c.host === BITBUCKET_HOST)) {\n    result.push({\n      host: BITBUCKET_HOST,\n      apiBaseUrl: BITBUCKET_API_BASE_URL\n    });\n  }\n  return result;\n}\n\nconst _BitbucketIntegration = class {\n  constructor(integrationConfig) {\n    this.integrationConfig = integrationConfig;\n  }\n  get type() {\n    return \"bitbucket\";\n  }\n  get title() {\n    return this.integrationConfig.host;\n  }\n  get config() {\n    return this.integrationConfig;\n  }\n  resolveUrl(options) {\n    const resolved = defaultScmResolveUrl(options);\n    if (options.lineNumber) {\n      const url = new URL(resolved);\n      const filename = url.pathname.split(\"/\").slice(-1)[0];\n      url.hash = `${filename}-${options.lineNumber}`;\n      return url.toString();\n    }\n    return resolved;\n  }\n  resolveEditUrl(url) {\n    const urlData = parseGitUrl(url);\n    const editUrl = new URL(url);\n    editUrl.searchParams.set(\"mode\", \"edit\");\n    editUrl.searchParams.set(\"spa\", \"0\");\n    editUrl.searchParams.set(\"at\", urlData.ref);\n    return editUrl.toString();\n  }\n};\nlet BitbucketIntegration = _BitbucketIntegration;\nBitbucketIntegration.factory = ({\n  config\n}) => {\n  var _a;\n  const configs = readBitbucketIntegrationConfigs((_a = config.getOptionalConfigArray(\"integrations.bitbucket\")) != null ? _a : []);\n  return basicIntegrations(configs.map((c) => new _BitbucketIntegration(c)), (i) => i.config.host);\n};\n\nasync function getBitbucketDefaultBranch(url, config) {\n  const {name: repoName, owner: project, resource} = parseGitUrl(url);\n  const isHosted = resource === \"bitbucket.org\";\n  let branchUrl = isHosted ? `${config.apiBaseUrl}/repositories/${project}/${repoName}` : `${config.apiBaseUrl}/projects/${project}/repos/${repoName}/default-branch`;\n  let response = await fetch(branchUrl, getBitbucketRequestOptions(config));\n  if (response.status === 404 && !isHosted) {\n    branchUrl = `${config.apiBaseUrl}/projects/${project}/repos/${repoName}/branches/default`;\n    response = await fetch(branchUrl, getBitbucketRequestOptions(config));\n  }\n  if (!response.ok) {\n    const message = `Failed to retrieve default branch from ${branchUrl}, ${response.status} ${response.statusText}`;\n    throw new Error(message);\n  }\n  let defaultBranch;\n  if (isHosted) {\n    const repoInfo = await response.json();\n    defaultBranch = repoInfo.mainbranch.name;\n  } else {\n    const {displayId} = await response.json();\n    defaultBranch = displayId;\n  }\n  if (!defaultBranch) {\n    throw new Error(`Failed to read default branch from ${branchUrl}. Response ${response.status} ${response.json()}`);\n  }\n  return defaultBranch;\n}\nasync function getBitbucketDownloadUrl(url, config) {\n  const {\n    name: repoName,\n    owner: project,\n    ref,\n    protocol,\n    resource,\n    filepath\n  } = parseGitUrl(url);\n  const isHosted = resource === \"bitbucket.org\";\n  let branch = ref;\n  if (!branch) {\n    branch = await getBitbucketDefaultBranch(url, config);\n  }\n  const path = filepath ? `&path=${encodeURIComponent(filepath)}` : \"\";\n  const archiveUrl = isHosted ? `${protocol}://${resource}/${project}/${repoName}/get/${branch}.zip` : `${config.apiBaseUrl}/projects/${project}/repos/${repoName}/archive?format=zip&at=${branch}&prefix=${project}-${repoName}${path}`;\n  return archiveUrl;\n}\nfunction getBitbucketFileFetchUrl(url, config) {\n  try {\n    const {owner, name, ref, filepathtype, filepath} = parseGitUrl(url);\n    if (!owner || !name || filepathtype !== \"browse\" && filepathtype !== \"raw\" && filepathtype !== \"src\") {\n      throw new Error(\"Invalid Bitbucket URL or file path\");\n    }\n    const pathWithoutSlash = filepath.replace(/^\\//, \"\");\n    if (config.host === \"bitbucket.org\") {\n      if (!ref) {\n        throw new Error(\"Invalid Bitbucket URL or file path\");\n      }\n      return `${config.apiBaseUrl}/repositories/${owner}/${name}/src/${ref}/${pathWithoutSlash}`;\n    }\n    return `${config.apiBaseUrl}/projects/${owner}/repos/${name}/raw/${pathWithoutSlash}?at=${ref}`;\n  } catch (e) {\n    throw new Error(`Incorrect URL: ${url}, ${e}`);\n  }\n}\nfunction getBitbucketRequestOptions(config) {\n  const headers = {};\n  if (config.token) {\n    headers.Authorization = `Bearer ${config.token}`;\n  } else if (config.username && config.appPassword) {\n    const buffer = Buffer.from(`${config.username}:${config.appPassword}`, \"utf8\");\n    headers.Authorization = `Basic ${buffer.toString(\"base64\")}`;\n  }\n  return {\n    headers\n  };\n}\n\nconst GITHUB_HOST = \"github.com\";\nconst GITHUB_API_BASE_URL = \"https://api.github.com\";\nconst GITHUB_RAW_BASE_URL = \"https://raw.githubusercontent.com\";\nfunction readGitHubIntegrationConfig(config) {\n  var _a, _b;\n  const host = (_a = config.getOptionalString(\"host\")) != null ? _a : GITHUB_HOST;\n  let apiBaseUrl = config.getOptionalString(\"apiBaseUrl\");\n  let rawBaseUrl = config.getOptionalString(\"rawBaseUrl\");\n  const token = config.getOptionalString(\"token\");\n  const apps = (_b = config.getOptionalConfigArray(\"apps\")) == null ? void 0 : _b.map((c) => ({\n    appId: c.getNumber(\"appId\"),\n    clientId: c.getString(\"clientId\"),\n    clientSecret: c.getString(\"clientSecret\"),\n    webhookSecret: c.getString(\"webhookSecret\"),\n    privateKey: c.getString(\"privateKey\")\n  }));\n  if (!isValidHost(host)) {\n    throw new Error(`Invalid GitHub integration config, '${host}' is not a valid host`);\n  }\n  if (apiBaseUrl) {\n    apiBaseUrl = apiBaseUrl.replace(/\\/+$/, \"\");\n  } else if (host === GITHUB_HOST) {\n    apiBaseUrl = GITHUB_API_BASE_URL;\n  }\n  if (rawBaseUrl) {\n    rawBaseUrl = rawBaseUrl.replace(/\\/+$/, \"\");\n  } else if (host === GITHUB_HOST) {\n    rawBaseUrl = GITHUB_RAW_BASE_URL;\n  }\n  return {host, apiBaseUrl, rawBaseUrl, token, apps};\n}\nfunction readGitHubIntegrationConfigs(configs) {\n  const result = configs.map(readGitHubIntegrationConfig);\n  if (!result.some((c) => c.host === GITHUB_HOST)) {\n    result.push({\n      host: GITHUB_HOST,\n      apiBaseUrl: GITHUB_API_BASE_URL,\n      rawBaseUrl: GITHUB_RAW_BASE_URL\n    });\n  }\n  return result;\n}\n\nfunction getGitHubFileFetchUrl(url, config) {\n  try {\n    const {owner, name, ref, filepathtype, filepath} = parseGitUrl(url);\n    if (!owner || !name || !ref || filepathtype !== \"blob\" && filepathtype !== \"raw\" && filepathtype !== \"tree\") {\n      throw new Error(\"Invalid GitHub URL or file path\");\n    }\n    const pathWithoutSlash = filepath.replace(/^\\//, \"\");\n    if (chooseEndpoint(config) === \"api\") {\n      return `${config.apiBaseUrl}/repos/${owner}/${name}/contents/${pathWithoutSlash}?ref=${ref}`;\n    }\n    return `${config.rawBaseUrl}/${owner}/${name}/${ref}/${pathWithoutSlash}`;\n  } catch (e) {\n    throw new Error(`Incorrect URL: ${url}, ${e}`);\n  }\n}\nfunction getGitHubRequestOptions(config) {\n  const headers = {};\n  if (chooseEndpoint(config) === \"api\") {\n    headers.Accept = \"application/vnd.github.v3.raw\";\n  }\n  if (config.token) {\n    headers.Authorization = `token ${config.token}`;\n  }\n  return {headers};\n}\nfunction chooseEndpoint(config) {\n  if (config.apiBaseUrl && (config.token || !config.rawBaseUrl)) {\n    return \"api\";\n  }\n  return \"raw\";\n}\n\nclass Cache {\n  constructor() {\n    this.tokenCache = new Map();\n    this.isNotExpired = (date) => date.diff(DateTime.local(), \"minutes\").minutes > 50;\n  }\n  async getOrCreateToken(key, supplier) {\n    const item = this.tokenCache.get(key);\n    if (item && this.isNotExpired(item.expiresAt)) {\n      return {accessToken: item.token};\n    }\n    const result = await supplier();\n    this.tokenCache.set(key, result);\n    return {accessToken: result.token};\n  }\n}\nconst HEADERS = {\n  Accept: \"application/vnd.github.machine-man-preview+json\"\n};\nclass GithubAppManager {\n  constructor(config, baseUrl) {\n    this.cache = new Cache();\n    this.baseAuthConfig = {\n      appId: config.appId,\n      privateKey: config.privateKey\n    };\n    this.appClient = new Octokit({\n      baseUrl,\n      headers: HEADERS,\n      authStrategy: createAppAuth,\n      auth: this.baseAuthConfig\n    });\n  }\n  async getInstallationCredentials(owner, repo) {\n    const {\n      installationId,\n      suspended,\n      repositorySelection\n    } = await this.getInstallationData(owner);\n    if (suspended) {\n      throw new Error(`The GitHub application for ${[owner, repo].filter(Boolean).join(\"/\")} is suspended`);\n    }\n    if (repositorySelection !== \"all\" && !repo) {\n      throw new Error(`The Backstage GitHub application used in the ${owner} organization must be installed for the entire organization to be able to issue credentials without a specified repository.`);\n    }\n    const cacheKey = !repo ? owner : `${owner}/${repo}`;\n    const repositories = repositorySelection !== \"all\" ? [repo] : void 0;\n    return this.cache.getOrCreateToken(cacheKey, async () => {\n      const result = await this.appClient.apps.createInstallationAccessToken({\n        installation_id: installationId,\n        headers: HEADERS,\n        repositories\n      });\n      return {\n        token: result.data.token,\n        expiresAt: DateTime.fromISO(result.data.expires_at)\n      };\n    });\n  }\n  async getInstallationData(owner) {\n    var _a, _b;\n    try {\n      this.installations = await this.appClient.apps.listInstallations({\n        headers: {\n          \"If-None-Match\": (_a = this.installations) == null ? void 0 : _a.headers.etag,\n          Accept: HEADERS.Accept\n        }\n      });\n    } catch (error) {\n      if (error.status !== 304) {\n        throw error;\n      }\n    }\n    const installation = (_b = this.installations) == null ? void 0 : _b.data.find((inst) => {\n      var _a2;\n      return ((_a2 = inst.account) == null ? void 0 : _a2.login) === owner;\n    });\n    if (installation) {\n      return {\n        installationId: installation.id,\n        suspended: Boolean(installation.suspended_by),\n        repositorySelection: installation.repository_selection\n      };\n    }\n    const notFoundError = new Error(`No app installation found for ${owner} in ${this.baseAuthConfig.appId}`);\n    notFoundError.name = \"NotFoundError\";\n    throw notFoundError;\n  }\n}\nclass GithubAppCredentialsMux {\n  constructor(config) {\n    var _a, _b;\n    this.apps = (_b = (_a = config.apps) == null ? void 0 : _a.map((ac) => new GithubAppManager(ac, config.apiBaseUrl))) != null ? _b : [];\n  }\n  async getAppToken(owner, repo) {\n    if (this.apps.length === 0) {\n      return void 0;\n    }\n    const results = await Promise.all(this.apps.map((app) => app.getInstallationCredentials(owner, repo).then((credentials) => ({credentials, error: void 0}), (error) => ({credentials: void 0, error}))));\n    const result = results.find((resultItem) => resultItem.credentials);\n    if (result) {\n      return result.credentials.accessToken;\n    }\n    const errors = results.map((r) => r.error);\n    const notNotFoundError = errors.find((err) => err.name !== \"NotFoundError\");\n    if (notNotFoundError) {\n      throw notNotFoundError;\n    }\n    return void 0;\n  }\n}\nclass GithubCredentialsProvider {\n  constructor(githubAppCredentialsMux, token) {\n    this.githubAppCredentialsMux = githubAppCredentialsMux;\n    this.token = token;\n  }\n  static create(config) {\n    return new GithubCredentialsProvider(new GithubAppCredentialsMux(config), config.token);\n  }\n  async getCredentials(opts) {\n    const parsed = parseGitUrl(opts.url);\n    const owner = parsed.owner || parsed.name;\n    const repo = parsed.owner ? parsed.name : void 0;\n    let token = await this.githubAppCredentialsMux.getAppToken(owner, repo);\n    if (!token) {\n      token = this.token;\n    }\n    return {\n      headers: token ? {\n        Authorization: `Bearer ${token}`\n      } : void 0,\n      token\n    };\n  }\n}\n\nconst _GitHubIntegration = class {\n  constructor(integrationConfig) {\n    this.integrationConfig = integrationConfig;\n  }\n  get type() {\n    return \"github\";\n  }\n  get title() {\n    return this.integrationConfig.host;\n  }\n  get config() {\n    return this.integrationConfig;\n  }\n  resolveUrl(options) {\n    return replaceUrlType(defaultScmResolveUrl(options), \"tree\");\n  }\n  resolveEditUrl(url) {\n    return replaceUrlType(url, \"edit\");\n  }\n};\nlet GitHubIntegration = _GitHubIntegration;\nGitHubIntegration.factory = ({config}) => {\n  var _a;\n  const configs = readGitHubIntegrationConfigs((_a = config.getOptionalConfigArray(\"integrations.github\")) != null ? _a : []);\n  return basicIntegrations(configs.map((c) => new _GitHubIntegration(c)), (i) => i.config.host);\n};\nfunction replaceUrlType(url, type) {\n  return url.replace(/\\/\\/([^/]+)\\/([^/]+)\\/([^/]+)\\/(blob|tree|edit)\\//, (_, host, owner, repo) => {\n    return `//${host}/${owner}/${repo}/${type}/`;\n  });\n}\n\nconst GITLAB_HOST = \"gitlab.com\";\nconst GITLAB_API_BASE_URL = \"https://gitlab.com/api/v4\";\nfunction readGitLabIntegrationConfig(config) {\n  const host = config.getString(\"host\");\n  let apiBaseUrl = config.getOptionalString(\"apiBaseUrl\");\n  const token = config.getOptionalString(\"token\");\n  let baseUrl = config.getOptionalString(\"baseUrl\");\n  if (apiBaseUrl) {\n    apiBaseUrl = apiBaseUrl.replace(/\\/+$/, \"\");\n  } else if (host === GITLAB_HOST) {\n    apiBaseUrl = GITLAB_API_BASE_URL;\n  }\n  if (baseUrl) {\n    baseUrl = baseUrl.replace(/\\/+$/, \"\");\n  } else {\n    baseUrl = `https://${host}`;\n  }\n  if (host.includes(\":\")) {\n    throw new Error(`Invalid GitLab integration config, host '${host}' should just be the host name (e.g. \"github.com\"), not a URL`);\n  } else if (!isValidHost(host)) {\n    throw new Error(`Invalid GitLab integration config, '${host}' is not a valid host`);\n  } else if (!apiBaseUrl || !isValidUrl(apiBaseUrl)) {\n    throw new Error(`Invalid GitLab integration config, '${apiBaseUrl}' is not a valid apiBaseUrl`);\n  } else if (!isValidUrl(baseUrl)) {\n    throw new Error(`Invalid GitLab integration config, '${baseUrl}' is not a valid baseUrl`);\n  }\n  return {host, token, apiBaseUrl, baseUrl};\n}\nfunction readGitLabIntegrationConfigs(configs) {\n  const result = configs.map(readGitLabIntegrationConfig);\n  if (!result.some((c) => c.host === GITLAB_HOST)) {\n    result.push({\n      host: GITLAB_HOST,\n      apiBaseUrl: GITLAB_API_BASE_URL,\n      baseUrl: `https://${GITLAB_HOST}`\n    });\n  }\n  return result;\n}\n\nasync function getGitLabFileFetchUrl(url, config) {\n  if (url.includes(\"/-/blob/\")) {\n    const projectID = await getProjectId(url, config);\n    return buildProjectUrl(url, projectID).toString();\n  }\n  return buildRawUrl(url).toString();\n}\nfunction getGitLabRequestOptions(config) {\n  const {token = \"\"} = config;\n  return {\n    headers: {\n      \"PRIVATE-TOKEN\": token\n    }\n  };\n}\nfunction buildRawUrl(target) {\n  try {\n    const url = new URL(target);\n    const [\n      empty,\n      userOrOrg,\n      repoName,\n      blobKeyword,\n      ...restOfPath\n    ] = url.pathname.split(\"/\");\n    if (empty !== \"\" || userOrOrg === \"\" || repoName === \"\" || blobKeyword !== \"blob\" || !restOfPath.join(\"/\").match(/\\.yaml$/)) {\n      throw new Error(\"Wrong GitLab URL\");\n    }\n    url.pathname = [empty, userOrOrg, repoName, \"raw\", ...restOfPath].join(\"/\");\n    return url;\n  } catch (e) {\n    throw new Error(`Incorrect url: ${target}, ${e}`);\n  }\n}\nfunction buildProjectUrl(target, projectID) {\n  try {\n    const url = new URL(target);\n    const branchAndFilePath = url.pathname.split(\"/-/blob/\")[1];\n    const [branch, ...filePath] = branchAndFilePath.split(\"/\");\n    url.pathname = [\n      \"/api/v4/projects\",\n      projectID,\n      \"repository/files\",\n      encodeURIComponent(decodeURIComponent(filePath.join(\"/\"))),\n      \"raw\"\n    ].join(\"/\");\n    url.search = `?ref=${branch}`;\n    return url;\n  } catch (e) {\n    throw new Error(`Incorrect url: ${target}, ${e}`);\n  }\n}\nasync function getProjectId(target, config) {\n  const url = new URL(target);\n  if (!url.pathname.includes(\"/-/blob/\")) {\n    throw new Error(\"Please provide full path to yaml file from GitLab\");\n  }\n  try {\n    const repo = url.pathname.split(\"/-/blob/\")[0];\n    const repoIDLookup = new URL(`${url.protocol + url.hostname}/api/v4/projects/${encodeURIComponent(repo.replace(/^\\//, \"\"))}`);\n    const response = await fetch(repoIDLookup.toString(), getGitLabRequestOptions(config));\n    const data = await response.json();\n    if (!response.ok) {\n      throw new Error(`GitLab Error '${data.error}', ${data.error_description}`);\n    }\n    return Number(data.id);\n  } catch (e) {\n    throw new Error(`Could not get GitLab project ID for: ${target}, ${e}`);\n  }\n}\n\nconst _GitLabIntegration = class {\n  constructor(integrationConfig) {\n    this.integrationConfig = integrationConfig;\n  }\n  get type() {\n    return \"gitlab\";\n  }\n  get title() {\n    return this.integrationConfig.host;\n  }\n  get config() {\n    return this.integrationConfig;\n  }\n  resolveUrl(options) {\n    return defaultScmResolveUrl(options);\n  }\n  resolveEditUrl(url) {\n    return replaceUrlType$1(url, \"edit\");\n  }\n};\nlet GitLabIntegration = _GitLabIntegration;\nGitLabIntegration.factory = ({config}) => {\n  var _a;\n  const configs = readGitLabIntegrationConfigs((_a = config.getOptionalConfigArray(\"integrations.gitlab\")) != null ? _a : []);\n  return basicIntegrations(configs.map((c) => new _GitLabIntegration(c)), (i) => i.config.host);\n};\nfunction replaceUrlType$1(url, type) {\n  return url.replace(/\\/\\-\\/(blob|tree|edit)\\//, `/-/${type}/`);\n}\n\nfunction readGoogleGcsIntegrationConfig(config) {\n  if (!config) {\n    return {};\n  }\n  if (!config.has(\"clientEmail\") && !config.has(\"privateKey\")) {\n    return {};\n  }\n  const privateKey = config.getString(\"privateKey\").split(\"\\\\n\").join(\"\\n\");\n  const clientEmail = config.getString(\"clientEmail\");\n  return {clientEmail, privateKey};\n}\n\nclass ScmIntegrations {\n  static fromConfig(config) {\n    return new ScmIntegrations({\n      azure: AzureIntegration.factory({config}),\n      bitbucket: BitbucketIntegration.factory({config}),\n      github: GitHubIntegration.factory({config}),\n      gitlab: GitLabIntegration.factory({config})\n    });\n  }\n  constructor(integrationsByType) {\n    this.byType = integrationsByType;\n  }\n  get azure() {\n    return this.byType.azure;\n  }\n  get bitbucket() {\n    return this.byType.bitbucket;\n  }\n  get github() {\n    return this.byType.github;\n  }\n  get gitlab() {\n    return this.byType.gitlab;\n  }\n  list() {\n    return Object.values(this.byType).flatMap((i) => i.list());\n  }\n  byUrl(url) {\n    return Object.values(this.byType).map((i) => i.byUrl(url)).find(Boolean);\n  }\n  byHost(host) {\n    return Object.values(this.byType).map((i) => i.byHost(host)).find(Boolean);\n  }\n  resolveUrl(options) {\n    const integration = this.byUrl(options.base);\n    if (!integration) {\n      return defaultScmResolveUrl(options);\n    }\n    return integration.resolveUrl(options);\n  }\n  resolveEditUrl(url) {\n    const integration = this.byUrl(url);\n    if (!integration) {\n      return url;\n    }\n    return integration.resolveEditUrl(url);\n  }\n}\n\nexport { AzureIntegration, BitbucketIntegration, GitHubIntegration, GitLabIntegration, GithubCredentialsProvider, ScmIntegrations, defaultScmResolveUrl, getAzureCommitsUrl, getAzureDownloadUrl, getAzureFileFetchUrl, getAzureRequestOptions, getBitbucketDefaultBranch, getBitbucketDownloadUrl, getBitbucketFileFetchUrl, getBitbucketRequestOptions, getGitHubFileFetchUrl, getGitHubRequestOptions, getGitLabFileFetchUrl, getGitLabRequestOptions, readAzureIntegrationConfig, readAzureIntegrationConfigs, readBitbucketIntegrationConfig, readBitbucketIntegrationConfigs, readGitHubIntegrationConfig, readGitHubIntegrationConfigs, readGitLabIntegrationConfig, readGitLabIntegrationConfigs, readGoogleGcsIntegrationConfig };\n//# sourceMappingURL=index.esm.js.map\n","import '@backstage/core';\nimport '@backstage/plugin-catalog-react';\nimport '@material-ui/lab';\nimport 'react';\nexport { a as ApiDefinitionCard, h as ApiExplorerPage, b as ApiTypeTitle, n as AsyncApiDefinitionWidget, C as ConsumedApisCard, c as ConsumingComponentsCard, E as EntityApiDefinitionCard, i as EntityConsumedApisCard, j as EntityConsumingComponentsCard, k as EntityHasApisCard, l as EntityProvidedApisCard, m as EntityProvidingComponentsCard, H as HasApisCard, O as OpenApiDefinitionWidget, o as PlainApiDefinitionWidget, P as ProvidedApisCard, e as ProvidingComponentsCard, f as apiDocsConfigRef, g as apiDocsPlugin, d as defaultDefinitionWidgets, g as plugin } from './esm/index-70fbe4d9.esm.js';\nimport '@asyncapi/react-component';\nimport '@asyncapi/react-component/lib/styles/fiori.css';\nimport '@material-ui/core/styles';\nimport 'graphiql/graphiql.css';\nimport 'graphql';\nimport 'swagger-ui-react';\nimport 'swagger-ui-react/swagger-ui.css';\nimport '@backstage/catalog-model';\nimport '@material-ui/core';\nimport 'react-router-dom';\nimport 'react-use';\n//# sourceMappingURL=index.esm.js.map\n","import { createApiRef, createRouteRef, createPlugin, createApiFactory, configApiRef, discoveryApiRef, identityApiRef, createRoutableExtension, createComponentExtension, useApi, ErrorPage, Progress, Table, EmptyState, Button, SubvalueCell, Link, ItemCardGrid, ItemCardHeader, Page, Header, Content, WarningPanel, CodeSnippet, HeaderTabs, ContentHeader, SupportButton, useRouteRef, HeaderLabel, MissingAnnotationEmptyState } from '@backstage/core';\nimport { NotFoundError } from '@backstage/errors';\nimport { scmIntegrationsApiRef } from '@backstage/integration-react';\nimport { Typography, useTheme, Tooltip, IconButton, Card, CardMedia, CardContent, CardActions, makeStyles } from '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { useParams, useNavigate, generatePath, Routes, Route } from 'react-router-dom';\nimport { useMountedState, useAsyncRetry, useAsync, useCopyToClipboard } from 'react-use';\nimport FeedbackOutlinedIcon from '@material-ui/icons/FeedbackOutlined';\nimport ReactDOM from 'react-dom';\nimport sanitizeHtml from 'sanitize-html';\nimport { catalogApiRef, isOwnerOf, getEntityRelations, EntityRefLink, EntityRefLinks, useEntity } from '@backstage/plugin-catalog-react';\nimport ShareIcon from '@material-ui/icons/Share';\nimport { RELATION_OWNED_BY } from '@backstage/catalog-model';\nimport CodeIcon from '@material-ui/icons/Code';\n\nconst techdocsStorageApiRef = createApiRef({\n  id: \"plugin.techdocs.storageservice\",\n  description: \"Used to make requests towards the techdocs storage\"\n});\nconst techdocsApiRef = createApiRef({\n  id: \"plugin.techdocs.service\",\n  description: \"Used to make requests towards techdocs API\"\n});\n\nclass TechDocsClient {\n  constructor({\n    configApi,\n    discoveryApi,\n    identityApi\n  }) {\n    this.configApi = configApi;\n    this.discoveryApi = discoveryApi;\n    this.identityApi = identityApi;\n  }\n  async getApiOrigin() {\n    var _a;\n    return (_a = this.configApi.getOptionalString(\"techdocs.requestUrl\")) != null ? _a : await this.discoveryApi.getBaseUrl(\"techdocs\");\n  }\n  async getTechDocsMetadata(entityId) {\n    const {kind, namespace, name} = entityId;\n    const apiOrigin = await this.getApiOrigin();\n    const requestUrl = `${apiOrigin}/metadata/techdocs/${namespace}/${kind}/${name}`;\n    const token = await this.identityApi.getIdToken();\n    const request = await fetch(`${requestUrl}`, {\n      headers: token ? {Authorization: `Bearer ${token}`} : {}\n    });\n    const res = await request.json();\n    return res;\n  }\n  async getEntityMetadata(entityId) {\n    const {kind, namespace, name} = entityId;\n    const apiOrigin = await this.getApiOrigin();\n    const requestUrl = `${apiOrigin}/metadata/entity/${namespace}/${kind}/${name}`;\n    const token = await this.identityApi.getIdToken();\n    const request = await fetch(`${requestUrl}`, {\n      headers: token ? {Authorization: `Bearer ${token}`} : {}\n    });\n    const res = await request.json();\n    return res;\n  }\n}\nclass TechDocsStorageClient {\n  constructor({\n    configApi,\n    discoveryApi,\n    identityApi\n  }) {\n    this.configApi = configApi;\n    this.discoveryApi = discoveryApi;\n    this.identityApi = identityApi;\n  }\n  async getApiOrigin() {\n    var _a;\n    return (_a = this.configApi.getOptionalString(\"techdocs.requestUrl\")) != null ? _a : await this.discoveryApi.getBaseUrl(\"techdocs\");\n  }\n  async getStorageUrl() {\n    var _a;\n    return (_a = this.configApi.getOptionalString(\"techdocs.storageUrl\")) != null ? _a : `${await this.discoveryApi.getBaseUrl(\"techdocs\")}/static/docs`;\n  }\n  async getBuilder() {\n    return this.configApi.getString(\"techdocs.builder\");\n  }\n  async getEntityDocs(entityId, path) {\n    const {kind, namespace, name} = entityId;\n    const storageUrl = await this.getStorageUrl();\n    const url = `${storageUrl}/${namespace}/${kind}/${name}/${path}`;\n    const token = await this.identityApi.getIdToken();\n    const request = await fetch(`${url.endsWith(\"/\") ? url : `${url}/`}index.html`, {\n      headers: token ? {Authorization: `Bearer ${token}`} : {}\n    });\n    let errorMessage = \"\";\n    switch (request.status) {\n      case 404:\n        errorMessage = \"Page not found. \";\n        if (!path) {\n          errorMessage += \"This could be because there is no index.md file in the root of the docs directory of this repository.\";\n        }\n        throw new NotFoundError(errorMessage);\n      case 500:\n        errorMessage = \"Could not generate documentation or an error in the TechDocs backend. \";\n        throw new Error(errorMessage);\n    }\n    return request.text();\n  }\n  async syncEntityDocs(entityId) {\n    const {kind, namespace, name} = entityId;\n    const apiOrigin = await this.getApiOrigin();\n    const url = `${apiOrigin}/sync/${namespace}/${kind}/${name}`;\n    const token = await this.identityApi.getIdToken();\n    let request;\n    let attempts = 0;\n    while (!request || request.status === 408 && attempts < 5) {\n      attempts++;\n      request = await fetch(url, {\n        headers: token ? {Authorization: `Bearer ${token}`} : {}\n      });\n    }\n    switch (request.status) {\n      case 404:\n        throw new NotFoundError((await request.json()).error);\n      case 200:\n      case 201:\n      case 304:\n        return true;\n      case 408:\n      default:\n        return false;\n    }\n  }\n  async getBaseUrl(oldBaseUrl, entityId, path) {\n    const {kind, namespace, name} = entityId;\n    const apiOrigin = await this.getApiOrigin();\n    return new URL(oldBaseUrl, `${apiOrigin}/static/docs/${namespace}/${kind}/${name}/${path}`).toString();\n  }\n}\n\nconst rootRouteRef = createRouteRef({\n  path: \"\",\n  title: \"TechDocs Landing Page\"\n});\nconst rootDocsRouteRef = createRouteRef({\n  path: \":namespace/:kind/:name/*\",\n  title: \"Docs\"\n});\nconst rootCatalogDocsRouteRef = createRouteRef({\n  path: \"*\",\n  title: \"Docs\"\n});\nconst techdocsPlugin = createPlugin({\n  id: \"techdocs\",\n  apis: [\n    createApiFactory({\n      api: techdocsStorageApiRef,\n      deps: {\n        configApi: configApiRef,\n        discoveryApi: discoveryApiRef,\n        identityApi: identityApiRef\n      },\n      factory: ({configApi, discoveryApi, identityApi}) => new TechDocsStorageClient({\n        configApi,\n        discoveryApi,\n        identityApi\n      })\n    }),\n    createApiFactory({\n      api: techdocsApiRef,\n      deps: {\n        configApi: configApiRef,\n        discoveryApi: discoveryApiRef,\n        identityApi: identityApiRef\n      },\n      factory: ({configApi, discoveryApi, identityApi}) => new TechDocsClient({\n        configApi,\n        discoveryApi,\n        identityApi\n      })\n    })\n  ],\n  routes: {\n    root: rootRouteRef,\n    entityContent: rootCatalogDocsRouteRef\n  }\n});\nconst TechdocsPage = techdocsPlugin.provide(createRoutableExtension({\n  component: () => Promise.resolve().then(function () { return Router$1; }).then((m) => m.Router),\n  mountPoint: rootRouteRef\n}));\nconst EntityTechdocsContent = techdocsPlugin.provide(createRoutableExtension({\n  component: () => Promise.resolve().then(function () { return Router$1; }).then((m) => m.EmbeddedDocsRouter),\n  mountPoint: rootCatalogDocsRouteRef\n}));\nconst DocsCardGrid = techdocsPlugin.provide(createComponentExtension({\n  component: {\n    lazy: () => Promise.resolve().then(function () { return DocsCardGrid$2; }).then((m) => m.DocsCardGrid)\n  }\n}));\nconst DocsTable = techdocsPlugin.provide(createComponentExtension({\n  component: {\n    lazy: () => Promise.resolve().then(function () { return DocsTable$2; }).then((m) => m.DocsTable)\n  }\n}));\nconst TechDocsCustomHome = techdocsPlugin.provide(createRoutableExtension({\n  component: () => Promise.resolve().then(function () { return TechDocsCustomHome$2; }).then((m) => m.TechDocsCustomHome),\n  mountPoint: rootRouteRef\n}));\nconst TechDocsReaderPage = techdocsPlugin.provide(createRoutableExtension({\n  component: () => Promise.resolve().then(function () { return TechDocsPage$1; }).then((m) => m.TechDocsPage),\n  mountPoint: rootDocsRouteRef\n}));\n\nconst addBaseUrl = ({\n  techdocsStorageApi,\n  entityId,\n  path\n}) => {\n  return (dom) => {\n    const updateDom = (list, attributeName) => {\n      Array.from(list).filter((elem) => !!elem.getAttribute(attributeName)).forEach(async (elem) => {\n        const elemAttribute = elem.getAttribute(attributeName);\n        if (!elemAttribute)\n          return;\n        elem.setAttribute(attributeName, await techdocsStorageApi.getBaseUrl(elemAttribute, entityId, path));\n      });\n    };\n    updateDom(dom.querySelectorAll(\"img\"), \"src\");\n    updateDom(dom.querySelectorAll(\"script\"), \"src\");\n    updateDom(dom.querySelectorAll(\"link\"), \"href\");\n    return dom;\n  };\n};\n\nconst addGitFeedbackLink = (scmIntegrationsApi) => {\n  return (dom) => {\n    const sourceAnchor = dom.querySelector('[title=\"Edit this page\"]');\n    if (!sourceAnchor || !sourceAnchor.href) {\n      return dom;\n    }\n    const sourceURL = new URL(sourceAnchor.href);\n    const integration = scmIntegrationsApi.byUrl(sourceURL);\n    if ((integration == null ? void 0 : integration.type) !== \"github\" && (integration == null ? void 0 : integration.type) !== \"gitlab\") {\n      return dom;\n    }\n    const title = dom.querySelector(\"article>h1\").childNodes[0].textContent;\n    const issueTitle = encodeURIComponent(`Documentation Feedback: ${title}`);\n    const issueDesc = encodeURIComponent(`Page source:\n${sourceAnchor.href}\n\nFeedback:`);\n    const repoPath = sourceURL.pathname.split(\"/\").slice(0, 3).join(\"/\");\n    const feedbackLink = sourceAnchor.cloneNode();\n    switch (integration == null ? void 0 : integration.type) {\n      case \"gitlab\":\n        feedbackLink.href = `${sourceURL.origin}${repoPath}/issues/new?issue[title]=${issueTitle}&issue[description]=${issueDesc}`;\n        break;\n      case \"github\":\n        feedbackLink.href = `${sourceURL.origin}${repoPath}/issues/new?title=${issueTitle}&body=${issueDesc}`;\n        break;\n      default:\n        return dom;\n    }\n    ReactDOM.render(React.createElement(FeedbackOutlinedIcon), feedbackLink);\n    feedbackLink.style.paddingLeft = \"5px\";\n    feedbackLink.title = \"Leave feedback for this page\";\n    feedbackLink.id = \"git-feedback-link\";\n    sourceAnchor == null ? void 0 : sourceAnchor.insertAdjacentElement(\"beforebegin\", feedbackLink);\n    return dom;\n  };\n};\n\nconst rewriteDocLinks = () => {\n  return (dom) => {\n    const updateDom = (list, attributeName) => {\n      Array.from(list).filter((elem) => elem.hasAttribute(attributeName)).forEach((elem) => {\n        const elemAttribute = elem.getAttribute(attributeName);\n        if (elemAttribute) {\n          if (elemAttribute.match(/^https?:\\/\\//i)) {\n            elem.setAttribute(\"target\", \"_blank\");\n          }\n          const normalizedWindowLocation = window.location.href.endsWith(\"/\") ? window.location.href : `${window.location.href}/`;\n          elem.setAttribute(attributeName, new URL(elemAttribute, normalizedWindowLocation).toString());\n        }\n      });\n    };\n    updateDom(Array.from(dom.getElementsByTagName(\"a\")), \"href\");\n    return dom;\n  };\n};\n\nconst addLinkClickListener = ({\n  baseUrl,\n  onClick\n}) => {\n  return (dom) => {\n    Array.from(dom.getElementsByTagName(\"a\")).forEach((elem) => {\n      elem.addEventListener(\"click\", (e) => {\n        const target = elem;\n        const href = target.getAttribute(\"href\");\n        if (!href)\n          return;\n        if (href.startsWith(baseUrl)) {\n          e.preventDefault();\n          onClick(e, href);\n        }\n      });\n    });\n    return dom;\n  };\n};\n\nconst removeMkdocsHeader = () => {\n  return (dom) => {\n    var _a;\n    (_a = dom.querySelector(\".md-header\")) == null ? void 0 : _a.remove();\n    return dom;\n  };\n};\n\nconst simplifyMkdocsFooter = () => {\n  return (dom) => {\n    var _a;\n    (_a = dom.querySelector(\".md-footer-copyright\")) == null ? void 0 : _a.remove();\n    return dom;\n  };\n};\n\nconst onCssReady = ({\n  docStorageUrl,\n  onLoading,\n  onLoaded\n}) => {\n  return (dom) => {\n    const cssPages = Array.from(dom.querySelectorAll('head > link[rel=\"stylesheet\"]')).filter(async (elem) => {\n      var _a;\n      return (_a = elem.getAttribute(\"href\")) == null ? void 0 : _a.startsWith(await docStorageUrl);\n    });\n    let count = cssPages.length;\n    if (count > 0) {\n      onLoading(dom);\n    }\n    cssPages.forEach((cssPage) => cssPage.addEventListener(\"load\", () => {\n      count -= 1;\n      if (count === 0) {\n        onLoaded(dom);\n      }\n    }));\n    return dom;\n  };\n};\n\nconst html = [\n  \"a\",\n  \"abbr\",\n  \"acronym\",\n  \"address\",\n  \"area\",\n  \"article\",\n  \"aside\",\n  \"audio\",\n  \"b\",\n  \"bdi\",\n  \"bdo\",\n  \"big\",\n  \"blink\",\n  \"blockquote\",\n  \"body\",\n  \"br\",\n  \"button\",\n  \"canvas\",\n  \"caption\",\n  \"center\",\n  \"cite\",\n  \"code\",\n  \"col\",\n  \"colgroup\",\n  \"content\",\n  \"data\",\n  \"datalist\",\n  \"dd\",\n  \"decorator\",\n  \"del\",\n  \"details\",\n  \"dfn\",\n  \"dir\",\n  \"div\",\n  \"dl\",\n  \"dt\",\n  \"element\",\n  \"em\",\n  \"fieldset\",\n  \"figcaption\",\n  \"figure\",\n  \"font\",\n  \"footer\",\n  \"form\",\n  \"h1\",\n  \"h2\",\n  \"h3\",\n  \"h4\",\n  \"h5\",\n  \"h6\",\n  \"head\",\n  \"header\",\n  \"hgroup\",\n  \"hr\",\n  \"html\",\n  \"i\",\n  \"img\",\n  \"input\",\n  \"ins\",\n  \"kbd\",\n  \"label\",\n  \"legend\",\n  \"li\",\n  \"link\",\n  \"main\",\n  \"map\",\n  \"mark\",\n  \"marquee\",\n  \"menu\",\n  \"menuitem\",\n  \"meter\",\n  \"nav\",\n  \"nobr\",\n  \"ol\",\n  \"optgroup\",\n  \"option\",\n  \"output\",\n  \"p\",\n  \"picture\",\n  \"pre\",\n  \"progress\",\n  \"q\",\n  \"rp\",\n  \"rt\",\n  \"ruby\",\n  \"s\",\n  \"samp\",\n  \"section\",\n  \"select\",\n  \"shadow\",\n  \"small\",\n  \"source\",\n  \"spacer\",\n  \"span\",\n  \"strike\",\n  \"strong\",\n  \"sub\",\n  \"summary\",\n  \"sup\",\n  \"table\",\n  \"tbody\",\n  \"td\",\n  \"template\",\n  \"textarea\",\n  \"tfoot\",\n  \"th\",\n  \"thead\",\n  \"time\",\n  \"tr\",\n  \"track\",\n  \"tt\",\n  \"u\",\n  \"ul\",\n  \"var\",\n  \"video\",\n  \"wbr\"\n];\nconst svg = [\n  \"svg\",\n  \"a\",\n  \"altglyph\",\n  \"altglyphdef\",\n  \"altglyphitem\",\n  \"animatecolor\",\n  \"animatemotion\",\n  \"animatetransform\",\n  \"audio\",\n  \"canvas\",\n  \"circle\",\n  \"clippath\",\n  \"defs\",\n  \"desc\",\n  \"ellipse\",\n  \"filter\",\n  \"font\",\n  \"g\",\n  \"glyph\",\n  \"glyphref\",\n  \"hkern\",\n  \"image\",\n  \"line\",\n  \"lineargradient\",\n  \"marker\",\n  \"mask\",\n  \"metadata\",\n  \"mpath\",\n  \"object\",\n  \"path\",\n  \"pattern\",\n  \"polygon\",\n  \"polyline\",\n  \"radialgradient\",\n  \"rect\",\n  \"stop\",\n  \"switch\",\n  \"symbol\",\n  \"text\",\n  \"textpath\",\n  \"title\",\n  \"tref\",\n  \"tspan\",\n  \"video\",\n  \"view\",\n  \"vkern\"\n];\nconst svgFilters = [\n  \"feBlend\",\n  \"feColorMatrix\",\n  \"feComponentTransfer\",\n  \"feComposite\",\n  \"feConvolveMatrix\",\n  \"feDiffuseLighting\",\n  \"feDisplacementMap\",\n  \"feDistantLight\",\n  \"feFlood\",\n  \"feFuncA\",\n  \"feFuncB\",\n  \"feFuncG\",\n  \"feFuncR\",\n  \"feGaussianBlur\",\n  \"feMerge\",\n  \"feMergeNode\",\n  \"feMorphology\",\n  \"feOffset\",\n  \"fePointLight\",\n  \"feSpecularLighting\",\n  \"feSpotLight\",\n  \"feTile\",\n  \"feTurbulence\"\n];\nconst mathMl = [\n  \"math\",\n  \"menclose\",\n  \"merror\",\n  \"mfenced\",\n  \"mfrac\",\n  \"mglyph\",\n  \"mi\",\n  \"mlabeledtr\",\n  \"mmultiscripts\",\n  \"mn\",\n  \"mo\",\n  \"mover\",\n  \"mpadded\",\n  \"mphantom\",\n  \"mroot\",\n  \"mrow\",\n  \"ms\",\n  \"mspace\",\n  \"msqrt\",\n  \"mstyle\",\n  \"msub\",\n  \"msup\",\n  \"msubsup\",\n  \"mtable\",\n  \"mtd\",\n  \"mtext\",\n  \"mtr\",\n  \"munder\",\n  \"munderover\"\n];\nconst text = [\"#text\"];\nconst TECHDOCS_ALLOWED_TAGS = [\n  ...html,\n  ...svg,\n  ...svgFilters,\n  ...mathMl,\n  ...text,\n  \"iframe\"\n];\n\nconst html$1 = [\n  \"accept\",\n  \"action\",\n  \"align\",\n  \"alt\",\n  \"autocapitalize\",\n  \"autocomplete\",\n  \"autopictureinpicture\",\n  \"autoplay\",\n  \"background\",\n  \"bgcolor\",\n  \"border\",\n  \"capture\",\n  \"cellpadding\",\n  \"cellspacing\",\n  \"checked\",\n  \"cite\",\n  \"class\",\n  \"clear\",\n  \"color\",\n  \"cols\",\n  \"colspan\",\n  \"controls\",\n  \"controlslist\",\n  \"coords\",\n  \"crossorigin\",\n  \"datetime\",\n  \"decoding\",\n  \"default\",\n  \"dir\",\n  \"disabled\",\n  \"disablepictureinpicture\",\n  \"disableremoteplayback\",\n  \"download\",\n  \"draggable\",\n  \"enctype\",\n  \"enterkeyhint\",\n  \"face\",\n  \"for\",\n  \"headers\",\n  \"height\",\n  \"hidden\",\n  \"high\",\n  \"href\",\n  \"hreflang\",\n  \"id\",\n  \"inputmode\",\n  \"integrity\",\n  \"ismap\",\n  \"kind\",\n  \"label\",\n  \"lang\",\n  \"list\",\n  \"loading\",\n  \"loop\",\n  \"low\",\n  \"max\",\n  \"maxlength\",\n  \"media\",\n  \"method\",\n  \"min\",\n  \"minlength\",\n  \"multiple\",\n  \"muted\",\n  \"name\",\n  \"noshade\",\n  \"novalidate\",\n  \"nowrap\",\n  \"open\",\n  \"optimum\",\n  \"pattern\",\n  \"placeholder\",\n  \"playsinline\",\n  \"poster\",\n  \"preload\",\n  \"pubdate\",\n  \"radiogroup\",\n  \"readonly\",\n  \"rel\",\n  \"required\",\n  \"rev\",\n  \"reversed\",\n  \"role\",\n  \"rows\",\n  \"rowspan\",\n  \"spellcheck\",\n  \"scope\",\n  \"selected\",\n  \"shape\",\n  \"size\",\n  \"sizes\",\n  \"span\",\n  \"srclang\",\n  \"start\",\n  \"src\",\n  \"srcset\",\n  \"step\",\n  \"style\",\n  \"summary\",\n  \"tabindex\",\n  \"title\",\n  \"translate\",\n  \"type\",\n  \"usemap\",\n  \"valign\",\n  \"value\",\n  \"width\",\n  \"xmlns\"\n];\nconst svg$1 = [\n  \"accent-height\",\n  \"accumulate\",\n  \"additive\",\n  \"alignment-baseline\",\n  \"ascent\",\n  \"attributename\",\n  \"attributetype\",\n  \"azimuth\",\n  \"basefrequency\",\n  \"baseline-shift\",\n  \"begin\",\n  \"bias\",\n  \"by\",\n  \"class\",\n  \"clip\",\n  \"clip-path\",\n  \"clip-rule\",\n  \"color\",\n  \"color-interpolation\",\n  \"color-interpolation-filters\",\n  \"color-profile\",\n  \"color-rendering\",\n  \"cx\",\n  \"cy\",\n  \"d\",\n  \"dx\",\n  \"dy\",\n  \"data\",\n  \"diffuseconstant\",\n  \"direction\",\n  \"display\",\n  \"divisor\",\n  \"dur\",\n  \"edgemode\",\n  \"elevation\",\n  \"end\",\n  \"fill\",\n  \"fill-opacity\",\n  \"fill-rule\",\n  \"filter\",\n  \"filterunits\",\n  \"flood-color\",\n  \"flood-opacity\",\n  \"font-family\",\n  \"font-size\",\n  \"font-size-adjust\",\n  \"font-stretch\",\n  \"font-style\",\n  \"font-variant\",\n  \"font-weight\",\n  \"fx\",\n  \"fy\",\n  \"g1\",\n  \"g2\",\n  \"glyph-name\",\n  \"glyphref\",\n  \"gradientunits\",\n  \"gradienttransform\",\n  \"height\",\n  \"href\",\n  \"id\",\n  \"image-rendering\",\n  \"in\",\n  \"in2\",\n  \"k\",\n  \"k1\",\n  \"k2\",\n  \"k3\",\n  \"k4\",\n  \"kerning\",\n  \"keypoints\",\n  \"keysplines\",\n  \"keytimes\",\n  \"lang\",\n  \"lengthadjust\",\n  \"letter-spacing\",\n  \"kernelmatrix\",\n  \"kernelunitlength\",\n  \"lighting-color\",\n  \"local\",\n  \"marker-end\",\n  \"marker-mid\",\n  \"marker-start\",\n  \"markerheight\",\n  \"markerunits\",\n  \"markerwidth\",\n  \"maskcontentunits\",\n  \"maskunits\",\n  \"max\",\n  \"mask\",\n  \"media\",\n  \"method\",\n  \"mode\",\n  \"min\",\n  \"name\",\n  \"numoctaves\",\n  \"offset\",\n  \"operator\",\n  \"opacity\",\n  \"order\",\n  \"orient\",\n  \"orientation\",\n  \"origin\",\n  \"overflow\",\n  \"paint-order\",\n  \"path\",\n  \"pathlength\",\n  \"patterncontentunits\",\n  \"patterntransform\",\n  \"patternunits\",\n  \"points\",\n  \"preservealpha\",\n  \"preserveaspectratio\",\n  \"primitiveunits\",\n  \"r\",\n  \"rx\",\n  \"ry\",\n  \"radius\",\n  \"refx\",\n  \"refy\",\n  \"repeatcount\",\n  \"repeatdur\",\n  \"restart\",\n  \"result\",\n  \"rotate\",\n  \"scale\",\n  \"seed\",\n  \"shape-rendering\",\n  \"specularconstant\",\n  \"specularexponent\",\n  \"spreadmethod\",\n  \"startoffset\",\n  \"stddeviation\",\n  \"stitchtiles\",\n  \"stop-color\",\n  \"stop-opacity\",\n  \"stroke-dasharray\",\n  \"stroke-dashoffset\",\n  \"stroke-linecap\",\n  \"stroke-linejoin\",\n  \"stroke-miterlimit\",\n  \"stroke-opacity\",\n  \"stroke\",\n  \"stroke-width\",\n  \"style\",\n  \"surfacescale\",\n  \"tabindex\",\n  \"targetx\",\n  \"targety\",\n  \"transform\",\n  \"text-anchor\",\n  \"text-decoration\",\n  \"text-rendering\",\n  \"textlength\",\n  \"type\",\n  \"u1\",\n  \"u2\",\n  \"unicode\",\n  \"values\",\n  \"viewbox\",\n  \"visibility\",\n  \"version\",\n  \"vert-adv-y\",\n  \"vert-origin-x\",\n  \"vert-origin-y\",\n  \"width\",\n  \"word-spacing\",\n  \"wrap\",\n  \"writing-mode\",\n  \"xchannelselector\",\n  \"ychannelselector\",\n  \"x\",\n  \"x1\",\n  \"x2\",\n  \"xmlns\",\n  \"y\",\n  \"y1\",\n  \"y2\",\n  \"z\",\n  \"zoomandpan\"\n];\nconst mathMl$1 = [\n  \"accent\",\n  \"accentunder\",\n  \"align\",\n  \"bevelled\",\n  \"close\",\n  \"columnsalign\",\n  \"columnlines\",\n  \"columnspan\",\n  \"denomalign\",\n  \"depth\",\n  \"dir\",\n  \"display\",\n  \"displaystyle\",\n  \"encoding\",\n  \"fence\",\n  \"frame\",\n  \"height\",\n  \"href\",\n  \"id\",\n  \"largeop\",\n  \"length\",\n  \"linethickness\",\n  \"lspace\",\n  \"lquote\",\n  \"mathbackground\",\n  \"mathcolor\",\n  \"mathsize\",\n  \"mathvariant\",\n  \"maxsize\",\n  \"minsize\",\n  \"movablelimits\",\n  \"notation\",\n  \"numalign\",\n  \"open\",\n  \"rowalign\",\n  \"rowlines\",\n  \"rowspacing\",\n  \"rowspan\",\n  \"rspace\",\n  \"rquote\",\n  \"scriptlevel\",\n  \"scriptminsize\",\n  \"scriptsizemultiplier\",\n  \"selection\",\n  \"separator\",\n  \"separators\",\n  \"stretchy\",\n  \"subscriptshift\",\n  \"supscriptshift\",\n  \"symmetric\",\n  \"voffset\",\n  \"width\",\n  \"xmlns\"\n];\nconst xml = [\n  \"xlink:href\",\n  \"xml:id\",\n  \"xlink:title\",\n  \"xml:space\",\n  \"xmlns:xlink\"\n];\nconst TECHDOCS_ALLOWED_ATTRIBUTES = {\n  \"*\": [...html$1, ...svg$1, ...mathMl$1, ...xml, \"data-*\"]\n};\n\nconst sanitizeDOM = () => {\n  return (dom) => {\n    const sanitizedHtml = sanitizeHtml(dom.innerHTML, {\n      allowedTags: TECHDOCS_ALLOWED_TAGS,\n      allowedAttributes: TECHDOCS_ALLOWED_ATTRIBUTES,\n      allowedSchemes: [\"http\", \"https\", \"ftp\", \"mailto\", \"data\", \"blob\"]\n    });\n    return new DOMParser().parseFromString(sanitizedHtml, \"text/html\").documentElement;\n  };\n};\n\nconst injectCss = ({css}) => {\n  return (dom) => {\n    dom.getElementsByTagName(\"head\")[0].insertAdjacentHTML(\"beforeend\", `<style>${css}</style>`);\n    return dom;\n  };\n};\n\nfunction transform(html, transformers) {\n  let dom;\n  if (typeof html === \"string\") {\n    dom = new DOMParser().parseFromString(html, \"text/html\").documentElement;\n  } else if (html instanceof Element) {\n    dom = html;\n  } else {\n    throw new Error(\"dom is not a recognized type\");\n  }\n  transformers.forEach((transformer) => {\n    dom = transformer(dom);\n  });\n  return dom;\n}\n\nconst TechDocsNotFound = ({errorMessage}) => {\n  const techdocsBuilder = useApi(configApiRef).getOptionalString(\"techdocs.builder\");\n  let additionalInfo = \"\";\n  if (techdocsBuilder !== \"local\") {\n    additionalInfo = \"Note that techdocs.builder is not set to 'local' in your config, which means this Backstage app will not generate docs if they are not found. Make sure the project's docs are generated and published by some external process (e.g. CI/CD pipeline). Or change techdocs.builder to 'local' to generate docs from this Backstage instance.\";\n  }\n  return /* @__PURE__ */ React.createElement(ErrorPage, {\n    status: \"404\",\n    statusMessage: errorMessage || \"Documentation not found\",\n    additionalInfo\n  });\n};\n\nconst TechDocsProgressBar = () => {\n  const isMounted = useMountedState();\n  const [hasBeenDelayed, setHasBeenDelayed] = useState(false);\n  const delayReason = `Docs are still loading...Backstage takes some extra time to load docs\n  for the first time. The subsequent loads are much faster.`;\n  const allowedDelayTime = 5e3;\n  useEffect(() => {\n    setTimeout(() => {\n      if (isMounted()) {\n        setHasBeenDelayed(true);\n      }\n    }, allowedDelayTime);\n  });\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, hasBeenDelayed ? /* @__PURE__ */ React.createElement(Typography, {\n    \"data-testid\": \"delay-reason\"\n  }, delayReason) : null, /* @__PURE__ */ React.createElement(Progress, null));\n};\n\nfunction useRawPage(path, kind, namespace, name) {\n  const techdocsStorageApi = useApi(techdocsStorageApiRef);\n  return useAsyncRetry(async () => {\n    const content = await techdocsStorageApi.getEntityDocs({kind, namespace, name}, path);\n    return {\n      content,\n      path,\n      entityId: {\n        kind,\n        name,\n        namespace\n      }\n    };\n  }, [techdocsStorageApi, kind, namespace, name, path]);\n}\n\nconst Reader = ({entityId, onReady}) => {\n  const {kind, namespace, name} = entityId;\n  const {\"*\": path} = useParams();\n  const theme = useTheme();\n  const techdocsStorageApi = useApi(techdocsStorageApiRef);\n  const [sidebars, setSidebars] = useState();\n  const navigate = useNavigate();\n  const shadowDomRef = useRef(null);\n  const [loadedPath, setLoadedPath] = useState(\"\");\n  const [atInitialLoad, setAtInitialLoad] = useState(true);\n  const [newerDocsExist, setNewerDocsExist] = useState(false);\n  const scmIntegrationsApi = useApi(scmIntegrationsApiRef);\n  const {\n    value: isSynced,\n    loading: syncInProgress,\n    error: syncError\n  } = useAsync(async () => {\n    if (await techdocsStorageApi.getBuilder() !== \"local\") {\n      return Promise.resolve({\n        value: true,\n        loading: null,\n        error: null\n      });\n    }\n    return techdocsStorageApi.syncEntityDocs({kind, namespace, name});\n  }, [techdocsStorageApi, kind, namespace, name]);\n  const {\n    value: rawPage,\n    loading: docLoading,\n    error: docLoadError,\n    retry\n  } = useRawPage(path, kind, namespace, name);\n  useEffect(() => {\n    if (isSynced && newerDocsExist && path !== loadedPath) {\n      retry();\n    }\n  });\n  useEffect(() => {\n    const updateSidebarPosition = () => {\n      if (!!shadowDomRef.current && !!sidebars) {\n        sidebars.forEach((sidebar) => {\n          const newTop = Math.max(shadowDomRef.current.getBoundingClientRect().top, 0);\n          sidebar.style.top = `${newTop}px`;\n        });\n      }\n    };\n    updateSidebarPosition();\n    window.addEventListener(\"scroll\", updateSidebarPosition);\n    window.addEventListener(\"resize\", updateSidebarPosition);\n    return () => {\n      window.removeEventListener(\"scroll\", updateSidebarPosition);\n      window.removeEventListener(\"resize\", updateSidebarPosition);\n    };\n  }, [shadowDomRef, sidebars]);\n  useEffect(() => {\n    if (rawPage) {\n      setLoadedPath(path);\n    }\n  }, [rawPage, path]);\n  useEffect(() => {\n    if (atInitialLoad === false) {\n      return;\n    }\n    setTimeout(() => {\n      setAtInitialLoad(false);\n    }, 5e3);\n  });\n  useEffect(() => {\n    if (!atInitialLoad && !!rawPage && syncInProgress) {\n      setNewerDocsExist(true);\n    }\n  }, [atInitialLoad, rawPage, syncInProgress]);\n  useEffect(() => {\n    if (!rawPage || !shadowDomRef.current) {\n      return;\n    }\n    if (onReady) {\n      onReady();\n    }\n    const transformedElement = transform(rawPage.content, [\n      sanitizeDOM(),\n      addBaseUrl({\n        techdocsStorageApi,\n        entityId: rawPage.entityId,\n        path: rawPage.path\n      }),\n      rewriteDocLinks(),\n      removeMkdocsHeader(),\n      simplifyMkdocsFooter(),\n      addGitFeedbackLink(scmIntegrationsApi),\n      injectCss({\n        css: `\n        body {\n          font-family: ${theme.typography.fontFamily};\n          --md-text-color: ${theme.palette.text.primary};\n          --md-text-link-color: ${theme.palette.primary.main};\n\n          --md-code-fg-color: ${theme.palette.text.primary};\n          --md-code-bg-color: ${theme.palette.background.paper};\n        }\n        .md-main__inner { margin-top: 0; }\n        .md-sidebar {  position: fixed; bottom: 100px; width: 20rem; }\n        .md-sidebar--secondary { right: 2rem; }\n        .md-content { margin-bottom: 50px }\n        .md-footer { position: fixed; bottom: 0px; width: 100vw; }\n        .md-footer-nav__link { width: 20rem;}\n        .md-content { margin-left: 20rem; max-width: calc(100% - 20rem * 2 - 3rem); }\n        .md-typeset { font-size: 1rem; }\n        .md-nav { font-size: 1rem; }\n        .md-grid { max-width: 90vw; margin: 0 }\n        .md-typeset table:not([class]) {\n          font-size: 1rem;\n          border: 1px solid ${theme.palette.text.primary};\n          border-bottom: none;\n          border-collapse: collapse;\n        }\n        .md-typeset table:not([class]) td, .md-typeset table:not([class]) th {\n          border-bottom: 1px solid ${theme.palette.text.primary};\n        }\n        .md-typeset table:not([class]) th { font-weight: bold; }\n        @media screen and (max-width: 76.1875em) {\n          .md-nav { \n            background-color: ${theme.palette.background.default}; \n            transition: none !important\n          }\n          .md-sidebar--secondary { display: none; }\n          .md-sidebar--primary { left: 72px; width: 10rem }\n          .md-content { margin-left: 10rem; max-width: calc(100% - 10rem); }\n          .md-content__inner { font-size: 0.9rem }\n          .md-footer { \n            position: static; \n            margin-left: 10rem; \n            width: calc(100% - 10rem); \n          }\n          .md-nav--primary .md-nav__title {  \n            white-space: normal;\n            height: auto;\n            line-height: 1rem;\n            cursor: auto;\n          }\n          .md-nav--primary > .md-nav__title [for=\"none\"] {\n            padding-top: 0;\n          }\n        }\n      `\n      }),\n      injectCss({\n        css: `\n        .md-nav__link, .md-typeset a, .md-typeset a::before, .md-typeset .headerlink {\n          transition: none;\n        }\n        `\n      }),\n      injectCss({\n        css: `\n        :host {\n          --md-admonition-icon--note: url('data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z\"/></svg>');\n          --md-admonition-icon--abstract: url('data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M4 5h16v2H4V5m0 4h16v2H4V9m0 4h16v2H4v-2m0 4h10v2H4v-2z\"/></svg>');\n          --md-admonition-icon--info: url('data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M13 9h-2V7h2m0 10h-2v-6h2m-1-9A10 10 0 002 12a10 10 0 0010 10 10 10 0 0010-10A10 10 0 0012 2z\"/></svg>');\n          --md-admonition-icon--tip: url('data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M17.55 11.2c-.23-.3-.5-.56-.76-.82-.65-.6-1.4-1.03-2.03-1.66C13.3 7.26 13 4.85 13.91 3c-.91.23-1.75.75-2.45 1.32-2.54 2.08-3.54 5.75-2.34 8.9.04.1.08.2.08.33 0 .22-.15.42-.35.5-.22.1-.46.04-.64-.12a.83.83 0 01-.15-.17c-1.1-1.43-1.28-3.48-.53-5.12C5.89 10 5 12.3 5.14 14.47c.04.5.1 1 .27 1.5.14.6.4 1.2.72 1.73 1.04 1.73 2.87 2.97 4.84 3.22 2.1.27 4.35-.12 5.96-1.6 1.8-1.66 2.45-4.32 1.5-6.6l-.13-.26c-.2-.46-.47-.87-.8-1.25l.05-.01m-3.1 6.3c-.28.24-.73.5-1.08.6-1.1.4-2.2-.16-2.87-.82 1.19-.28 1.89-1.16 2.09-2.05.17-.8-.14-1.46-.27-2.23-.12-.74-.1-1.37.18-2.06.17.38.37.76.6 1.06.76 1 1.95 1.44 2.2 2.8.04.14.06.28.06.43.03.82-.32 1.72-.92 2.27h.01z\"/></svg>');\n          --md-admonition-icon--success: url('data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"/></svg>');\n          --md-admonition-icon--question: url('data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M15.07 11.25l-.9.92C13.45 12.89 13 13.5 13 15h-2v-.5c0-1.11.45-2.11 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41a2 2 0 00-2-2 2 2 0 00-2 2H8a4 4 0 014-4 4 4 0 014 4 3.2 3.2 0 01-.93 2.25M13 19h-2v-2h2M12 2A10 10 0 002 12a10 10 0 0010 10 10 10 0 0010-10c0-5.53-4.5-10-10-10z\"/></svg>');\n          --md-admonition-icon--warning: url('data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M13 14h-2v-4h2m0 8h-2v-2h2M1 21h22L12 2 1 21z\"/></svg>');\n          --md-admonition-icon--failure: url('data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M12 2c5.53 0 10 4.47 10 10s-4.47 10-10 10S2 17.53 2 12 6.47 2 12 2m3.59 5L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41 15.59 7z\"/></svg>');\n          --md-admonition-icon--danger: url('data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M11.5 20l4.86-9.73H13V4l-5 9.73h3.5V20M12 2c2.75 0 5.1 1 7.05 2.95C21 6.9 22 9.25 22 12s-1 5.1-2.95 7.05C17.1 21 14.75 22 12 22s-5.1-1-7.05-2.95C3 17.1 2 14.75 2 12s1-5.1 2.95-7.05C6.9 3 9.25 2 12 2z\"/></svg>');\n          --md-admonition-icon--bug: url('data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M14 12h-4v-2h4m0 6h-4v-2h4m6-6h-2.81a5.985 5.985 0 00-1.82-1.96L17 4.41 15.59 3l-2.17 2.17a6.002 6.002 0 00-2.83 0L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20V8z\"/></svg>');\n          --md-admonition-icon--example: url('data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M7 13v-2h14v2H7m0 6v-2h14v2H7M7 7V5h14v2H7M3 8V5H2V4h2v4H3m-1 9v-1h3v4H2v-1h2v-.5H3v-1h1V17H2m2.25-7a.75.75 0 01.75.75c0 .2-.08.39-.21.52L3.12 13H5v1H2v-.92L4 11H2v-1h2.25z\"/></svg>');\n          --md-admonition-icon--quote: url('data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M14 17h3l2-4V7h-6v6h3M6 17h3l2-4V7H5v6h3l-2 4z\"/></svg>');\n        }\n        :host {\n          --md-footnotes-icon: url('data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M19 7v4H5.83l3.58-3.59L8 6l-6 6 6 6 1.41-1.42L5.83 13H21V7h-2z\"/></svg>');\n        }\n        :host {\n          --md-details-icon: url('data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z\"/></svg>');\n        }\n        :host {\n          --md-tasklist-icon: url('data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M12 2A10 10 0 002 12a10 10 0 0010 10 10 10 0 0010-10A10 10 0 0012 2z\"/></svg>');\n          --md-tasklist-icon--checked: url('data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"/></svg>');\n        }\n        `\n      })\n    ]);\n    if (!transformedElement) {\n      return;\n    }\n    const shadowDiv = shadowDomRef.current;\n    const shadowRoot = shadowDiv.shadowRoot || shadowDiv.attachShadow({mode: \"open\"});\n    Array.from(shadowRoot.children).forEach((child) => shadowRoot.removeChild(child));\n    shadowRoot.appendChild(transformedElement);\n    window.scroll({top: 0});\n    transform(shadowRoot.children[0], [\n      (dom) => {\n        setTimeout(() => {\n          var _a;\n          if (window.location.hash) {\n            const hash = window.location.hash.slice(1);\n            (_a = shadowRoot == null ? void 0 : shadowRoot.getElementById(hash)) == null ? void 0 : _a.scrollIntoView();\n          }\n        }, 200);\n        return dom;\n      },\n      addLinkClickListener({\n        baseUrl: window.location.origin,\n        onClick: (_, url) => {\n          var _a;\n          const parsedUrl = new URL(url);\n          if (newerDocsExist && isSynced) {\n            setNewerDocsExist(false);\n          }\n          if (parsedUrl.hash) {\n            navigate(`${parsedUrl.pathname}${parsedUrl.hash}`);\n            (_a = shadowRoot == null ? void 0 : shadowRoot.getElementById(parsedUrl.hash.slice(1))) == null ? void 0 : _a.scrollIntoView();\n          } else {\n            navigate(parsedUrl.pathname);\n          }\n        }\n      }),\n      onCssReady({\n        docStorageUrl: techdocsStorageApi.getApiOrigin(),\n        onLoading: (dom) => {\n          dom.style.setProperty(\"opacity\", \"0\");\n        },\n        onLoaded: (dom) => {\n          var _a;\n          dom.style.removeProperty(\"opacity\");\n          (_a = dom.querySelector(\".md-nav__title\")) == null ? void 0 : _a.removeAttribute(\"for\");\n          const sideDivs = Array.from(shadowRoot.querySelectorAll(\".md-sidebar\"));\n          setSidebars(sideDivs);\n          const docTopPosition = dom.getBoundingClientRect().top;\n          sideDivs.forEach((sidebar) => {\n            sidebar.style.top = `${docTopPosition}px`;\n          });\n        }\n      })\n    ]);\n  }, [\n    rawPage,\n    navigate,\n    onReady,\n    shadowDomRef,\n    techdocsStorageApi,\n    theme.typography.fontFamily,\n    theme.palette.text.primary,\n    theme.palette.primary.main,\n    theme.palette.background.paper,\n    theme.palette.background.default,\n    newerDocsExist,\n    isSynced,\n    scmIntegrationsApi\n  ]);\n  if (docLoadError && !syncInProgress && !docLoading || syncError) {\n    let errMessage = \"\";\n    if (docLoadError) {\n      errMessage += ` Load error: ${docLoadError}`;\n    }\n    if (syncError)\n      errMessage += ` Build error: ${syncError}`;\n    return /* @__PURE__ */ React.createElement(TechDocsNotFound, {\n      errorMessage: errMessage\n    });\n  }\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, newerDocsExist && !isSynced ? /* @__PURE__ */ React.createElement(Alert, {\n    variant: \"outlined\",\n    severity: \"info\"\n  }, \"A newer version of this documentation is being prepared and will be available shortly.\") : null, newerDocsExist && isSynced ? /* @__PURE__ */ React.createElement(Alert, {\n    variant: \"outlined\",\n    severity: \"success\"\n  }, \"A newer version of this documentation is now available, please refresh to view.\") : null, docLoading || docLoadError && syncInProgress ? /* @__PURE__ */ React.createElement(TechDocsProgressBar, null) : null, /* @__PURE__ */ React.createElement(\"div\", {\n    \"data-testid\": \"techdocs-content-shadowroot\",\n    ref: shadowDomRef\n  }));\n};\n\nfunction useOwnUser() {\n  const catalogApi = useApi(catalogApiRef);\n  const identityApi = useApi(identityApiRef);\n  return useAsync(() => catalogApi.getEntityByName({\n    kind: \"User\",\n    namespace: \"default\",\n    name: identityApi.getUserId()\n  }), [catalogApi, identityApi]);\n}\n\nconst DocsTable$1 = ({\n  entities,\n  title\n}) => {\n  const [, copyToClipboard] = useCopyToClipboard();\n  if (!entities)\n    return null;\n  const documents = entities.map((entity) => {\n    var _a, _b, _c;\n    return {\n      name: entity.metadata.name,\n      description: entity.metadata.description,\n      owner: (_a = entity == null ? void 0 : entity.spec) == null ? void 0 : _a.owner,\n      type: (_b = entity == null ? void 0 : entity.spec) == null ? void 0 : _b.type,\n      docsUrl: generatePath(rootDocsRouteRef.path, {\n        namespace: (_c = entity.metadata.namespace) != null ? _c : \"default\",\n        kind: entity.kind,\n        name: entity.metadata.name\n      })\n    };\n  });\n  const columns = [\n    {\n      title: \"Document\",\n      field: \"name\",\n      highlight: true,\n      render: (row) => /* @__PURE__ */ React.createElement(SubvalueCell, {\n        value: /* @__PURE__ */ React.createElement(Link, {\n          to: row.docsUrl\n        }, row.name),\n        subvalue: row.description\n      })\n    },\n    {\n      title: \"Owner\",\n      field: \"owner\"\n    },\n    {\n      title: \"Type\",\n      field: \"type\"\n    },\n    {\n      title: \"Actions\",\n      width: \"10%\",\n      render: (row) => /* @__PURE__ */ React.createElement(Tooltip, {\n        title: \"Click to copy documentation link to clipboard\"\n      }, /* @__PURE__ */ React.createElement(IconButton, {\n        onClick: () => copyToClipboard(`${window.location.href}/${row.docsUrl}`)\n      }, /* @__PURE__ */ React.createElement(ShareIcon, null)))\n    }\n  ];\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, documents && documents.length > 0 ? /* @__PURE__ */ React.createElement(Table, {\n    options: {\n      paging: true,\n      pageSize: 20,\n      search: true\n    },\n    data: documents,\n    columns,\n    title: title ? `${title} (${documents.length})` : `All (${documents.length})`\n  }) : /* @__PURE__ */ React.createElement(EmptyState, {\n    missing: \"data\",\n    title: \"No documents to show\",\n    description: \"Create your own document. Check out our Getting Started Information\",\n    action: /* @__PURE__ */ React.createElement(Button, {\n      color: \"primary\",\n      href: \"#\",\n      to: \"https://backstage.io/docs/features/techdocs/getting-started\",\n      variant: \"contained\"\n    }, \"DOCS\")\n  }));\n};\n\nvar DocsTable$2 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  DocsTable: DocsTable$1\n});\n\nconst DocsCardGrid$1 = ({\n  entities\n}) => {\n  if (!entities)\n    return null;\n  return /* @__PURE__ */ React.createElement(ItemCardGrid, {\n    \"data-testid\": \"docs-explore\"\n  }, !(entities == null ? void 0 : entities.length) ? null : entities.map((entity, index) => {\n    var _a;\n    return /* @__PURE__ */ React.createElement(Card, {\n      key: index\n    }, /* @__PURE__ */ React.createElement(CardMedia, null, /* @__PURE__ */ React.createElement(ItemCardHeader, {\n      title: entity.metadata.name\n    })), /* @__PURE__ */ React.createElement(CardContent, null, entity.metadata.description), /* @__PURE__ */ React.createElement(CardActions, null, /* @__PURE__ */ React.createElement(Button, {\n      to: generatePath(rootDocsRouteRef.path, {\n        namespace: (_a = entity.metadata.namespace) != null ? _a : \"default\",\n        kind: entity.kind,\n        name: entity.metadata.name\n      }),\n      color: \"primary\"\n    }, \"Read Docs\")));\n  }));\n};\n\nvar DocsCardGrid$2 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  DocsCardGrid: DocsCardGrid$1\n});\n\nconst panels = {\n  DocsTable: DocsTable$1,\n  DocsCardGrid: DocsCardGrid$1\n};\nconst CustomPanel = ({\n  config,\n  entities,\n  index\n}) => {\n  const useStyles = makeStyles({\n    panelContainer: {\n      marginBottom: \"2rem\",\n      ...config.panelCSS ? config.panelCSS : {}\n    }\n  });\n  const classes = useStyles();\n  const Panel = panels[config.panelType];\n  const shownEntities = entities.filter(config.filterPredicate);\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(ContentHeader, {\n    title: config.title,\n    description: config.description\n  }, index === 0 ? /* @__PURE__ */ React.createElement(SupportButton, null, \"Discover documentation in your ecosystem.\") : null), /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.panelContainer\n  }, /* @__PURE__ */ React.createElement(Panel, {\n    entities: shownEntities\n  })));\n};\nconst TechDocsCustomHome$1 = ({\n  tabsConfig\n}) => {\n  var _a;\n  const [selectedTab, setSelectedTab] = useState(0);\n  const catalogApi = useApi(catalogApiRef);\n  const configApi = useApi(configApiRef);\n  const {value: entities, loading, error} = useAsync(async () => {\n    const response = await catalogApi.getEntities();\n    return response.items.filter((entity) => {\n      var _a2;\n      return !!((_a2 = entity.metadata.annotations) == null ? void 0 : _a2[\"backstage.io/techdocs-ref\"]);\n    });\n  });\n  const generatedSubtitle = `Documentation available in ${(_a = configApi.getOptionalString(\"organization.name\")) != null ? _a : \"Backstage\"}`;\n  const currentTabConfig = tabsConfig[selectedTab];\n  if (loading) {\n    return /* @__PURE__ */ React.createElement(Page, {\n      themeId: \"documentation\"\n    }, /* @__PURE__ */ React.createElement(Header, {\n      title: \"Documentation\",\n      subtitle: generatedSubtitle\n    }), /* @__PURE__ */ React.createElement(Content, null, /* @__PURE__ */ React.createElement(Progress, null)));\n  }\n  if (error) {\n    return /* @__PURE__ */ React.createElement(Page, {\n      themeId: \"documentation\"\n    }, /* @__PURE__ */ React.createElement(Header, {\n      title: \"Documentation\",\n      subtitle: generatedSubtitle\n    }), /* @__PURE__ */ React.createElement(Content, null, /* @__PURE__ */ React.createElement(WarningPanel, {\n      severity: \"error\",\n      title: \"Could not load available documentation.\"\n    }, /* @__PURE__ */ React.createElement(CodeSnippet, {\n      language: \"text\",\n      text: error.toString()\n    }))));\n  }\n  return /* @__PURE__ */ React.createElement(Page, {\n    themeId: \"documentation\"\n  }, /* @__PURE__ */ React.createElement(Header, {\n    title: \"Documentation\",\n    subtitle: generatedSubtitle\n  }), /* @__PURE__ */ React.createElement(HeaderTabs, {\n    selectedIndex: selectedTab,\n    onChange: (index) => setSelectedTab(index),\n    tabs: tabsConfig.map(({label}, index) => ({\n      id: index.toString(),\n      label\n    }))\n  }), /* @__PURE__ */ React.createElement(Content, null, currentTabConfig.panels.map((config, index) => /* @__PURE__ */ React.createElement(CustomPanel, {\n    key: index,\n    config,\n    entities: !!entities ? entities : [],\n    index\n  }))));\n};\n\nvar TechDocsCustomHome$2 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  TechDocsCustomHome: TechDocsCustomHome$1\n});\n\nconst TechDocsHome = () => {\n  const {value: user} = useOwnUser();\n  const tabsConfig = [\n    {\n      label: \"Overview\",\n      panels: [\n        {\n          title: \"Overview\",\n          description: \"Explore your internal technical ecosystem through documentation.\",\n          panelType: \"DocsCardGrid\",\n          filterPredicate: () => true\n        }\n      ]\n    },\n    {\n      label: \"Owned Documents\",\n      panels: [\n        {\n          title: \"Owned documents\",\n          description: \"Access your documentation.\",\n          panelType: \"DocsTable\",\n          filterPredicate: (entity) => {\n            if (!user) {\n              return false;\n            }\n            return isOwnerOf(user, entity);\n          }\n        }\n      ]\n    }\n  ];\n  return /* @__PURE__ */ React.createElement(TechDocsCustomHome$1, {\n    tabsConfig\n  });\n};\n\nconst TechDocsPageHeader = ({\n  entityId,\n  metadataRequest\n}) => {\n  const {\n    techdocs: techdocsMetadata,\n    entity: entityMetadata\n  } = metadataRequest;\n  const {value: techdocsMetadataValues} = techdocsMetadata;\n  const {value: entityMetadataValues} = entityMetadata;\n  const {name} = entityId;\n  const {site_name: siteName, site_description: siteDescription} = techdocsMetadataValues || {};\n  const {\n    locationMetadata,\n    spec: {lifecycle}\n  } = entityMetadataValues || {spec: {}};\n  const ownedByRelations = entityMetadataValues ? getEntityRelations(entityMetadataValues, RELATION_OWNED_BY) : [];\n  const docsRootLink = useRouteRef(rootRouteRef)();\n  const labels = /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(HeaderLabel, {\n    label: \"Component\",\n    value: /* @__PURE__ */ React.createElement(EntityRefLink, {\n      color: \"inherit\",\n      entityRef: entityId,\n      defaultKind: \"Component\"\n    })\n  }), ownedByRelations.length > 0 && /* @__PURE__ */ React.createElement(HeaderLabel, {\n    label: \"Owner\",\n    value: /* @__PURE__ */ React.createElement(EntityRefLinks, {\n      color: \"inherit\",\n      entityRefs: ownedByRelations,\n      defaultKind: \"group\"\n    })\n  }), lifecycle ? /* @__PURE__ */ React.createElement(HeaderLabel, {\n    label: \"Lifecycle\",\n    value: lifecycle\n  }) : null, locationMetadata && locationMetadata.type !== \"dir\" && locationMetadata.type !== \"file\" ? /* @__PURE__ */ React.createElement(HeaderLabel, {\n    label: \"\",\n    value: /* @__PURE__ */ React.createElement(\"a\", {\n      href: locationMetadata.target,\n      target: \"_blank\",\n      rel: \"noopener noreferrer\"\n    }, /* @__PURE__ */ React.createElement(CodeIcon, {\n      style: {marginTop: \"-25px\", fill: \"#fff\"}\n    }))\n  }) : null);\n  return /* @__PURE__ */ React.createElement(Header, {\n    title: siteName ? siteName : \".\",\n    pageTitleOverride: siteName || name,\n    subtitle: siteDescription && siteDescription !== \"None\" ? siteDescription : \"\",\n    type: \"Docs\",\n    typeLink: docsRootLink\n  }, labels);\n};\n\nconst TechDocsPage = () => {\n  const [documentReady, setDocumentReady] = useState(false);\n  const {namespace, kind, name} = useParams();\n  const techdocsApi = useApi(techdocsApiRef);\n  const techdocsMetadataRequest = useAsync(() => {\n    if (documentReady) {\n      return techdocsApi.getTechDocsMetadata({kind, namespace, name});\n    }\n    return Promise.resolve(void 0);\n  }, [kind, namespace, name, techdocsApi, documentReady]);\n  const entityMetadataRequest = useAsync(() => {\n    return techdocsApi.getEntityMetadata({kind, namespace, name});\n  }, [kind, namespace, name, techdocsApi]);\n  const onReady = useCallback(() => {\n    setDocumentReady(true);\n  }, [setDocumentReady]);\n  return /* @__PURE__ */ React.createElement(Page, {\n    themeId: \"documentation\"\n  }, /* @__PURE__ */ React.createElement(TechDocsPageHeader, {\n    metadataRequest: {\n      techdocs: techdocsMetadataRequest,\n      entity: entityMetadataRequest\n    },\n    entityId: {\n      kind,\n      namespace,\n      name\n    }\n  }), /* @__PURE__ */ React.createElement(Content, {\n    \"data-testid\": \"techdocs-content\"\n  }, /* @__PURE__ */ React.createElement(Reader, {\n    onReady,\n    entityId: {\n      kind,\n      namespace,\n      name\n    }\n  })));\n};\n\nvar TechDocsPage$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  TechDocsPage: TechDocsPage\n});\n\nconst EntityPageDocs = ({entity}) => {\n  var _a;\n  return /* @__PURE__ */ React.createElement(Reader, {\n    entityId: {\n      kind: entity.kind,\n      namespace: (_a = entity.metadata.namespace) != null ? _a : \"default\",\n      name: entity.metadata.name\n    }\n  });\n};\n\nconst TECHDOCS_ANNOTATION = \"backstage.io/techdocs-ref\";\nconst Router = () => {\n  return /* @__PURE__ */ React.createElement(Routes, null, /* @__PURE__ */ React.createElement(Route, {\n    path: `/${rootRouteRef.path}`,\n    element: /* @__PURE__ */ React.createElement(TechDocsHome, null)\n  }), /* @__PURE__ */ React.createElement(Route, {\n    path: `/${rootDocsRouteRef.path}`,\n    element: /* @__PURE__ */ React.createElement(TechDocsPage, null)\n  }));\n};\nconst EmbeddedDocsRouter = (_props) => {\n  var _a;\n  const {entity} = useEntity();\n  const projectId = (_a = entity.metadata.annotations) == null ? void 0 : _a[TECHDOCS_ANNOTATION];\n  if (!projectId) {\n    return /* @__PURE__ */ React.createElement(MissingAnnotationEmptyState, {\n      annotation: TECHDOCS_ANNOTATION\n    });\n  }\n  return /* @__PURE__ */ React.createElement(Routes, null, /* @__PURE__ */ React.createElement(Route, {\n    path: `/${rootCatalogDocsRouteRef.path}`,\n    element: /* @__PURE__ */ React.createElement(EntityPageDocs, {\n      entity\n    })\n  }));\n};\n\nvar Router$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  Router: Router,\n  EmbeddedDocsRouter: EmbeddedDocsRouter\n});\n\nexport { DocsCardGrid, DocsTable, EmbeddedDocsRouter, EntityTechdocsContent, Reader, Router, TechDocsClient, TechDocsCustomHome, TechDocsReaderPage, TechDocsStorageClient, TechdocsPage, techdocsPlugin as plugin, techdocsApiRef, techdocsPlugin, techdocsStorageApiRef };\n//# sourceMappingURL=index.esm.js.map\n","import '@backstage/catalog-model';\nimport '@backstage/core';\nimport '@backstage/integration-react';\nimport '@backstage/plugin-catalog-react';\nimport '@material-ui/core';\nimport '@material-ui/icons/Description';\nimport '@material-ui/icons/Edit';\nimport '@material-ui/icons/Extension';\nimport 'react';\nexport { A as AboutCard, d as CatalogEntityPage, e as CatalogIndexPage, c as CatalogTable, g as EntityAboutCard, h as EntityHasComponentsCard, i as EntityHasSubcomponentsCard, j as EntityHasSystemsCard, a as EntityLayout, k as EntityLinksCard, b as EntityPageLayout, m as EntitySwitch, l as EntitySystemDiagramCard, R as Router, f as catalogPlugin, p as isComponentType, n as isKind, o as isNamespace, f as plugin } from './esm/index-be99e54b.esm.js';\nimport '@material-ui/icons/Code';\nimport '@material-ui/icons/GitHub';\nimport '@material-ui/lab';\nimport 'react-router';\nimport '@material-ui/core/styles';\nimport '@material-ui/icons/Cancel';\nimport '@material-ui/icons/MoreVert';\nimport '@material-ui/icons/StarBorder';\nimport '@material-ui/icons/Star';\nimport '@material-ui/lab/Alert';\nimport 'react-use';\nimport 'react-helmet';\nimport '@material-ui/icons/OpenInNew';\nimport '@material-ui/icons/Settings';\nimport 'react-router-dom';\nimport './components/EntityNotFound/Illo/illo.svg';\nimport '@backstage/catalog-client';\n//# sourceMappingURL=index.esm.js.map\n","import lodash from 'lodash';\nimport Ajv from 'ajv';\nimport { v4 } from 'uuid';\nimport { object, string } from 'yup';\n\nconst ENTITY_DEFAULT_NAMESPACE = \"default\";\nconst ENTITY_META_GENERATED_FIELDS = [\n  \"uid\",\n  \"etag\",\n  \"generation\"\n];\nconst VIEW_URL_ANNOTATION = \"backstage.io/view-url\";\nconst EDIT_URL_ANNOTATION = \"backstage.io/edit-url\";\n\nclass DefaultNamespaceEntityPolicy {\n  constructor(namespace = ENTITY_DEFAULT_NAMESPACE) {\n    this.namespace = namespace;\n  }\n  async enforce(entity) {\n    if (entity.metadata.namespace) {\n      return entity;\n    }\n    return lodash.merge({metadata: {namespace: this.namespace}}, entity);\n  }\n}\n\nclass CommonValidatorFunctions {\n  static isValidPrefixAndOrSuffix(value, separator, isValidPrefix, isValidSuffix) {\n    if (typeof value !== \"string\") {\n      return false;\n    }\n    const parts = value.split(separator);\n    if (parts.length === 1) {\n      return isValidSuffix(parts[0]);\n    } else if (parts.length === 2) {\n      return isValidPrefix(parts[0]) && isValidSuffix(parts[1]);\n    }\n    return false;\n  }\n  static isJsonSafe(value) {\n    try {\n      return lodash.isEqual(value, JSON.parse(JSON.stringify(value)));\n    } catch {\n      return false;\n    }\n  }\n  static isValidDnsSubdomain(value) {\n    return typeof value === \"string\" && value.length >= 1 && value.length <= 253 && value.split(\".\").every(CommonValidatorFunctions.isValidDnsLabel);\n  }\n  static isValidDnsLabel(value) {\n    return typeof value === \"string\" && value.length >= 1 && value.length <= 63 && /^[a-z0-9]+(\\-[a-z0-9]+)*$/.test(value);\n  }\n  static isValidUrl(value) {\n    if (typeof value !== \"string\") {\n      return false;\n    }\n    try {\n      new URL(value);\n      return true;\n    } catch {\n      return false;\n    }\n  }\n  static isValidString(value) {\n    var _a;\n    return typeof value === \"string\" && ((_a = value == null ? void 0 : value.trim()) == null ? void 0 : _a.length) >= 1;\n  }\n}\n\nclass KubernetesValidatorFunctions {\n  static isValidApiVersion(value) {\n    return CommonValidatorFunctions.isValidPrefixAndOrSuffix(value, \"/\", CommonValidatorFunctions.isValidDnsSubdomain, (n) => n.length >= 1 && n.length <= 63 && /^[a-z0-9A-Z]+$/.test(n));\n  }\n  static isValidKind(value) {\n    return typeof value === \"string\" && value.length >= 1 && value.length <= 63 && /^[a-zA-Z][a-z0-9A-Z]*$/.test(value);\n  }\n  static isValidObjectName(value) {\n    return typeof value === \"string\" && value.length >= 1 && value.length <= 63 && /^[a-z0-9A-Z]+([-_.][a-z0-9A-Z]+)*$/.test(value);\n  }\n  static isValidNamespace(value) {\n    return CommonValidatorFunctions.isValidDnsLabel(value);\n  }\n  static isValidLabelKey(value) {\n    return CommonValidatorFunctions.isValidPrefixAndOrSuffix(value, \"/\", CommonValidatorFunctions.isValidDnsSubdomain, KubernetesValidatorFunctions.isValidObjectName);\n  }\n  static isValidLabelValue(value) {\n    return value === \"\" || KubernetesValidatorFunctions.isValidObjectName(value);\n  }\n  static isValidAnnotationKey(value) {\n    return CommonValidatorFunctions.isValidPrefixAndOrSuffix(value, \"/\", CommonValidatorFunctions.isValidDnsSubdomain, KubernetesValidatorFunctions.isValidObjectName);\n  }\n  static isValidAnnotationValue(value) {\n    return typeof value === \"string\";\n  }\n}\n\nconst defaultValidators = {\n  isValidApiVersion: KubernetesValidatorFunctions.isValidApiVersion,\n  isValidKind: KubernetesValidatorFunctions.isValidKind,\n  isValidEntityName: KubernetesValidatorFunctions.isValidObjectName,\n  isValidNamespace: KubernetesValidatorFunctions.isValidNamespace,\n  isValidLabelKey: KubernetesValidatorFunctions.isValidLabelKey,\n  isValidLabelValue: KubernetesValidatorFunctions.isValidLabelValue,\n  isValidAnnotationKey: KubernetesValidatorFunctions.isValidAnnotationKey,\n  isValidAnnotationValue: KubernetesValidatorFunctions.isValidAnnotationValue,\n  isValidTag: CommonValidatorFunctions.isValidDnsLabel\n};\nfunction makeValidator(overrides = {}) {\n  return {\n    ...defaultValidators,\n    ...overrides\n  };\n}\n\nclass FieldFormatEntityPolicy {\n  constructor(validators = makeValidator()) {\n    this.validators = validators;\n  }\n  async enforce(entity) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    function require(field, value, validator) {\n      if (value === void 0 || value === null) {\n        throw new Error(`${field} must have a value`);\n      }\n      let isValid;\n      try {\n        isValid = validator(value);\n      } catch (e) {\n        throw new Error(`${field} could not be validated, ${e}`);\n      }\n      if (!isValid) {\n        let expectation;\n        switch (validator.name) {\n          case \"isValidLabelValue\":\n          case \"isValidObjectName\":\n            expectation = \"a string that is sequences of [a-zA-Z0-9] separated by any of [-_.], at most 63 characters in total\";\n            break;\n          case \"isValidLabelKey\":\n          case \"isValidApiVersion\":\n          case \"isValidAnnotationKey\":\n            expectation = \"a valid prefix and/or suffix\";\n            break;\n          case \"isValidNamespace\":\n          case \"isValidDnsLabel\":\n            expectation = \"a string that is sequences of [a-z0-9] separated by [-], at most 63 characters in total\";\n            break;\n          case \"isValidAnnotationValue\":\n            expectation = \"a string\";\n            break;\n          case \"isValidKind\":\n            expectation = \"a string that is a sequence of [a-zA-Z][a-z0-9A-Z], at most 63 characters in total\";\n            break;\n          case \"isValidUrl\":\n            expectation = \"a string that is a valid url\";\n            break;\n          case \"isValidString\":\n            expectation = \"a non empty string\";\n            break;\n          default:\n            expectation = void 0;\n            break;\n        }\n        const message = expectation ? ` expected ${expectation} but found \"${value}\".` : \"\";\n        throw new Error(`\"${field}\" is not valid;${message} To learn more about catalog file format, visit: https://github.com/backstage/backstage/blob/master/docs/architecture-decisions/adr002-default-catalog-file-format.md`);\n      }\n    }\n    function optional(field, value, validator) {\n      return value === void 0 || require(field, value, validator);\n    }\n    require(\"apiVersion\", entity.apiVersion, this.validators.isValidApiVersion);\n    require(\"kind\", entity.kind, this.validators.isValidKind);\n    require(\"metadata.name\", entity.metadata.name, this.validators.isValidEntityName);\n    optional(\"metadata.namespace\", entity.metadata.namespace, this.validators.isValidNamespace);\n    for (const [k, v] of Object.entries((_a = entity.metadata.labels) != null ? _a : [])) {\n      require(`labels.${k}`, k, this.validators.isValidLabelKey);\n      require(`labels.${k}`, v, this.validators.isValidLabelValue);\n    }\n    for (const [k, v] of Object.entries((_b = entity.metadata.annotations) != null ? _b : [])) {\n      require(`annotations.${k}`, k, this.validators.isValidAnnotationKey);\n      require(`annotations.${k}`, v, this.validators.isValidAnnotationValue);\n    }\n    const tags = (_c = entity.metadata.tags) != null ? _c : [];\n    for (let i = 0; i < tags.length; ++i) {\n      require(`tags.${i}`, tags[i], this.validators.isValidTag);\n    }\n    const links = (_d = entity.metadata.links) != null ? _d : [];\n    for (let i = 0; i < links.length; ++i) {\n      require(`links.${i}.url`, (_e = links[i]) == null ? void 0 : _e.url, CommonValidatorFunctions.isValidUrl);\n      optional(`links.${i}.title`, (_f = links[i]) == null ? void 0 : _f.title, CommonValidatorFunctions.isValidString);\n      optional(`links.${i}.icon`, (_g = links[i]) == null ? void 0 : _g.icon, KubernetesValidatorFunctions.isValidObjectName);\n    }\n    return entity;\n  }\n}\n\nconst defaultKnownFields = [\"apiVersion\", \"kind\", \"metadata\", \"spec\"];\nclass NoForeignRootFieldsEntityPolicy {\n  constructor(knownFields = defaultKnownFields) {\n    this.knownFields = knownFields;\n  }\n  async enforce(entity) {\n    for (const field of Object.keys(entity)) {\n      if (!this.knownFields.includes(field)) {\n        throw new Error(`Unknown field ${field}`);\n      }\n    }\n    return entity;\n  }\n}\n\nvar $schema = \"http://json-schema.org/draft-07/schema\";\nvar $id = \"Entity\";\nvar description = \"The format envelope that's common to all versions/kinds of entity.\";\nvar examples = [\n\t{\n\t\tapiVersion: \"backstage.io/v1alpha1\",\n\t\tkind: \"Component\",\n\t\tmetadata: {\n\t\t\tname: \"LoremService\",\n\t\t\tdescription: \"Creates Lorems like a pro.\",\n\t\t\tlabels: {\n\t\t\t\tproduct_name: \"Random value Generator\"\n\t\t\t},\n\t\t\tannotations: {\n\t\t\t\tdocs: \"https://github.com/..../tree/develop/doc\"\n\t\t\t}\n\t\t},\n\t\tspec: {\n\t\t\ttype: \"service\",\n\t\t\tlifecycle: \"production\",\n\t\t\towner: \"tools\"\n\t\t}\n\t}\n];\nvar type = \"object\";\nvar required = [\n\t\"apiVersion\",\n\t\"kind\",\n\t\"metadata\"\n];\nvar additionalProperties = false;\nvar properties = {\n\tapiVersion: {\n\t\ttype: \"string\",\n\t\tdescription: \"The version of specification format for this particular entity that this is written against.\",\n\t\tminLength: 1,\n\t\texamples: [\n\t\t\t\"backstage.io/v1alpha1\",\n\t\t\t\"my-company.net/v1\",\n\t\t\t\"1.0\"\n\t\t]\n\t},\n\tkind: {\n\t\ttype: \"string\",\n\t\tdescription: \"The high level entity type being described.\",\n\t\tminLength: 1,\n\t\texamples: [\n\t\t\t\"API\",\n\t\t\t\"Component\",\n\t\t\t\"Domain\",\n\t\t\t\"Group\",\n\t\t\t\"Location\",\n\t\t\t\"Resource\",\n\t\t\t\"System\",\n\t\t\t\"Template\",\n\t\t\t\"User\"\n\t\t]\n\t},\n\tmetadata: {\n\t\t$ref: \"EntityMeta\"\n\t},\n\tspec: {\n\t\ttype: \"object\",\n\t\tdescription: \"The specification data describing the entity itself.\"\n\t},\n\trelations: {\n\t\ttype: \"array\",\n\t\tdescription: \"The relations that this entity has with other entities.\",\n\t\titems: {\n\t\t\t$ref: \"common#relation\"\n\t\t}\n\t}\n};\nvar entitySchema = {\n\t$schema: $schema,\n\t$id: $id,\n\tdescription: description,\n\texamples: examples,\n\ttype: type,\n\trequired: required,\n\tadditionalProperties: additionalProperties,\n\tproperties: properties\n};\n\nvar $schema$1 = \"http://json-schema.org/draft-07/schema\";\nvar $id$1 = \"EntityMeta\";\nvar description$1 = \"Metadata fields common to all versions/kinds of entity.\";\nvar examples$1 = [\n\t{\n\t\tuid: \"e01199ab-08cc-44c2-8e19-5c29ded82521\",\n\t\tetag: \"lsndfkjsndfkjnsdfkjnsd==\",\n\t\tgeneration: 13,\n\t\tname: \"my-component-yay\",\n\t\tnamespace: \"the-namespace\",\n\t\tlabels: {\n\t\t\t\"backstage.io/custom\": \"ValueStuff\"\n\t\t},\n\t\tannotations: {\n\t\t\t\"example.com/bindings\": \"are-secret\"\n\t\t},\n\t\ttags: [\n\t\t\t\"java\",\n\t\t\t\"data\"\n\t\t]\n\t}\n];\nvar type$1 = \"object\";\nvar required$1 = [\n\t\"name\"\n];\nvar additionalProperties$1 = true;\nvar properties$1 = {\n\tuid: {\n\t\ttype: \"string\",\n\t\tdescription: \"A globally unique ID for the entity. This field can not be set by the user at creation time, and the server will reject an attempt to do so. The field will be populated in read operations. The field can (optionally) be specified when performing update or delete operations, but the server is free to reject requests that do so in such a way that it breaks semantics.\",\n\t\texamples: [\n\t\t\t\"e01199ab-08cc-44c2-8e19-5c29ded82521\"\n\t\t],\n\t\tminLength: 1\n\t},\n\tetag: {\n\t\ttype: \"string\",\n\t\tdescription: \"An opaque string that changes for each update operation to any part of the entity, including metadata. This field can not be set by the user at creation time, and the server will reject an attempt to do so. The field will be populated in read operations. The field can (optionally) be specified when performing update or delete operations, and the server will then reject the operation if it does not match the current stored value.\",\n\t\texamples: [\n\t\t\t\"lsndfkjsndfkjnsdfkjnsd==\"\n\t\t],\n\t\tminLength: 1\n\t},\n\tgeneration: {\n\t\ttype: \"integer\",\n\t\tdescription: \"A positive nonzero number that indicates the current generation of data for this entity; the value is incremented each time the spec changes. This field can not be set by the user at creation time, and the server will reject an attempt to do so. The field will be populated in read operations.\",\n\t\texamples: [\n\t\t\t1\n\t\t],\n\t\tminimum: 1\n\t},\n\tname: {\n\t\ttype: \"string\",\n\t\tdescription: \"The name of the entity. Must be unique within the catalog at any given point in time, for any given namespace + kind pair.\",\n\t\texamples: [\n\t\t\t\"metadata-proxy\"\n\t\t],\n\t\tminLength: 1\n\t},\n\tnamespace: {\n\t\ttype: \"string\",\n\t\tdescription: \"The namespace that the entity belongs to.\",\n\t\t\"default\": \"default\",\n\t\texamples: [\n\t\t\t\"default\",\n\t\t\t\"admin\"\n\t\t],\n\t\tminLength: 1\n\t},\n\tdescription: {\n\t\ttype: \"string\",\n\t\tdescription: \"A short (typically relatively few words, on one line) description of the entity.\"\n\t},\n\tlabels: {\n\t\ttype: \"object\",\n\t\tdescription: \"Key/value pairs of identifying information attached to the entity.\",\n\t\tadditionalProperties: true,\n\t\tpatternProperties: {\n\t\t\t\"^.+$\": {\n\t\t\t\ttype: \"string\"\n\t\t\t}\n\t\t}\n\t},\n\tannotations: {\n\t\ttype: \"object\",\n\t\tdescription: \"Key/value pairs of non-identifying auxiliary information attached to the entity.\",\n\t\tadditionalProperties: true,\n\t\tpatternProperties: {\n\t\t\t\"^.+$\": {\n\t\t\t\ttype: \"string\"\n\t\t\t}\n\t\t}\n\t},\n\ttags: {\n\t\ttype: \"array\",\n\t\tdescription: \"A list of single-valued strings, to for example classify catalog entities in various ways.\",\n\t\titems: {\n\t\t\ttype: \"string\",\n\t\t\tminLength: 1\n\t\t}\n\t},\n\tlinks: {\n\t\ttype: \"array\",\n\t\tdescription: \"A list of external hyperlinks related to the entity. Links can provide additional contextual information that may be located outside of Backstage itself. For example, an admin dashboard or external CMS page.\",\n\t\titems: {\n\t\t\ttype: \"object\",\n\t\t\trequired: [\n\t\t\t\t\"url\"\n\t\t\t],\n\t\t\tproperties: {\n\t\t\t\turl: {\n\t\t\t\t\ttype: \"string\",\n\t\t\t\t\tdescription: \"A url in a standard uri format.\",\n\t\t\t\t\texamples: [\n\t\t\t\t\t\t\"https://admin.example-org.com\"\n\t\t\t\t\t],\n\t\t\t\t\tminLength: 1\n\t\t\t\t},\n\t\t\t\ttitle: {\n\t\t\t\t\ttype: \"string\",\n\t\t\t\t\tdescription: \"A user friendly display name for the link.\",\n\t\t\t\t\texamples: [\n\t\t\t\t\t\t\"Admin Dashboard\"\n\t\t\t\t\t],\n\t\t\t\t\tminLength: 1\n\t\t\t\t},\n\t\t\t\ticon: {\n\t\t\t\t\ttype: \"string\",\n\t\t\t\t\tdescription: \"A key representing a visual icon to be displayed in the UI.\",\n\t\t\t\t\texamples: [\n\t\t\t\t\t\t\"dashboard\"\n\t\t\t\t\t],\n\t\t\t\t\tminLength: 1\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\nvar entityMetaSchema = {\n\t$schema: $schema$1,\n\t$id: $id$1,\n\tdescription: description$1,\n\texamples: examples$1,\n\ttype: type$1,\n\trequired: required$1,\n\tadditionalProperties: additionalProperties$1,\n\tproperties: properties$1\n};\n\nvar $schema$2 = \"http://json-schema.org/draft-07/schema\";\nvar $id$2 = \"common\";\nvar type$2 = \"object\";\nvar description$2 = \"Common definitions to import from other schemas\";\nvar definitions = {\n\treference: {\n\t\t$id: \"#reference\",\n\t\ttype: \"object\",\n\t\tdescription: \"A reference by name to another entity.\",\n\t\trequired: [\n\t\t\t\"kind\",\n\t\t\t\"namespace\",\n\t\t\t\"name\"\n\t\t],\n\t\tadditionalProperties: false,\n\t\tproperties: {\n\t\t\tkind: {\n\t\t\t\ttype: \"string\",\n\t\t\t\tdescription: \"The kind field of the entity.\"\n\t\t\t},\n\t\t\tnamespace: {\n\t\t\t\ttype: \"string\",\n\t\t\t\tdescription: \"The metadata.namespace field of the entity.\"\n\t\t\t},\n\t\t\tname: {\n\t\t\t\ttype: \"string\",\n\t\t\t\tdescription: \"The metadata.name field of the entity.\"\n\t\t\t}\n\t\t}\n\t},\n\trelation: {\n\t\t$id: \"#relation\",\n\t\ttype: \"object\",\n\t\tdescription: \"A directed relation from one entity to another.\",\n\t\trequired: [\n\t\t\t\"type\",\n\t\t\t\"source\",\n\t\t\t\"target\"\n\t\t],\n\t\tadditionalProperties: false,\n\t\tproperties: {\n\t\t\ttype: {\n\t\t\t\ttype: \"string\",\n\t\t\t\tminLength: 1,\n\t\t\t\tpattern: \"^\\\\w+$\",\n\t\t\t\tdescription: \"The type of relation.\"\n\t\t\t},\n\t\t\tsource: {\n\t\t\t\t$ref: \"#reference\"\n\t\t\t},\n\t\t\ttarget: {\n\t\t\t\t$ref: \"#reference\"\n\t\t\t}\n\t\t}\n\t}\n};\nvar commonSchema = {\n\t$schema: $schema$2,\n\t$id: $id$2,\n\ttype: type$2,\n\tdescription: description$2,\n\tdefinitions: definitions\n};\n\nclass SchemaValidEntityPolicy {\n  async enforce(entity) {\n    if (!this.validate) {\n      const ajv = new Ajv({allowUnionTypes: true});\n      this.validate = ajv.addSchema([commonSchema, entityMetaSchema], void 0, void 0, true).compile(entitySchema);\n    }\n    const result = this.validate(entity);\n    if (result === true) {\n      return entity;\n    }\n    const [error] = this.validate.errors || [];\n    if (!error) {\n      throw new Error(`Malformed envelope, Unknown error`);\n    }\n    throw new Error(`Malformed envelope, ${error.dataPath || \"<root>\"} ${error.message}`);\n  }\n}\n\nfunction parseRefString(ref) {\n  var _a, _b;\n  const match = /^([^:/]+:)?([^:/]+\\/)?([^:/]+)$/.exec(ref.trim());\n  if (!match) {\n    throw new TypeError(`Entity reference \"${ref}\" was not on the form [<kind>:][<namespace>/]<name>`);\n  }\n  return {\n    kind: (_a = match[1]) == null ? void 0 : _a.slice(0, -1),\n    namespace: (_b = match[2]) == null ? void 0 : _b.slice(0, -1),\n    name: match[3]\n  };\n}\nfunction getEntityName(entity) {\n  return {\n    kind: entity.kind,\n    namespace: entity.metadata.namespace || ENTITY_DEFAULT_NAMESPACE,\n    name: entity.metadata.name\n  };\n}\nfunction parseEntityName(ref, context = {}) {\n  const {kind, namespace, name} = parseEntityRef(ref, {\n    defaultNamespace: ENTITY_DEFAULT_NAMESPACE,\n    ...context\n  });\n  if (!kind) {\n    throw new Error(`Entity reference ${namespace}/${name} did not contain a kind`);\n  }\n  return {kind, namespace, name};\n}\nfunction parseEntityRef(ref, context = {}) {\n  var _a, _b;\n  if (!ref) {\n    throw new Error(`Entity reference must not be empty`);\n  }\n  if (typeof ref === \"string\") {\n    const parsed = parseRefString(ref);\n    return {\n      kind: (_a = parsed.kind) != null ? _a : context.defaultKind,\n      namespace: (_b = parsed.namespace) != null ? _b : context.defaultNamespace,\n      name: parsed.name\n    };\n  }\n  const {kind, namespace, name} = ref;\n  if (kind === \"\") {\n    throw new Error(\"Entity reference kinds must not be empty\");\n  } else if (namespace === \"\") {\n    throw new Error(\"Entity reference namespaces must not be empty\");\n  } else if (!name) {\n    throw new Error(\"Entity references must contain a name\");\n  }\n  return {\n    kind: kind != null ? kind : context.defaultKind,\n    namespace: namespace != null ? namespace : context.defaultNamespace,\n    name\n  };\n}\nfunction serializeEntityRef(ref) {\n  let kind;\n  let namespace;\n  let name;\n  if (\"metadata\" in ref) {\n    kind = ref.kind;\n    namespace = ref.metadata.namespace;\n    name = ref.metadata.name;\n  } else {\n    kind = ref.kind;\n    namespace = ref.namespace;\n    name = ref.name;\n  }\n  if ((kind == null ? void 0 : kind.includes(\":\")) || (kind == null ? void 0 : kind.includes(\"/\")) || (namespace == null ? void 0 : namespace.includes(\":\")) || (namespace == null ? void 0 : namespace.includes(\"/\")) || name.includes(\":\") || name.includes(\"/\")) {\n    return {kind, namespace, name};\n  }\n  return `${kind ? `${kind}:` : \"\"}${namespace ? `${namespace}/` : \"\"}${name}`;\n}\nfunction stringifyEntityRef(ref) {\n  var _a, _b;\n  let kind;\n  let namespace;\n  let name;\n  if (\"metadata\" in ref) {\n    kind = ref.kind;\n    namespace = (_a = ref.metadata.namespace) != null ? _a : ENTITY_DEFAULT_NAMESPACE;\n    name = ref.metadata.name;\n  } else {\n    kind = ref.kind;\n    namespace = (_b = ref.namespace) != null ? _b : ENTITY_DEFAULT_NAMESPACE;\n    name = ref.name;\n  }\n  return `${kind.toLowerCase()}:${namespace.toLowerCase()}/${name.toLowerCase()}`;\n}\nfunction compareEntityToRef(entity, ref, context) {\n  const entityKind = entity.kind;\n  const entityNamespace = entity.metadata.namespace || ENTITY_DEFAULT_NAMESPACE;\n  const entityName = entity.metadata.name;\n  let refKind;\n  let refNamespace;\n  let refName;\n  if (typeof ref === \"string\") {\n    const parsed = parseRefString(ref);\n    refKind = parsed.kind || (context == null ? void 0 : context.defaultKind);\n    refNamespace = parsed.namespace || (context == null ? void 0 : context.defaultNamespace) || ENTITY_DEFAULT_NAMESPACE;\n    refName = parsed.name;\n  } else {\n    refKind = ref.kind || (context == null ? void 0 : context.defaultKind);\n    refNamespace = ref.namespace || (context == null ? void 0 : context.defaultNamespace) || ENTITY_DEFAULT_NAMESPACE;\n    refName = ref.name;\n  }\n  if (!refKind || !refNamespace) {\n    throw new Error(`Entity reference or context did not contain kind and namespace`);\n  }\n  return entityKind.toLowerCase() === refKind.toLowerCase() && entityNamespace.toLowerCase() === refNamespace.toLowerCase() && entityName.toLowerCase() === refName.toLowerCase();\n}\n\nfunction generateEntityUid() {\n  return v4();\n}\nfunction generateEntityEtag() {\n  return Buffer.from(v4(), \"utf8\").toString(\"base64\").replace(/[^\\w]/g, \"\");\n}\nfunction entityHasChanges(previous, next) {\n  const e1 = lodash.cloneDeep(previous);\n  const e2 = lodash.cloneDeep(next);\n  if (!e1.metadata.labels) {\n    e1.metadata.labels = {};\n  }\n  if (!e2.metadata.labels) {\n    e2.metadata.labels = {};\n  }\n  if (!e1.metadata.annotations) {\n    e1.metadata.annotations = {};\n  }\n  if (!e2.metadata.annotations) {\n    e2.metadata.annotations = {};\n  }\n  if (!e1.metadata.tags) {\n    e1.metadata.tags = [];\n  }\n  if (!e2.metadata.tags) {\n    e2.metadata.tags = [];\n  }\n  delete e1.metadata.uid;\n  delete e1.metadata.etag;\n  delete e1.metadata.generation;\n  delete e2.metadata.uid;\n  delete e2.metadata.etag;\n  delete e2.metadata.generation;\n  delete e1.relations;\n  delete e2.relations;\n  return !lodash.isEqual(e1, e2);\n}\nfunction generateUpdatedEntity(previous, next) {\n  const {uid, etag, generation} = previous.metadata;\n  if (!uid || !etag || !generation) {\n    throw new Error(\"Previous entity must have uid, etag and generation\");\n  }\n  const result = lodash.cloneDeep(next);\n  const bumpEtag = entityHasChanges(previous, result);\n  const bumpGeneration = !lodash.isEqual(previous.spec, result.spec);\n  result.metadata.uid = uid;\n  result.metadata.etag = bumpEtag ? generateEntityEtag() : etag;\n  result.metadata.generation = bumpGeneration ? generation + 1 : generation;\n  return result;\n}\n\nclass AllEntityPolicies {\n  constructor(policies) {\n    this.policies = policies;\n  }\n  async enforce(entity) {\n    let result = entity;\n    for (const policy of this.policies) {\n      const output = await policy.enforce(result);\n      if (!output) {\n        throw new Error(`Policy ${policy.constructor.name} did not return a result`);\n      }\n      result = output;\n    }\n    return result;\n  }\n}\nclass AnyEntityPolicy {\n  constructor(policies) {\n    this.policies = policies;\n  }\n  async enforce(entity) {\n    for (const policy of this.policies) {\n      const output = await policy.enforce(entity);\n      if (output) {\n        return output;\n      }\n    }\n    throw new Error(`The entity did not match any known policy`);\n  }\n}\nconst EntityPolicies = {\n  allOf(policies) {\n    return new AllEntityPolicies(policies);\n  },\n  oneOf(policies) {\n    return new AnyEntityPolicy(policies);\n  }\n};\n\nfunction schemaValidator(kind, apiVersion, schema) {\n  return {\n    async check(envelope) {\n      if (kind !== envelope.kind || !apiVersion.includes(envelope.apiVersion)) {\n        return false;\n      }\n      await schema.validate(envelope, {strict: true});\n      return true;\n    }\n  };\n}\nfunction ajvCompiledJsonSchemaValidator(kind, apiVersion, schema, extraSchemas) {\n  const ajv = new Ajv({allowUnionTypes: true});\n  if (extraSchemas) {\n    ajv.addSchema(extraSchemas, void 0, void 0, true);\n  }\n  const validate = ajv.compile(schema);\n  return {\n    async check(envelope) {\n      if (kind !== envelope.kind || !apiVersion.includes(envelope.apiVersion)) {\n        return false;\n      }\n      const result = validate(envelope);\n      if (result === true) {\n        return true;\n      }\n      const [error] = validate.errors || [];\n      if (!error) {\n        throw new TypeError(`Malformed ${kind}, Unknown error`);\n      }\n      throw new TypeError(`Malformed ${kind}, ${error.dataPath || \"<root>\"} ${error.message}${error.params ? ` - ${Object.entries(error.params).map(([key, val]) => `${key}: ${val}`).join(\", \")}` : \"\"}`);\n    }\n  };\n}\n\nvar $schema$3 = \"http://json-schema.org/draft-07/schema\";\nvar $id$3 = \"ApiV1alpha1\";\nvar description$3 = \"An API describes an interface that can be exposed by a component. The API can be defined in different formats, like OpenAPI, AsyncAPI, GraphQL, gRPC, or other formats.\";\nvar examples$2 = [\n\t{\n\t\tapiVersion: \"backstage.io/v1alpha1\",\n\t\tkind: \"API\",\n\t\tmetadata: {\n\t\t\tname: \"artist-api\",\n\t\t\tdescription: \"Retrieve artist details\",\n\t\t\tlabels: {\n\t\t\t\tproduct_name: \"Random value Generator\"\n\t\t\t},\n\t\t\tannotations: {\n\t\t\t\tdocs: \"https://github.com/..../tree/develop/doc\"\n\t\t\t}\n\t\t},\n\t\tspec: {\n\t\t\ttype: \"openapi\",\n\t\t\tlifecycle: \"production\",\n\t\t\towner: \"artist-relations-team\",\n\t\t\tsystem: \"artist-engagement-portal\",\n\t\t\tdefinition: \"openapi: \\\"3.0.0\\\"\\ninfo:...\"\n\t\t}\n\t}\n];\nvar allOf = [\n\t{\n\t\t$ref: \"Entity\"\n\t},\n\t{\n\t\ttype: \"object\",\n\t\trequired: [\n\t\t\t\"spec\"\n\t\t],\n\t\tproperties: {\n\t\t\tapiVersion: {\n\t\t\t\t\"enum\": [\n\t\t\t\t\t\"backstage.io/v1alpha1\",\n\t\t\t\t\t\"backstage.io/v1beta1\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tkind: {\n\t\t\t\t\"enum\": [\n\t\t\t\t\t\"API\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tspec: {\n\t\t\t\ttype: \"object\",\n\t\t\t\trequired: [\n\t\t\t\t\t\"type\",\n\t\t\t\t\t\"lifecycle\",\n\t\t\t\t\t\"owner\",\n\t\t\t\t\t\"definition\"\n\t\t\t\t],\n\t\t\t\tproperties: {\n\t\t\t\t\ttype: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"The type of the API definition.\",\n\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\"openapi\",\n\t\t\t\t\t\t\t\"asyncapi\",\n\t\t\t\t\t\t\t\"graphql\",\n\t\t\t\t\t\t\t\"grpc\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t},\n\t\t\t\t\tlifecycle: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"The lifecycle state of the API.\",\n\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\"experimental\",\n\t\t\t\t\t\t\t\"production\",\n\t\t\t\t\t\t\t\"deprecated\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t},\n\t\t\t\t\towner: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"An entity reference to the owner of the API.\",\n\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\"artist-relations-team\",\n\t\t\t\t\t\t\t\"user:john.johnson\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t},\n\t\t\t\t\tsystem: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"An entity reference to the system that the API belongs to.\",\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t},\n\t\t\t\t\tdefinition: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"The definition of the API, based on the format defined by the type.\",\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n];\nvar schema = {\n\t$schema: $schema$3,\n\t$id: $id$3,\n\tdescription: description$3,\n\texamples: examples$2,\n\tallOf: allOf\n};\n\nconst API_VERSION = [\"backstage.io/v1alpha1\", \"backstage.io/v1beta1\"];\nconst KIND = \"API\";\nconst apiEntityV1alpha1Validator = ajvCompiledJsonSchemaValidator(KIND, API_VERSION, schema, [commonSchema, entityMetaSchema, entitySchema]);\n\nvar $schema$4 = \"http://json-schema.org/draft-07/schema\";\nvar $id$4 = \"ComponentV1alpha1\";\nvar description$4 = \"A Component describes a software component. It is typically intimately linked to the source code that constitutes the component, and should be what a developer may regard a \\\"unit of software\\\", usually with a distinct deployable or linkable artifact.\";\nvar examples$3 = [\n\t{\n\t\tapiVersion: \"backstage.io/v1alpha1\",\n\t\tkind: \"Component\",\n\t\tmetadata: {\n\t\t\tname: \"LoremService\",\n\t\t\tdescription: \"Creates Lorems like a pro.\",\n\t\t\tlabels: {\n\t\t\t\tproduct_name: \"Random value Generator\"\n\t\t\t},\n\t\t\tannotations: {\n\t\t\t\tdocs: \"https://github.com/..../tree/develop/doc\"\n\t\t\t}\n\t\t},\n\t\tspec: {\n\t\t\ttype: \"service\",\n\t\t\tlifecycle: \"production\",\n\t\t\towner: \"tools\"\n\t\t}\n\t}\n];\nvar allOf$1 = [\n\t{\n\t\t$ref: \"Entity\"\n\t},\n\t{\n\t\ttype: \"object\",\n\t\trequired: [\n\t\t\t\"spec\"\n\t\t],\n\t\tproperties: {\n\t\t\tapiVersion: {\n\t\t\t\t\"enum\": [\n\t\t\t\t\t\"backstage.io/v1alpha1\",\n\t\t\t\t\t\"backstage.io/v1beta1\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tkind: {\n\t\t\t\t\"enum\": [\n\t\t\t\t\t\"Component\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tspec: {\n\t\t\t\ttype: \"object\",\n\t\t\t\trequired: [\n\t\t\t\t\t\"type\",\n\t\t\t\t\t\"lifecycle\",\n\t\t\t\t\t\"owner\"\n\t\t\t\t],\n\t\t\t\tproperties: {\n\t\t\t\t\ttype: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"The type of component.\",\n\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\"service\",\n\t\t\t\t\t\t\t\"website\",\n\t\t\t\t\t\t\t\"library\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t},\n\t\t\t\t\tlifecycle: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"The lifecycle state of the component.\",\n\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\"experimental\",\n\t\t\t\t\t\t\t\"production\",\n\t\t\t\t\t\t\t\"deprecated\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t},\n\t\t\t\t\towner: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"An entity reference to the owner of the component.\",\n\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\"artist-relations-team\",\n\t\t\t\t\t\t\t\"user:john.johnson\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t},\n\t\t\t\t\tsystem: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"An entity reference to the system that the component belongs to.\",\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t},\n\t\t\t\t\tsubcomponentOf: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"An entity reference to another component of which the component is a part.\",\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t},\n\t\t\t\t\tprovidesApis: {\n\t\t\t\t\t\ttype: \"array\",\n\t\t\t\t\t\tdescription: \"An array of entity references to the APIs that are provided by the component.\",\n\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tconsumesApis: {\n\t\t\t\t\t\ttype: \"array\",\n\t\t\t\t\t\tdescription: \"An array of entity references to the APIs that are consumed by the component.\",\n\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tdependsOn: {\n\t\t\t\t\t\ttype: \"array\",\n\t\t\t\t\t\tdescription: \"An array of references to other entities that the component depends on to function.\",\n\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n];\nvar schema$1 = {\n\t$schema: $schema$4,\n\t$id: $id$4,\n\tdescription: description$4,\n\texamples: examples$3,\n\tallOf: allOf$1\n};\n\nconst API_VERSION$1 = [\"backstage.io/v1alpha1\", \"backstage.io/v1beta1\"];\nconst KIND$1 = \"Component\";\nconst componentEntityV1alpha1Validator = ajvCompiledJsonSchemaValidator(KIND$1, API_VERSION$1, schema$1, [commonSchema, entityMetaSchema, entitySchema]);\n\nvar $schema$5 = \"http://json-schema.org/draft-07/schema\";\nvar $id$5 = \"DomainV1alpha1\";\nvar description$5 = \"A Domain groups a collection of systems that share terminology, domain models, business purpose, or documentation, i.e. form a bounded context.\";\nvar examples$4 = [\n\t{\n\t\tapiVersion: \"backstage.io/v1alpha1\",\n\t\tkind: \"Domain\",\n\t\tmetadata: {\n\t\t\tname: \"artists\",\n\t\t\tdescription: \"Everything about artists\"\n\t\t},\n\t\tspec: {\n\t\t\towner: \"artist-relations-team\"\n\t\t}\n\t}\n];\nvar allOf$2 = [\n\t{\n\t\t$ref: \"Entity\"\n\t},\n\t{\n\t\ttype: \"object\",\n\t\trequired: [\n\t\t\t\"spec\"\n\t\t],\n\t\tproperties: {\n\t\t\tapiVersion: {\n\t\t\t\t\"enum\": [\n\t\t\t\t\t\"backstage.io/v1alpha1\",\n\t\t\t\t\t\"backstage.io/v1beta1\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tkind: {\n\t\t\t\t\"enum\": [\n\t\t\t\t\t\"Domain\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tspec: {\n\t\t\t\ttype: \"object\",\n\t\t\t\trequired: [\n\t\t\t\t\t\"owner\"\n\t\t\t\t],\n\t\t\t\tproperties: {\n\t\t\t\t\towner: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"An entity reference to the owner of the component.\",\n\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\"artist-relations-team\",\n\t\t\t\t\t\t\t\"user:john.johnson\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n];\nvar schema$2 = {\n\t$schema: $schema$5,\n\t$id: $id$5,\n\tdescription: description$5,\n\texamples: examples$4,\n\tallOf: allOf$2\n};\n\nconst API_VERSION$2 = [\"backstage.io/v1alpha1\", \"backstage.io/v1beta1\"];\nconst KIND$2 = \"Domain\";\nconst domainEntityV1alpha1Validator = ajvCompiledJsonSchemaValidator(KIND$2, API_VERSION$2, schema$2, [commonSchema, entityMetaSchema, entitySchema]);\n\nvar $schema$6 = \"http://json-schema.org/draft-07/schema\";\nvar $id$6 = \"GroupV1alpha1\";\nvar description$6 = \"A group describes an organizational entity, such as for example a team, a business unit, or a loose collection of people in an interest group. Members of these groups are modeled in the catalog as kind User.\";\nvar examples$5 = [\n\t{\n\t\tapiVersion: \"backstage.io/v1alpha1\",\n\t\tkind: \"Group\",\n\t\tmetadata: {\n\t\t\tname: \"infrastructure\",\n\t\t\tdescription: \"The infra business unit\"\n\t\t},\n\t\tspec: {\n\t\t\ttype: \"business-unit\",\n\t\t\tprofile: {\n\t\t\t\tdisplayName: \"Infrastructure\",\n\t\t\t\temail: \"infrastructure@example.com\",\n\t\t\t\tpicture: \"https://example.com/groups/bu-infrastructure.jpeg\"\n\t\t\t},\n\t\t\tparent: \"ops\",\n\t\t\tchildren: [\n\t\t\t\t\"backstage\",\n\t\t\t\t\"other\"\n\t\t\t]\n\t\t}\n\t}\n];\nvar allOf$3 = [\n\t{\n\t\t$ref: \"Entity\"\n\t},\n\t{\n\t\ttype: \"object\",\n\t\trequired: [\n\t\t\t\"spec\"\n\t\t],\n\t\tproperties: {\n\t\t\tapiVersion: {\n\t\t\t\t\"enum\": [\n\t\t\t\t\t\"backstage.io/v1alpha1\",\n\t\t\t\t\t\"backstage.io/v1beta1\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tkind: {\n\t\t\t\t\"enum\": [\n\t\t\t\t\t\"Group\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tspec: {\n\t\t\t\ttype: \"object\",\n\t\t\t\trequired: [\n\t\t\t\t\t\"type\",\n\t\t\t\t\t\"children\"\n\t\t\t\t],\n\t\t\t\tproperties: {\n\t\t\t\t\ttype: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"The type of group. There is currently no enforced set of values for this field, so it is left up to the adopting organization to choose a nomenclature that matches their org hierarchy.\",\n\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\"team\",\n\t\t\t\t\t\t\t\"business-unit\",\n\t\t\t\t\t\t\t\"product-area\",\n\t\t\t\t\t\t\t\"root\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t},\n\t\t\t\t\tprofile: {\n\t\t\t\t\t\ttype: \"object\",\n\t\t\t\t\t\tdescription: \"Optional profile information about the group, mainly for display purposes. All fields of this structure are also optional. The email would be a group email of some form, that the group may wish to be used for contacting them. The picture is expected to be a URL pointing to an image that's representative of the group, and that a browser could fetch and render on a group page or similar.\",\n\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\tdisplayName: {\n\t\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\t\tdescription: \"A simple display name to present to users.\",\n\t\t\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\t\t\"Infrastructure\"\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\temail: {\n\t\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\t\tdescription: \"An email where this entity can be reached.\",\n\t\t\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\t\t\"infrastructure@example.com\"\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tpicture: {\n\t\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\t\tdescription: \"The URL of an image that represents this entity.\",\n\t\t\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\t\t\"https://example.com/groups/bu-infrastructure.jpeg\"\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tparent: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"The immediate parent group in the hierarchy, if any. Not all groups must have a parent; the catalog supports multi-root hierarchies. Groups may however not have more than one parent. This field is an entity reference.\",\n\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\"ops\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t},\n\t\t\t\t\tchildren: {\n\t\t\t\t\t\ttype: \"array\",\n\t\t\t\t\t\tdescription: \"The immediate child groups of this group in the hierarchy (whose parent field points to this group). The list must be present, but may be empty if there are no child groups. The items are not guaranteed to be ordered in any particular way. The entries of this array are entity references.\",\n\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\t\"backstage\",\n\t\t\t\t\t\t\t\t\"other\"\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tmembers: {\n\t\t\t\t\t\ttype: \"array\",\n\t\t\t\t\t\tdescription: \"The users that are members of this group. The entries of this array are entity references.\",\n\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\t\"jdoe\"\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n];\nvar schema$3 = {\n\t$schema: $schema$6,\n\t$id: $id$6,\n\tdescription: description$6,\n\texamples: examples$5,\n\tallOf: allOf$3\n};\n\nconst API_VERSION$3 = [\"backstage.io/v1alpha1\", \"backstage.io/v1beta1\"];\nconst KIND$3 = \"Group\";\nconst groupEntityV1alpha1Validator = ajvCompiledJsonSchemaValidator(KIND$3, API_VERSION$3, schema$3, [commonSchema, entityMetaSchema, entitySchema]);\n\nvar $schema$7 = \"http://json-schema.org/draft-07/schema\";\nvar $id$7 = \"LocationV1alpha1\";\nvar description$7 = \"A location is a marker that references other places to look for catalog data.\";\nvar examples$6 = [\n\t{\n\t\tapiVersion: \"backstage.io/v1alpha1\",\n\t\tkind: \"Location\",\n\t\tmetadata: {\n\t\t\tname: \"org-data\"\n\t\t},\n\t\tspec: {\n\t\t\ttype: \"url\",\n\t\t\ttargets: [\n\t\t\t\t\"http://github.com/myorg/myproject/org-data-dump/catalog-info-staff.yaml\",\n\t\t\t\t\"http://github.com/myorg/myproject/org-data-dump/catalog-info-consultants.yaml\"\n\t\t\t]\n\t\t}\n\t}\n];\nvar allOf$4 = [\n\t{\n\t\t$ref: \"Entity\"\n\t},\n\t{\n\t\ttype: \"object\",\n\t\trequired: [\n\t\t\t\"spec\"\n\t\t],\n\t\tproperties: {\n\t\t\tapiVersion: {\n\t\t\t\t\"enum\": [\n\t\t\t\t\t\"backstage.io/v1alpha1\",\n\t\t\t\t\t\"backstage.io/v1beta1\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tkind: {\n\t\t\t\t\"enum\": [\n\t\t\t\t\t\"Location\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tspec: {\n\t\t\t\ttype: \"object\",\n\t\t\t\trequired: [\n\t\t\t\t],\n\t\t\t\tproperties: {\n\t\t\t\t\ttype: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"The single location type, that's common to the targets specified in the spec. If it is left out, it is inherited from the location type that originally read the entity data.\",\n\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\"url\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t},\n\t\t\t\t\ttarget: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"A single target as a string. Can be either an absolute path/URL (depending on the type), or a relative path such as ./details/catalog-info.yaml which is resolved relative to the location of this Location entity itself.\",\n\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\"./details/catalog-info.yaml\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t},\n\t\t\t\t\ttargets: {\n\t\t\t\t\t\ttype: \"array\",\n\t\t\t\t\t\tdescription: \"A list of targets as strings. They can all be either absolute paths/URLs (depending on the type), or relative paths such as ./details/catalog-info.yaml which are resolved relative to the location of this Location entity itself.\",\n\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\t\"./details/catalog-info.yaml\",\n\t\t\t\t\t\t\t\t\"http://github.com/myorg/myproject/org-data-dump/catalog-info-staff.yaml\"\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n];\nvar schema$4 = {\n\t$schema: $schema$7,\n\t$id: $id$7,\n\tdescription: description$7,\n\texamples: examples$6,\n\tallOf: allOf$4\n};\n\nconst API_VERSION$4 = [\"backstage.io/v1alpha1\", \"backstage.io/v1beta1\"];\nconst KIND$4 = \"Location\";\nconst locationEntityV1alpha1Validator = ajvCompiledJsonSchemaValidator(KIND$4, API_VERSION$4, schema$4, [commonSchema, entityMetaSchema, entitySchema]);\n\nconst RELATION_OWNED_BY = \"ownedBy\";\nconst RELATION_OWNER_OF = \"ownerOf\";\nconst RELATION_CONSUMES_API = \"consumesApi\";\nconst RELATION_API_CONSUMED_BY = \"apiConsumedBy\";\nconst RELATION_PROVIDES_API = \"providesApi\";\nconst RELATION_API_PROVIDED_BY = \"apiProvidedBy\";\nconst RELATION_DEPENDS_ON = \"dependsOn\";\nconst RELATION_DEPENDENCY_OF = \"dependencyOf\";\nconst RELATION_PARENT_OF = \"parentOf\";\nconst RELATION_CHILD_OF = \"childOf\";\nconst RELATION_MEMBER_OF = \"memberOf\";\nconst RELATION_HAS_MEMBER = \"hasMember\";\nconst RELATION_PART_OF = \"partOf\";\nconst RELATION_HAS_PART = \"hasPart\";\n\nvar $schema$8 = \"http://json-schema.org/draft-07/schema\";\nvar $id$8 = \"ResourceV1alpha1\";\nvar description$8 = \"A resource describes the infrastructure a system needs to operate, like BigTable databases, Pub/Sub topics, S3 buckets or CDNs. Modelling them together with components and systems allows to visualize resource footprint, and create tooling around them.\";\nvar examples$7 = [\n\t{\n\t\tapiVersion: \"backstage.io/v1alpha1\",\n\t\tkind: \"Resource\",\n\t\tmetadata: {\n\t\t\tname: \"artists-db\",\n\t\t\tdescription: \"Stores artist details\"\n\t\t},\n\t\tspec: {\n\t\t\ttype: \"database\",\n\t\t\towner: \"artist-relations-team\",\n\t\t\tsystem: \"artist-engagement-portal\"\n\t\t}\n\t}\n];\nvar allOf$5 = [\n\t{\n\t\t$ref: \"Entity\"\n\t},\n\t{\n\t\ttype: \"object\",\n\t\trequired: [\n\t\t\t\"spec\"\n\t\t],\n\t\tproperties: {\n\t\t\tapiVersion: {\n\t\t\t\t\"enum\": [\n\t\t\t\t\t\"backstage.io/v1alpha1\",\n\t\t\t\t\t\"backstage.io/v1beta1\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tkind: {\n\t\t\t\t\"enum\": [\n\t\t\t\t\t\"Resource\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tspec: {\n\t\t\t\ttype: \"object\",\n\t\t\t\trequired: [\n\t\t\t\t\t\"type\",\n\t\t\t\t\t\"owner\"\n\t\t\t\t],\n\t\t\t\tproperties: {\n\t\t\t\t\ttype: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"The type of resource.\",\n\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\"database\",\n\t\t\t\t\t\t\t\"s3-bucket\",\n\t\t\t\t\t\t\t\"cluster\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t},\n\t\t\t\t\towner: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"An entity reference to the owner of the resource.\",\n\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\"artist-relations-team\",\n\t\t\t\t\t\t\t\"user:john.johnson\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t},\n\t\t\t\t\tdependsOn: {\n\t\t\t\t\t\ttype: \"array\",\n\t\t\t\t\t\tdescription: \"An array of references to other entities that the resource depends on to function.\",\n\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tsystem: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"An entity reference to the system that the resource belongs to.\",\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n];\nvar schema$5 = {\n\t$schema: $schema$8,\n\t$id: $id$8,\n\tdescription: description$8,\n\texamples: examples$7,\n\tallOf: allOf$5\n};\n\nconst API_VERSION$5 = [\"backstage.io/v1alpha1\", \"backstage.io/v1beta1\"];\nconst KIND$5 = \"Resource\";\nconst resourceEntityV1alpha1Validator = ajvCompiledJsonSchemaValidator(KIND$5, API_VERSION$5, schema$5, [commonSchema, entityMetaSchema, entitySchema]);\n\nvar $schema$9 = \"http://json-schema.org/draft-07/schema\";\nvar $id$9 = \"SystemV1alpha1\";\nvar description$9 = \"A system is a collection of resources and components. The system may expose or consume one or several APIs. It is viewed as abstraction level that provides potential consumers insights into exposed features without needing a too detailed view into the details of all components. This also gives the owning team the possibility to decide about published artifacts and APIs.\";\nvar examples$8 = [\n\t{\n\t\tapiVersion: \"backstage.io/v1alpha1\",\n\t\tkind: \"System\",\n\t\tmetadata: {\n\t\t\tname: \"artist-engagement-portal\",\n\t\t\tdescription: \"Handy tools to keep artists in the loop\"\n\t\t},\n\t\tspec: {\n\t\t\towner: \"artist-relations-team\",\n\t\t\tdomain: \"artists\"\n\t\t}\n\t}\n];\nvar allOf$6 = [\n\t{\n\t\t$ref: \"Entity\"\n\t},\n\t{\n\t\ttype: \"object\",\n\t\trequired: [\n\t\t\t\"spec\"\n\t\t],\n\t\tproperties: {\n\t\t\tapiVersion: {\n\t\t\t\t\"enum\": [\n\t\t\t\t\t\"backstage.io/v1alpha1\",\n\t\t\t\t\t\"backstage.io/v1beta1\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tkind: {\n\t\t\t\t\"enum\": [\n\t\t\t\t\t\"System\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tspec: {\n\t\t\t\ttype: \"object\",\n\t\t\t\trequired: [\n\t\t\t\t\t\"owner\"\n\t\t\t\t],\n\t\t\t\tproperties: {\n\t\t\t\t\towner: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"An entity reference to the owner of the component.\",\n\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\"artist-relations-team\",\n\t\t\t\t\t\t\t\"user:john.johnson\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t},\n\t\t\t\t\tdomain: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"An entity reference to the domain that the system belongs to.\",\n\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\"artists\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n];\nvar schema$6 = {\n\t$schema: $schema$9,\n\t$id: $id$9,\n\tdescription: description$9,\n\texamples: examples$8,\n\tallOf: allOf$6\n};\n\nconst API_VERSION$6 = [\"backstage.io/v1alpha1\", \"backstage.io/v1beta1\"];\nconst KIND$6 = \"System\";\nconst systemEntityV1alpha1Validator = ajvCompiledJsonSchemaValidator(KIND$6, API_VERSION$6, schema$6, [commonSchema, entityMetaSchema, entitySchema]);\n\nvar $schema$a = \"http://json-schema.org/draft-07/schema\";\nvar $id$a = \"TemplateV1alpha1\";\nvar description$a = \"A Template describes a skeleton for use with the Scaffolder. It is used for describing what templating library is supported, and also for documenting the variables that the template requires using JSON Forms Schema.\";\nvar examples$9 = [\n\t{\n\t\tapiVersion: \"backstage.io/v1alpha1\",\n\t\tkind: \"Template\",\n\t\tmetadata: {\n\t\t\tname: \"react-ssr-template\",\n\t\t\ttitle: \"React SSR Template\",\n\t\t\tdescription: \"Next.js application skeleton for creating isomorphic web applications.\",\n\t\t\ttags: [\n\t\t\t\t\"recommended\",\n\t\t\t\t\"react\"\n\t\t\t]\n\t\t},\n\t\tspec: {\n\t\t\towner: \"artist-relations-team\",\n\t\t\ttemplater: \"cookiecutter\",\n\t\t\ttype: \"website\",\n\t\t\tpath: \".\",\n\t\t\tschema: {\n\t\t\t\trequired: [\n\t\t\t\t\t\"component-id\",\n\t\t\t\t\t\"description\"\n\t\t\t\t],\n\t\t\t\tproperties: {\n\t\t\t\t\tcomponent_id: {\n\t\t\t\t\t\ttitle: \"Name\",\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"Unique name of the component\"\n\t\t\t\t\t},\n\t\t\t\t\tdescription: {\n\t\t\t\t\t\ttitle: \"Description\",\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"Description of the component\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n];\nvar allOf$7 = [\n\t{\n\t\t$ref: \"Entity\"\n\t},\n\t{\n\t\ttype: \"object\",\n\t\trequired: [\n\t\t\t\"spec\"\n\t\t],\n\t\tproperties: {\n\t\t\tapiVersion: {\n\t\t\t\t\"enum\": [\n\t\t\t\t\t\"backstage.io/v1alpha1\",\n\t\t\t\t\t\"backstage.io/v1beta1\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tkind: {\n\t\t\t\t\"enum\": [\n\t\t\t\t\t\"Template\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tmetadata: {\n\t\t\t\ttype: \"object\",\n\t\t\t\tproperties: {\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"The nice display name for the template. This field is required as is used to reference the template to the user instead of the metadata.name field.\",\n\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\"React SSR Template\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tspec: {\n\t\t\t\ttype: \"object\",\n\t\t\t\trequired: [\n\t\t\t\t\t\"type\",\n\t\t\t\t\t\"templater\",\n\t\t\t\t\t\"schema\"\n\t\t\t\t],\n\t\t\t\tproperties: {\n\t\t\t\t\ttype: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"The type of component created by the template. The software catalog accepts any type value, but an organization should take great care to establish a proper taxonomy for these. Tools including Backstage itself may read this field and behave differently depending on its value. For example, a website type component may present tooling in the Backstage interface that is specific to just websites.\",\n\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\"service\",\n\t\t\t\t\t\t\t\"website\",\n\t\t\t\t\t\t\t\"library\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t},\n\t\t\t\t\ttemplater: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"The templating library that is supported by the template skeleton.\",\n\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\"cookiecutter\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t},\n\t\t\t\t\tpath: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"The string location where the templater should be run if it is not on the same level as the template.yaml definition.\",\n\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\"./cookiecutter/skeleton\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t},\n\t\t\t\t\tschema: {\n\t\t\t\t\t\ttype: \"object\",\n\t\t\t\t\t\tdescription: \"The JSONSchema describing the inputs for the template.\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n];\nvar schema$7 = {\n\t$schema: $schema$a,\n\t$id: $id$a,\n\tdescription: description$a,\n\texamples: examples$9,\n\tallOf: allOf$7\n};\n\nconst API_VERSION$7 = [\"backstage.io/v1alpha1\", \"backstage.io/v1beta1\"];\nconst KIND$7 = \"Template\";\nconst templateEntityV1alpha1Validator = ajvCompiledJsonSchemaValidator(KIND$7, API_VERSION$7, schema$7, [commonSchema, entityMetaSchema, entitySchema]);\n\nvar $schema$b = \"http://json-schema.org/draft-07/schema\";\nvar $id$b = \"TemplateV1beta1\";\nvar description$b = \"A Template describes a scaffolding task for use with the Scaffolder. It describes the required parameters as well as a series of steps that will be taken to execute the scaffolding task.\";\nvar examples$a = [\n\t{\n\t\tapiVersion: \"backstage.io/v1beta1\",\n\t\tkind: \"Template\",\n\t\tmetadata: {\n\t\t\tname: \"react-ssr-template\",\n\t\t\ttitle: \"React SSR Template\",\n\t\t\tdescription: \"Next.js application skeleton for creating isomorphic web applications.\",\n\t\t\ttags: [\n\t\t\t\t\"recommended\",\n\t\t\t\t\"react\"\n\t\t\t]\n\t\t},\n\t\tspec: {\n\t\t\towner: \"artist-relations-team\",\n\t\t\ttype: \"website\",\n\t\t\tparameters: {\n\t\t\t\trequired: [\n\t\t\t\t\t\"name\",\n\t\t\t\t\t\"description\"\n\t\t\t\t],\n\t\t\t\tproperties: {\n\t\t\t\t\tname: {\n\t\t\t\t\t\ttitle: \"Name\",\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"Unique name of the component\"\n\t\t\t\t\t},\n\t\t\t\t\tdescription: {\n\t\t\t\t\t\ttitle: \"Description\",\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"Description of the component\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tsteps: [\n\t\t\t\t{\n\t\t\t\t\tid: \"fetch\",\n\t\t\t\t\tname: \"Fetch\",\n\t\t\t\t\taction: \"fetch:plain\",\n\t\t\t\t\tparameters: {\n\t\t\t\t\t\turl: \"./template\"\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: \"publish\",\n\t\t\t\t\tname: \"Publish to GitHub\",\n\t\t\t\t\taction: \"publish:github\",\n\t\t\t\t\tparameters: {\n\t\t\t\t\t\trepoUrl: \"{{ parameters.repoUrl }}\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t],\n\t\t\toutput: {\n\t\t\t\tcatalogInfoUrl: \"{{ steps.publish.output.catalogInfoUrl }}\"\n\t\t\t}\n\t\t}\n\t}\n];\nvar allOf$8 = [\n\t{\n\t\t$ref: \"Entity\"\n\t},\n\t{\n\t\ttype: \"object\",\n\t\trequired: [\n\t\t\t\"spec\"\n\t\t],\n\t\tproperties: {\n\t\t\tapiVersion: {\n\t\t\t\t\"enum\": [\n\t\t\t\t\t\"backstage.io/v1beta2\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tkind: {\n\t\t\t\t\"enum\": [\n\t\t\t\t\t\"Template\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tmetadata: {\n\t\t\t\ttype: \"object\",\n\t\t\t\tproperties: {\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"The nice display name for the template.\",\n\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\"React SSR Template\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tspec: {\n\t\t\t\ttype: \"object\",\n\t\t\t\trequired: [\n\t\t\t\t\t\"type\",\n\t\t\t\t\t\"steps\"\n\t\t\t\t],\n\t\t\t\tproperties: {\n\t\t\t\t\ttype: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tdescription: \"The type of component created by the template. The software catalog accepts any type value, but an organization should take great care to establish a proper taxonomy for these. Tools including Backstage itself may read this field and behave differently depending on its value. For example, a website type component may present tooling in the Backstage interface that is specific to just websites.\",\n\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\"service\",\n\t\t\t\t\t\t\t\"website\",\n\t\t\t\t\t\t\t\"library\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t},\n\t\t\t\t\tparameters: {\n\t\t\t\t\t\toneOf: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: \"object\",\n\t\t\t\t\t\t\t\tdescription: \"The JSONSchema describing the inputs for the template.\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: \"array\",\n\t\t\t\t\t\t\t\tdescription: \"A list of separate forms to collect parameters.\",\n\t\t\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\t\t\ttype: \"object\",\n\t\t\t\t\t\t\t\t\tdescription: \"The JSONSchema describing the inputs for the template.\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t},\n\t\t\t\t\tsteps: {\n\t\t\t\t\t\ttype: \"array\",\n\t\t\t\t\t\tdescription: \"A list of steps to execute.\",\n\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\ttype: \"object\",\n\t\t\t\t\t\t\tdescription: \"A description of the step to execute.\",\n\t\t\t\t\t\t\trequired: [\n\t\t\t\t\t\t\t\t\"action\"\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\tid: {\n\t\t\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\t\t\tdescription: \"The ID of the step, which can be used to refer to its outputs.\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tname: {\n\t\t\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\t\t\tdescription: \"The name of the step, which will be displayed in the UI during the scaffolding process.\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\taction: {\n\t\t\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\t\t\tdescription: \"The name of the action to execute.\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tinput: {\n\t\t\t\t\t\t\t\t\ttype: \"object\",\n\t\t\t\t\t\t\t\t\tdescription: \"A templated object describing the inputs to the action.\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\toutput: {\n\t\t\t\t\t\ttype: \"object\",\n\t\t\t\t\t\tdescription: \"A templated object describing the outputs of the scaffolding task.\",\n\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\tlinks: {\n\t\t\t\t\t\t\t\ttype: \"array\",\n\t\t\t\t\t\t\t\tdescription: \"A list of external hyperlinks, typically pointing to resources created or updated by the template\",\n\t\t\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\t\t\ttype: \"object\",\n\t\t\t\t\t\t\t\t\trequired: [\n\t\t\t\t\t\t\t\t\t\t\"url\"\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\t\turl: {\n\t\t\t\t\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\t\t\t\t\tdescription: \"A url in a standard uri format.\",\n\t\t\t\t\t\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\t\t\t\t\t\"https://github.com/my-org/my-new-repo\"\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\ttitle: {\n\t\t\t\t\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\t\t\t\t\tdescription: \"A user friendly display name for the link.\",\n\t\t\t\t\t\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\t\t\t\t\t\"View new repo\"\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\ticon: {\n\t\t\t\t\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\t\t\t\t\tdescription: \"A key representing a visual icon to be displayed in the UI.\",\n\t\t\t\t\t\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\t\t\t\t\t\"dashboard\"\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tadditionalProperties: {\n\t\t\t\t\t\t\ttype: \"string\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n];\nvar schema$8 = {\n\t$schema: $schema$b,\n\t$id: $id$b,\n\tdescription: description$b,\n\texamples: examples$a,\n\tallOf: allOf$8\n};\n\nconst API_VERSION$8 = [\"backstage.io/v1beta2\"];\nconst KIND$8 = \"Template\";\nconst templateEntityV1beta2Validator = ajvCompiledJsonSchemaValidator(KIND$8, API_VERSION$8, schema$8, [commonSchema, entityMetaSchema, entitySchema]);\n\nvar $schema$c = \"http://json-schema.org/draft-07/schema\";\nvar $id$c = \"UserV1alpha1\";\nvar description$c = \"A user describes a person, such as an employee, a contractor, or similar. Users belong to Group entities in the catalog. These catalog user entries are connected to the way that authentication within the Backstage ecosystem works. See the auth section of the docs for a discussion of these concepts.\";\nvar examples$b = [\n\t{\n\t\tapiVersion: \"backstage.io/v1alpha1\",\n\t\tkind: \"User\",\n\t\tmetadata: {\n\t\t\tname: \"jdoe\"\n\t\t},\n\t\tspec: {\n\t\t\tprofile: {\n\t\t\t\tdisplayName: \"Jenny Doe\",\n\t\t\t\temail: \"jenny-doe@example.com\",\n\t\t\t\tpicture: \"https://example.com/staff/jenny-with-party-hat.jpeg\"\n\t\t\t},\n\t\t\tmemberOf: [\n\t\t\t\t\"team-b\",\n\t\t\t\t\"employees\"\n\t\t\t]\n\t\t}\n\t}\n];\nvar allOf$9 = [\n\t{\n\t\t$ref: \"Entity\"\n\t},\n\t{\n\t\ttype: \"object\",\n\t\trequired: [\n\t\t\t\"spec\"\n\t\t],\n\t\tproperties: {\n\t\t\tapiVersion: {\n\t\t\t\t\"enum\": [\n\t\t\t\t\t\"backstage.io/v1alpha1\",\n\t\t\t\t\t\"backstage.io/v1beta1\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tkind: {\n\t\t\t\t\"enum\": [\n\t\t\t\t\t\"User\"\n\t\t\t\t]\n\t\t\t},\n\t\t\tspec: {\n\t\t\t\ttype: \"object\",\n\t\t\t\trequired: [\n\t\t\t\t\t\"memberOf\"\n\t\t\t\t],\n\t\t\t\tproperties: {\n\t\t\t\t\tprofile: {\n\t\t\t\t\t\ttype: \"object\",\n\t\t\t\t\t\tdescription: \"Optional profile information about the user, mainly for display purposes. All fields of this structure are also optional. The email would be a primary email of some form, that the user may wish to be used for contacting them. The picture is expected to be a URL pointing to an image that's representative of the user, and that a browser could fetch and render on a profile page or similar.\",\n\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\tdisplayName: {\n\t\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\t\tdescription: \"A simple display name to present to users.\",\n\t\t\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\t\t\"Jenny Doe\"\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\temail: {\n\t\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\t\tdescription: \"An email where this user can be reached.\",\n\t\t\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\t\t\"jenny-doe@example.com\"\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tpicture: {\n\t\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\t\tdescription: \"The URL of an image that represents this user.\",\n\t\t\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\t\t\"https://example.com/staff/jenny-with-party-hat.jpeg\"\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tmemberOf: {\n\t\t\t\t\t\ttype: \"array\",\n\t\t\t\t\t\tdescription: \"The list of groups that the user is a direct member of (i.e., no transitive memberships are listed here). The list must be present, but may be empty if the user is not member of any groups. The items are not guaranteed to be ordered in any particular way. The entries of this array are entity references.\",\n\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\texamples: [\n\t\t\t\t\t\t\t\t\"team-b\",\n\t\t\t\t\t\t\t\t\"employees\"\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n];\nvar schema$9 = {\n\t$schema: $schema$c,\n\t$id: $id$c,\n\tdescription: description$c,\n\texamples: examples$b,\n\tallOf: allOf$9\n};\n\nconst API_VERSION$9 = [\"backstage.io/v1alpha1\", \"backstage.io/v1beta1\"];\nconst KIND$9 = \"User\";\nconst userEntityV1alpha1Validator = ajvCompiledJsonSchemaValidator(KIND$9, API_VERSION$9, schema$9, [commonSchema, entityMetaSchema, entitySchema]);\n\nconst LOCATION_ANNOTATION = \"backstage.io/managed-by-location\";\nconst ORIGIN_LOCATION_ANNOTATION = \"backstage.io/managed-by-origin-location\";\nconst SOURCE_LOCATION_ANNOTATION = \"backstage.io/source-location\";\n\nfunction parseLocationReference(ref) {\n  if (typeof ref !== \"string\") {\n    throw new TypeError(`Unable to parse location reference '${ref}', unexpected argument ${typeof ref}`);\n  }\n  const splitIndex = ref.indexOf(\":\");\n  if (splitIndex < 0) {\n    throw new TypeError(`Unable to parse location reference '${ref}', expected '<type>:<target>', e.g. 'url:https://host/path'`);\n  }\n  const type = ref.substr(0, splitIndex).trim();\n  const target = ref.substr(splitIndex + 1).trim();\n  if (!type || !target) {\n    throw new TypeError(`Unable to parse location reference '${ref}', expected '<type>:<target>', e.g. 'url:https://host/path'`);\n  }\n  if (type === \"http\" || type === \"https\") {\n    throw new TypeError(`Invalid location reference '${ref}', please prefix it with 'url:', e.g. 'url:${ref}'`);\n  }\n  return {type, target};\n}\nfunction stringifyLocationReference(ref) {\n  const {type, target} = ref;\n  if (!type) {\n    throw new TypeError(`Unable to stringify location reference, empty type`);\n  } else if (!target) {\n    throw new TypeError(`Unable to stringify location reference, empty target`);\n  }\n  return `${type}:${target}`;\n}\nfunction getEntitySourceLocation(entity) {\n  var _a, _b, _c, _d, _e;\n  const locationRef = (_e = (_b = (_a = entity.metadata) == null ? void 0 : _a.annotations) == null ? void 0 : _b[SOURCE_LOCATION_ANNOTATION]) != null ? _e : (_d = (_c = entity.metadata) == null ? void 0 : _c.annotations) == null ? void 0 : _d[LOCATION_ANNOTATION];\n  if (!locationRef) {\n    throw new Error(`Entity '${stringifyEntityRef(entity)}' is missing location`);\n  }\n  return parseLocationReference(locationRef);\n}\n\nconst locationSpecSchema = object({\n  type: string().required(),\n  target: string().required(),\n  presence: string()\n}).noUnknown().required();\nconst locationSchema = object({\n  id: string().required(),\n  type: string().required(),\n  target: string().required()\n}).noUnknown().required();\nconst analyzeLocationSchema = object({\n  location: locationSpecSchema\n}).noUnknown().required();\n\nexport { CommonValidatorFunctions, DefaultNamespaceEntityPolicy, EDIT_URL_ANNOTATION, ENTITY_DEFAULT_NAMESPACE, ENTITY_META_GENERATED_FIELDS, EntityPolicies, FieldFormatEntityPolicy, KubernetesValidatorFunctions, LOCATION_ANNOTATION, NoForeignRootFieldsEntityPolicy, ORIGIN_LOCATION_ANNOTATION, RELATION_API_CONSUMED_BY, RELATION_API_PROVIDED_BY, RELATION_CHILD_OF, RELATION_CONSUMES_API, RELATION_DEPENDENCY_OF, RELATION_DEPENDS_ON, RELATION_HAS_MEMBER, RELATION_HAS_PART, RELATION_MEMBER_OF, RELATION_OWNED_BY, RELATION_OWNER_OF, RELATION_PARENT_OF, RELATION_PART_OF, RELATION_PROVIDES_API, SOURCE_LOCATION_ANNOTATION, SchemaValidEntityPolicy, VIEW_URL_ANNOTATION, analyzeLocationSchema, apiEntityV1alpha1Validator, compareEntityToRef, componentEntityV1alpha1Validator, domainEntityV1alpha1Validator, entityHasChanges, generateEntityEtag, generateEntityUid, generateUpdatedEntity, getEntityName, getEntitySourceLocation, groupEntityV1alpha1Validator, locationEntityV1alpha1Validator, locationSchema, locationSpecSchema, makeValidator, parseEntityName, parseEntityRef, parseLocationReference, resourceEntityV1alpha1Validator, schemaValidator, serializeEntityRef, stringifyEntityRef, stringifyLocationReference, systemEntityV1alpha1Validator, templateEntityV1alpha1Validator, templateEntityV1beta2Validator, userEntityV1alpha1Validator };\n//# sourceMappingURL=index.esm.js.map\n","import { createApiRef, createExternalRouteRef, createRouteRef, createPlugin, createApiFactory, discoveryApiRef, identityApiRef, createRoutableExtension } from '@backstage/core';\nimport { scmIntegrationsApiRef } from '@backstage/integration-react';\nimport { ResponseError } from '@backstage/errors';\nimport ObservableImpl from 'zen-observable';\n\nconst scaffolderApiRef = createApiRef({\n  id: \"plugin.scaffolder.service\",\n  description: \"Used to make requests towards the scaffolder backend\"\n});\nclass ScaffolderClient {\n  constructor(options) {\n    this.discoveryApi = options.discoveryApi;\n    this.identityApi = options.identityApi;\n    this.scmIntegrationsApi = options.scmIntegrationsApi;\n  }\n  async getIntegrationsList(options) {\n    return [\n      ...this.scmIntegrationsApi.azure.list(),\n      ...this.scmIntegrationsApi.bitbucket.list(),\n      ...this.scmIntegrationsApi.github.list(),\n      ...this.scmIntegrationsApi.gitlab.list()\n    ].map((c) => ({type: c.type, title: c.title, host: c.config.host})).filter((c) => options.allowedHosts.includes(c.host));\n  }\n  async getTemplateParameterSchema(templateName) {\n    const {namespace, kind, name} = templateName;\n    const token = await this.identityApi.getIdToken();\n    const baseUrl = await this.discoveryApi.getBaseUrl(\"scaffolder\");\n    const templatePath = [namespace, kind, name].map((s) => encodeURIComponent(s)).join(\"/\");\n    const url = `${baseUrl}/v2/templates/${templatePath}/parameter-schema`;\n    const response = await fetch(url, {\n      headers: {\n        ...token && {Authorization: `Bearer ${token}`}\n      }\n    });\n    if (!response.ok) {\n      throw ResponseError.fromResponse(response);\n    }\n    const schema = await response.json();\n    return schema;\n  }\n  async scaffold(templateName, values) {\n    const token = await this.identityApi.getIdToken();\n    const url = `${await this.discoveryApi.getBaseUrl(\"scaffolder\")}/v2/tasks`;\n    const response = await fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...token && {Authorization: `Bearer ${token}`}\n      },\n      body: JSON.stringify({templateName, values: {...values}})\n    });\n    if (response.status !== 201) {\n      const status = `${response.status} ${response.statusText}`;\n      const body = await response.text();\n      throw new Error(`Backend request failed, ${status} ${body.trim()}`);\n    }\n    const {id} = await response.json();\n    return id;\n  }\n  async getTask(taskId) {\n    const token = await this.identityApi.getIdToken();\n    const baseUrl = await this.discoveryApi.getBaseUrl(\"scaffolder\");\n    const url = `${baseUrl}/v2/tasks/${encodeURIComponent(taskId)}`;\n    const response = await fetch(url, {\n      headers: token ? {Authorization: `Bearer ${token}`} : {}\n    });\n    if (!response.ok) {\n      throw ResponseError.fromResponse(response);\n    }\n    return await response.json();\n  }\n  streamLogs({\n    taskId,\n    after\n  }) {\n    return new ObservableImpl((subscriber) => {\n      const params = new URLSearchParams();\n      if (after !== void 0) {\n        params.set(\"after\", String(Number(after)));\n      }\n      this.discoveryApi.getBaseUrl(\"scaffolder\").then((baseUrl) => {\n        const url = `${baseUrl}/v2/tasks/${encodeURIComponent(taskId)}/eventstream`;\n        const eventSource = new EventSource(url, {withCredentials: true});\n        eventSource.addEventListener(\"log\", (event) => {\n          if (event.data) {\n            try {\n              subscriber.next(JSON.parse(event.data));\n            } catch (ex) {\n              subscriber.error(ex);\n            }\n          }\n        });\n        eventSource.addEventListener(\"completion\", (event) => {\n          if (event.data) {\n            try {\n              subscriber.next(JSON.parse(event.data));\n            } catch (ex) {\n              subscriber.error(ex);\n            }\n          }\n          eventSource.close();\n          subscriber.complete();\n        });\n        eventSource.addEventListener(\"error\", (event) => {\n          subscriber.error(event);\n        });\n      }, (error) => {\n        subscriber.error(error);\n      });\n    });\n  }\n  async listActions() {\n    const baseUrl = await this.discoveryApi.getBaseUrl(\"scaffolder\");\n    const response = await fetch(`${baseUrl}/v2/actions`);\n    if (!response.ok) {\n      throw ResponseError.fromResponse(response);\n    }\n    return await response.json();\n  }\n}\n\nconst registerComponentRouteRef = createExternalRouteRef({\n  id: \"register-component\",\n  optional: true\n});\nconst rootRouteRef = createRouteRef({\n  title: \"Create new entity\"\n});\n\nconst scaffolderPlugin = createPlugin({\n  id: \"scaffolder\",\n  apis: [\n    createApiFactory({\n      api: scaffolderApiRef,\n      deps: {\n        discoveryApi: discoveryApiRef,\n        identityApi: identityApiRef,\n        scmIntegrationsApi: scmIntegrationsApiRef\n      },\n      factory: ({discoveryApi, identityApi, scmIntegrationsApi}) => new ScaffolderClient({discoveryApi, identityApi, scmIntegrationsApi})\n    })\n  ],\n  routes: {\n    root: rootRouteRef\n  },\n  externalRoutes: {\n    registerComponent: registerComponentRouteRef\n  }\n});\nconst ScaffolderPage = scaffolderPlugin.provide(createRoutableExtension({\n  component: () => import('./Router-328e3d54.esm.js').then((m) => m.Router),\n  mountPoint: rootRouteRef\n}));\n\nexport { ScaffolderPage as S, registerComponentRouteRef as a, scaffolderPlugin as b, ScaffolderClient as c, rootRouteRef as r, scaffolderApiRef as s };\n//# sourceMappingURL=index-12330d7d.esm.js.map\n","import cloneDeep from 'lodash/cloneDeep';\nimport mergeWith from 'lodash/mergeWith';\n\nconst CONFIG_KEY_PART_PATTERN = /^[a-z][a-z0-9]*(?:[-_][a-z][a-z0-9]*)*$/i;\nfunction isObject(value) {\n  return typeof value === \"object\" && value !== null && !Array.isArray(value);\n}\nfunction typeOf(value) {\n  if (value === null) {\n    return \"null\";\n  } else if (Array.isArray(value)) {\n    return \"array\";\n  }\n  const type = typeof value;\n  if (type === \"number\" && isNaN(value)) {\n    return \"nan\";\n  }\n  if (type === \"string\" && value === \"\") {\n    return \"empty-string\";\n  }\n  return type;\n}\nconst errors = {\n  type(key, context, typeName, expected) {\n    return `Invalid type in config for key '${key}' in '${context}', got ${typeName}, wanted ${expected}`;\n  },\n  missing(key) {\n    return `Missing required config value at '${key}'`;\n  },\n  convert(key, context, expected) {\n    return `Unable to convert config value for key '${key}' in '${context}' to a ${expected}`;\n  }\n};\nclass ConfigReader {\n  constructor(data, context = \"mock-config\", fallback, prefix = \"\") {\n    this.data = data;\n    this.context = context;\n    this.fallback = fallback;\n    this.prefix = prefix;\n  }\n  static fromConfigs(configs) {\n    if (configs.length === 0) {\n      return new ConfigReader(void 0);\n    }\n    return configs.reduce((previousReader, {data, context}) => {\n      return new ConfigReader(data, context, previousReader);\n    }, void 0);\n  }\n  has(key) {\n    var _a, _b;\n    const value = this.readValue(key);\n    if (value !== void 0) {\n      return true;\n    }\n    return (_b = (_a = this.fallback) == null ? void 0 : _a.has(key)) != null ? _b : false;\n  }\n  keys() {\n    var _a, _b;\n    const localKeys = this.data ? Object.keys(this.data) : [];\n    const fallbackKeys = (_b = (_a = this.fallback) == null ? void 0 : _a.keys()) != null ? _b : [];\n    return [...new Set([...localKeys, ...fallbackKeys])];\n  }\n  get(key) {\n    const value = this.getOptional(key);\n    if (value === void 0) {\n      throw new Error(errors.missing(this.fullKey(key != null ? key : \"\")));\n    }\n    return value;\n  }\n  getOptional(key) {\n    var _a;\n    const value = this.readValue(key);\n    const fallbackValue = (_a = this.fallback) == null ? void 0 : _a.getOptional(key);\n    if (value === void 0) {\n      return fallbackValue;\n    } else if (fallbackValue === void 0) {\n      return value;\n    }\n    return mergeWith({}, {value: cloneDeep(fallbackValue)}, {value}, (into, from) => !isObject(from) || !isObject(into) ? from : void 0).value;\n  }\n  getConfig(key) {\n    const value = this.getOptionalConfig(key);\n    if (value === void 0) {\n      throw new Error(errors.missing(this.fullKey(key)));\n    }\n    return value;\n  }\n  getOptionalConfig(key) {\n    var _a;\n    const value = this.readValue(key);\n    const fallbackConfig = (_a = this.fallback) == null ? void 0 : _a.getOptionalConfig(key);\n    const prefix = this.fullKey(key);\n    if (isObject(value)) {\n      return new ConfigReader(value, this.context, fallbackConfig, prefix);\n    }\n    if (value !== void 0) {\n      throw new TypeError(errors.type(this.fullKey(key), this.context, typeOf(value), \"object\"));\n    }\n    return fallbackConfig;\n  }\n  getConfigArray(key) {\n    const value = this.getOptionalConfigArray(key);\n    if (value === void 0) {\n      throw new Error(errors.missing(this.fullKey(key)));\n    }\n    return value;\n  }\n  getOptionalConfigArray(key) {\n    const configs = this.readConfigValue(key, (values) => {\n      if (!Array.isArray(values)) {\n        return {expected: \"object-array\"};\n      }\n      for (const [index, value] of values.entries()) {\n        if (!isObject(value)) {\n          return {expected: \"object-array\", value, key: `${key}[${index}]`};\n        }\n      }\n      return true;\n    });\n    if (!configs) {\n      return void 0;\n    }\n    return configs.map((obj, index) => new ConfigReader(obj, this.context, void 0, this.fullKey(`${key}[${index}]`)));\n  }\n  getNumber(key) {\n    const value = this.getOptionalNumber(key);\n    if (value === void 0) {\n      throw new Error(errors.missing(this.fullKey(key)));\n    }\n    return value;\n  }\n  getOptionalNumber(key) {\n    const value = this.readConfigValue(key, (val) => typeof val === \"number\" || typeof val === \"string\" || {expected: \"number\"});\n    if (typeof value === \"number\" || value === void 0) {\n      return value;\n    }\n    const number = Number(value);\n    if (!Number.isFinite(number)) {\n      throw new Error(errors.convert(this.fullKey(key), this.context, \"number\"));\n    }\n    return number;\n  }\n  getBoolean(key) {\n    const value = this.getOptionalBoolean(key);\n    if (value === void 0) {\n      throw new Error(errors.missing(this.fullKey(key)));\n    }\n    return value;\n  }\n  getOptionalBoolean(key) {\n    return this.readConfigValue(key, (value) => typeof value === \"boolean\" || {expected: \"boolean\"});\n  }\n  getString(key) {\n    const value = this.getOptionalString(key);\n    if (value === void 0) {\n      throw new Error(errors.missing(this.fullKey(key)));\n    }\n    return value;\n  }\n  getOptionalString(key) {\n    return this.readConfigValue(key, (value) => typeof value === \"string\" && value !== \"\" || {expected: \"string\"});\n  }\n  getStringArray(key) {\n    const value = this.getOptionalStringArray(key);\n    if (value === void 0) {\n      throw new Error(errors.missing(this.fullKey(key)));\n    }\n    return value;\n  }\n  getOptionalStringArray(key) {\n    return this.readConfigValue(key, (values) => {\n      if (!Array.isArray(values)) {\n        return {expected: \"string-array\"};\n      }\n      for (const [index, value] of values.entries()) {\n        if (typeof value !== \"string\" || value === \"\") {\n          return {expected: \"string-array\", value, key: `${key}[${index}]`};\n        }\n      }\n      return true;\n    });\n  }\n  fullKey(key) {\n    return `${this.prefix}${this.prefix ? \".\" : \"\"}${key}`;\n  }\n  readConfigValue(key, validate) {\n    var _a;\n    const value = this.readValue(key);\n    if (value === void 0) {\n      return (_a = this.fallback) == null ? void 0 : _a.readConfigValue(key, validate);\n    }\n    const result = validate(value);\n    if (result !== true) {\n      const {key: keyName = key, value: theValue = value, expected} = result;\n      throw new TypeError(errors.type(this.fullKey(keyName), this.context, typeOf(theValue), expected));\n    }\n    return value;\n  }\n  readValue(key) {\n    const parts = key ? key.split(\".\") : [];\n    for (const part of parts) {\n      if (!CONFIG_KEY_PART_PATTERN.test(part)) {\n        throw new TypeError(`Invalid config key '${key}'`);\n      }\n    }\n    if (this.data === void 0) {\n      return void 0;\n    }\n    let value = this.data;\n    for (const [index, part] of parts.entries()) {\n      if (isObject(value)) {\n        value = value[part];\n      } else if (value !== void 0) {\n        const badKey = this.fullKey(parts.slice(0, index).join(\".\"));\n        throw new TypeError(errors.type(badKey, this.context, typeOf(value), \"object\"));\n      }\n    }\n    return value;\n  }\n}\n\nexport { ConfigReader };\n//# sourceMappingURL=index.esm.js.map\n","import React, { useContext, useMemo, createContext, Children, isValidElement, Fragment, lazy, Suspense, useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport GithubIcon from '@material-ui/icons/AcUnit';\nimport ObservableImpl from 'zen-observable';\nimport { ConfigReader } from '@backstage/config';\nexport { ConfigReader } from '@backstage/config';\nimport { useRoutes, matchRoutes, generatePath, useLocation, useParams, Navigate, Route, Routes } from 'react-router-dom';\nimport MuiMenuBookIcon from '@material-ui/icons/MenuBook';\nimport MuiBrokenImageIcon from '@material-ui/icons/BrokenImage';\nimport MuiChatIcon from '@material-ui/icons/Chat';\nimport MuiDashboardIcon from '@material-ui/icons/Dashboard';\nimport MuiEmailIcon from '@material-ui/icons/Email';\nimport MuiGitHubIcon from '@material-ui/icons/GitHub';\nimport MuiHelpIcon from '@material-ui/icons/Help';\nimport MuiPeopleIcon from '@material-ui/icons/People';\nimport MuiPersonIcon from '@material-ui/icons/Person';\nimport MuiWarningIcon from '@material-ui/icons/Warning';\nimport MuiDocsIcon from '@material-ui/icons/Description';\nimport { useObservable, useAsync } from 'react-use';\nimport { ThemeProvider, CssBaseline } from '@material-ui/core';\n\nclass ApiAggregator {\n  constructor(...holders) {\n    this.holders = holders;\n  }\n  get(apiRef) {\n    for (const holder of this.holders) {\n      const api = holder.get(apiRef);\n      if (api) {\n        return api;\n      }\n    }\n    return void 0;\n  }\n}\n\nfunction getGlobalObject() {\n  if (typeof window !== \"undefined\" && window.Math === Math) {\n    return window;\n  }\n  if (typeof self !== \"undefined\" && self.Math === Math) {\n    return self;\n  }\n  return Function(\"return this\")();\n}\nconst globalObject = getGlobalObject();\nconst makeKey = (id) => `__@backstage/${id}__`;\nfunction getGlobalSingleton(id) {\n  const key = makeKey(id);\n  if (!(key in globalObject)) {\n    throw new Error(`Global ${id} is not set`);\n  }\n  return globalObject[key];\n}\nfunction getOrCreateGlobalSingleton(id, supplier) {\n  const key = makeKey(id);\n  let value = globalObject[key];\n  if (value) {\n    return value;\n  }\n  value = supplier();\n  globalObject[key] = value;\n  return value;\n}\n\nfunction createVersionedValueMap(versions) {\n  Object.freeze(versions);\n  return {\n    atVersion(version) {\n      return versions[version];\n    }\n  };\n}\n\nconst missingHolderMessage = `No ApiProvider available in react context. A common cause of this error is that multiple versions of @backstage/core-api are installed. You can check if that is the case using 'yarn backstage-cli versions:check', and can in many cases fix the issue either with the --fix flag or using 'yarn backstage-cli versions:bump'`;\nconst ApiContext = getOrCreateGlobalSingleton(\"api-context\", () => createContext(void 0));\nconst ApiProvider = ({\n  apis,\n  children\n}) => {\n  var _a;\n  const parentHolder = (_a = useContext(ApiContext)) == null ? void 0 : _a.atVersion(1);\n  const versionedValue = useMemo(() => createVersionedValueMap({\n    1: parentHolder ? new ApiAggregator(apis, parentHolder) : apis\n  }), [parentHolder, apis]);\n  return /* @__PURE__ */ React.createElement(ApiContext.Provider, {\n    value: versionedValue,\n    children\n  });\n};\nApiProvider.propTypes = {\n  apis: PropTypes.shape({get: PropTypes.func.isRequired}).isRequired,\n  children: PropTypes.node\n};\nfunction useApiHolder() {\n  const versionedHolder = useContext(getGlobalSingleton(\"api-context\"));\n  if (!versionedHolder) {\n    throw new Error(missingHolderMessage);\n  }\n  const apiHolder = versionedHolder.atVersion(1);\n  if (!apiHolder) {\n    throw new Error(\"ApiContext v1 not available\");\n  }\n  return apiHolder;\n}\nfunction useApi(apiRef) {\n  const apiHolder = useApiHolder();\n  const api = apiHolder.get(apiRef);\n  if (!api) {\n    throw new Error(`No implementation available for ${apiRef}`);\n  }\n  return api;\n}\n\nclass ApiRegistryBuilder {\n  constructor() {\n    this.apis = [];\n  }\n  add(api, impl) {\n    this.apis.push([api.id, impl]);\n    return impl;\n  }\n  build() {\n    return new ApiRegistry(new Map(this.apis));\n  }\n}\nclass ApiRegistry {\n  constructor(apis) {\n    this.apis = apis;\n  }\n  static builder() {\n    return new ApiRegistryBuilder();\n  }\n  static from(apis) {\n    return new ApiRegistry(new Map(apis.map(([api, impl]) => [api.id, impl])));\n  }\n  static with(api, impl) {\n    return new ApiRegistry(new Map([[api.id, impl]]));\n  }\n  with(api, impl) {\n    return new ApiRegistry(new Map([...this.apis, [api.id, impl]]));\n  }\n  get(api) {\n    return this.apis.get(api.id);\n  }\n}\n\nclass ApiResolver {\n  constructor(factories) {\n    this.factories = factories;\n    this.apis = new Map();\n  }\n  static validateFactories(factories, apis) {\n    for (const api of apis) {\n      const heap = [api];\n      const allDeps = new Set();\n      while (heap.length) {\n        const apiRef = heap.shift();\n        const factory = factories.get(apiRef);\n        if (!factory) {\n          continue;\n        }\n        for (const dep of Object.values(factory.deps)) {\n          if (dep.id === api.id) {\n            throw new Error(`Circular dependency of api factory for ${api}`);\n          }\n          if (!allDeps.has(dep)) {\n            allDeps.add(dep);\n            heap.push(dep);\n          }\n        }\n      }\n    }\n  }\n  get(ref) {\n    return this.load(ref);\n  }\n  load(ref, loading = []) {\n    const impl = this.apis.get(ref.id);\n    if (impl) {\n      return impl;\n    }\n    const factory = this.factories.get(ref);\n    if (!factory) {\n      return void 0;\n    }\n    if (loading.includes(factory.api)) {\n      throw new Error(`Circular dependency of api factory for ${factory.api}`);\n    }\n    const deps = this.loadDeps(ref, factory.deps, [...loading, factory.api]);\n    const api = factory.factory(deps);\n    this.apis.set(ref.id, api);\n    return api;\n  }\n  loadDeps(dependent, apis, loading) {\n    const impls = {};\n    for (const key in apis) {\n      if (apis.hasOwnProperty(key)) {\n        const ref = apis[key];\n        const api = this.load(ref, loading);\n        if (!api) {\n          throw new Error(`No API factory available for dependency ${ref} of dependent ${dependent}`);\n        }\n        impls[key] = api;\n      }\n    }\n    return impls;\n  }\n}\n\nvar ScopePriority;\n(function(ScopePriority2) {\n  ScopePriority2[ScopePriority2[\"default\"] = 10] = \"default\";\n  ScopePriority2[ScopePriority2[\"app\"] = 50] = \"app\";\n  ScopePriority2[ScopePriority2[\"static\"] = 100] = \"static\";\n})(ScopePriority || (ScopePriority = {}));\nclass ApiFactoryRegistry {\n  constructor() {\n    this.factories = new Map();\n  }\n  register(scope, factory) {\n    const priority = ScopePriority[scope];\n    const existing = this.factories.get(factory.api.id);\n    if (existing && existing.priority >= priority) {\n      return false;\n    }\n    this.factories.set(factory.api.id, {priority, factory});\n    return true;\n  }\n  get(api) {\n    const tuple = this.factories.get(api.id);\n    if (!tuple) {\n      return void 0;\n    }\n    return tuple.factory;\n  }\n  getAllApis() {\n    const refs = new Set();\n    for (const {factory} of this.factories.values()) {\n      refs.add(factory.api);\n    }\n    return refs;\n  }\n}\n\nclass ApiRefImpl {\n  constructor(config) {\n    this.config = config;\n    const valid = config.id.split(\".\").flatMap((part) => part.split(\"-\")).every((part) => part.match(/^[a-z][a-z0-9]*$/));\n    if (!valid) {\n      throw new Error(`API id must only contain period separated lowercase alphanum tokens with dashes, got '${config.id}'`);\n    }\n  }\n  get id() {\n    return this.config.id;\n  }\n  get description() {\n    return this.config.description;\n  }\n  get T() {\n    throw new Error(`tried to read ApiRef.T of ${this}`);\n  }\n  toString() {\n    return `apiRef{${this.config.id}}`;\n  }\n}\nfunction createApiRef(config) {\n  return new ApiRefImpl(config);\n}\n\nfunction createApiFactory(factory, instance) {\n  if (\"id\" in factory) {\n    return {\n      api: factory,\n      deps: {},\n      factory: () => instance\n    };\n  }\n  return factory;\n}\n\nvar SessionState;\n(function(SessionState2) {\n  SessionState2[\"SignedIn\"] = \"SignedIn\";\n  SessionState2[\"SignedOut\"] = \"SignedOut\";\n})(SessionState || (SessionState = {}));\nconst googleAuthApiRef = createApiRef({\n  id: \"core.auth.google\",\n  description: \"Provides authentication towards Google APIs and identities\"\n});\nconst githubAuthApiRef = createApiRef({\n  id: \"core.auth.github\",\n  description: \"Provides authentication towards GitHub APIs\"\n});\nconst oktaAuthApiRef = createApiRef({\n  id: \"core.auth.okta\",\n  description: \"Provides authentication towards Okta APIs\"\n});\nconst gitlabAuthApiRef = createApiRef({\n  id: \"core.auth.gitlab\",\n  description: \"Provides authentication towards GitLab APIs\"\n});\nconst auth0AuthApiRef = createApiRef({\n  id: \"core.auth.auth0\",\n  description: \"Provides authentication towards Auth0 APIs\"\n});\nconst microsoftAuthApiRef = createApiRef({\n  id: \"core.auth.microsoft\",\n  description: \"Provides authentication towards Microsoft APIs and identities\"\n});\nconst oauth2ApiRef = createApiRef({\n  id: \"core.auth.oauth2\",\n  description: \"Example of how to use oauth2 custom provider\"\n});\nconst oidcAuthApiRef = createApiRef({\n  id: \"core.auth.oidc\",\n  description: \"Example of how to use oidc custom provider\"\n});\nconst samlAuthApiRef = createApiRef({\n  id: \"core.auth.saml\",\n  description: \"Example of how to use SAML custom provider\"\n});\nconst oneloginAuthApiRef = createApiRef({\n  id: \"core.auth.onelogin\",\n  description: \"Provides authentication towards OneLogin APIs and identities\"\n});\n\nconst alertApiRef = createApiRef({\n  id: \"core.alert\",\n  description: \"Used to report alerts and forward them to the app\"\n});\n\nconst appThemeApiRef = createApiRef({\n  id: \"core.apptheme\",\n  description: \"API Used to configure the app theme, and enumerate options\"\n});\n\nconst configApiRef = createApiRef({\n  id: \"core.config\",\n  description: \"Used to access runtime configuration\"\n});\n\nconst discoveryApiRef = createApiRef({\n  id: \"core.discovery\",\n  description: \"Provides service discovery of backend plugins\"\n});\n\nconst errorApiRef = createApiRef({\n  id: \"core.error\",\n  description: \"Used to report errors and forward them to the app\"\n});\n\nvar FeatureFlagState;\n(function(FeatureFlagState2) {\n  FeatureFlagState2[FeatureFlagState2[\"None\"] = 0] = \"None\";\n  FeatureFlagState2[FeatureFlagState2[\"Active\"] = 1] = \"Active\";\n})(FeatureFlagState || (FeatureFlagState = {}));\nconst featureFlagsApiRef = createApiRef({\n  id: \"core.featureflags\",\n  description: \"Used to toggle functionality in features across Backstage\"\n});\n\nconst identityApiRef = createApiRef({\n  id: \"core.identity\",\n  description: \"Provides access to the identity of the signed in user\"\n});\n\nconst oauthRequestApiRef = createApiRef({\n  id: \"core.oauthrequest\",\n  description: \"An API for implementing unified OAuth flows in Backstage\"\n});\n\nconst storageApiRef = createApiRef({\n  id: \"core.storage\",\n  description: \"Provides the ability to store data which is unique to the user\"\n});\n\nfunction showLoginPopup(options) {\n  return new Promise((resolve, reject) => {\n    const width = options.width || 500;\n    const height = options.height || 700;\n    const left = window.screen.width / 2 - width / 2;\n    const top = window.screen.height / 2 - height / 2;\n    const popup = window.open(options.url, options.name, `menubar=no,location=no,resizable=no,scrollbars=no,status=no,width=${width},height=${height},top=${top},left=${left}`);\n    let targetOrigin = \"\";\n    if (!popup || typeof popup.closed === \"undefined\" || popup.closed) {\n      const error = new Error(\"Failed to open auth popup.\");\n      error.name = \"PopupRejectedError\";\n      reject(error);\n      return;\n    }\n    const messageListener = (event) => {\n      if (event.source !== popup) {\n        return;\n      }\n      if (event.origin !== options.origin) {\n        return;\n      }\n      const {data} = event;\n      if (data.type === \"config_info\") {\n        targetOrigin = data.targetOrigin;\n        return;\n      }\n      if (data.type !== \"authorization_response\") {\n        return;\n      }\n      const authResult = data;\n      if (\"error\" in authResult) {\n        const error = new Error(authResult.error.message);\n        error.name = authResult.error.name;\n        reject(error);\n      } else {\n        resolve(authResult.response);\n      }\n      done();\n    };\n    const intervalId = setInterval(() => {\n      if (popup.closed) {\n        const errMessage = `Login failed, ${targetOrigin && targetOrigin !== window.location.origin ? `Incorrect app origin, expected ${targetOrigin}` : \"popup was closed\"}`;\n        const error = new Error(errMessage);\n        error.name = \"PopupClosedError\";\n        reject(error);\n        done();\n      }\n    }, 100);\n    function done() {\n      window.removeEventListener(\"message\", messageListener);\n      clearInterval(intervalId);\n    }\n    window.addEventListener(\"message\", messageListener);\n  });\n}\n\nfunction defaultJoinScopes(scopes) {\n  return [...scopes].join(\" \");\n}\nclass DefaultAuthConnector {\n  constructor(options) {\n    const {\n      discoveryApi,\n      environment,\n      provider,\n      joinScopes = defaultJoinScopes,\n      oauthRequestApi,\n      sessionTransform = (id) => id\n    } = options;\n    this.authRequester = oauthRequestApi.createAuthRequester({\n      provider,\n      onAuthRequest: (scopes) => this.showPopup(scopes)\n    });\n    this.discoveryApi = discoveryApi;\n    this.environment = environment;\n    this.provider = provider;\n    this.joinScopesFunc = joinScopes;\n    this.sessionTransform = sessionTransform;\n  }\n  async createSession(options) {\n    if (options.instantPopup) {\n      return this.showPopup(options.scopes);\n    }\n    return this.authRequester(options.scopes);\n  }\n  async refreshSession() {\n    const res = await fetch(await this.buildUrl(\"/refresh\", {optional: true}), {\n      headers: {\n        \"x-requested-with\": \"XMLHttpRequest\"\n      },\n      credentials: \"include\"\n    }).catch((error) => {\n      throw new Error(`Auth refresh request failed, ${error}`);\n    });\n    if (!res.ok) {\n      const error = new Error(`Auth refresh request failed, ${res.statusText}`);\n      error.status = res.status;\n      throw error;\n    }\n    const authInfo = await res.json();\n    if (authInfo.error) {\n      const error = new Error(authInfo.error.message);\n      if (authInfo.error.name) {\n        error.name = authInfo.error.name;\n      }\n      throw error;\n    }\n    return await this.sessionTransform(authInfo);\n  }\n  async removeSession() {\n    const res = await fetch(await this.buildUrl(\"/logout\"), {\n      method: \"POST\",\n      headers: {\n        \"x-requested-with\": \"XMLHttpRequest\"\n      },\n      credentials: \"include\"\n    }).catch((error) => {\n      throw new Error(`Logout request failed, ${error}`);\n    });\n    if (!res.ok) {\n      const error = new Error(`Logout request failed, ${res.statusText}`);\n      error.status = res.status;\n      throw error;\n    }\n  }\n  async showPopup(scopes) {\n    const scope = this.joinScopesFunc(scopes);\n    const popupUrl = await this.buildUrl(\"/start\", {scope});\n    const payload = await showLoginPopup({\n      url: popupUrl,\n      name: `${this.provider.title} Login`,\n      origin: new URL(popupUrl).origin,\n      width: 450,\n      height: 730\n    });\n    return await this.sessionTransform(payload);\n  }\n  async buildUrl(path, query) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(\"auth\");\n    const queryString = this.buildQueryString({\n      ...query,\n      env: this.environment\n    });\n    return `${baseUrl}/${this.provider.id}${path}${queryString}`;\n  }\n  buildQueryString(query) {\n    if (!query) {\n      return \"\";\n    }\n    const queryString = Object.entries(query).map(([key, value]) => {\n      if (typeof value === \"string\") {\n        return `${encodeURIComponent(key)}=${encodeURIComponent(value)}`;\n      } else if (value) {\n        return encodeURIComponent(key);\n      }\n      return void 0;\n    }).filter(Boolean).join(\"&\");\n    if (!queryString) {\n      return \"\";\n    }\n    return `?${queryString}`;\n  }\n}\n\nclass DirectAuthConnector {\n  constructor(options) {\n    const {discoveryApi, environment, provider} = options;\n    this.discoveryApi = discoveryApi;\n    this.environment = environment;\n    this.provider = provider;\n  }\n  async createSession() {\n    const popupUrl = await this.buildUrl(\"/start\");\n    const payload = await showLoginPopup({\n      url: popupUrl,\n      name: `${this.provider.title} Login`,\n      origin: new URL(popupUrl).origin,\n      width: 450,\n      height: 730\n    });\n    return {\n      ...payload,\n      id: payload.profile.email\n    };\n  }\n  async refreshSession() {\n  }\n  async removeSession() {\n    const res = await fetch(await this.buildUrl(\"/logout\"), {\n      method: \"POST\",\n      headers: {\n        \"x-requested-with\": \"XMLHttpRequest\"\n      },\n      credentials: \"include\"\n    }).catch((error) => {\n      throw new Error(`Logout request failed, ${error}`);\n    });\n    if (!res.ok) {\n      const error = new Error(`Logout request failed, ${res.statusText}`);\n      error.status = res.status;\n      throw error;\n    }\n  }\n  async buildUrl(path) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(\"auth\");\n    return `${baseUrl}/${this.provider.id}${path}?env=${this.environment}`;\n  }\n}\n\nfunction hasScopes(searched, searchFor) {\n  for (const scope of searchFor) {\n    if (!searched.has(scope)) {\n      return false;\n    }\n  }\n  return true;\n}\nclass SessionScopeHelper {\n  constructor(options) {\n    this.options = options;\n  }\n  sessionExistsAndHasScope(session, scopes) {\n    if (!session) {\n      return false;\n    }\n    if (!scopes) {\n      return true;\n    }\n    if (this.options.sessionScopes === void 0) {\n      return true;\n    }\n    const sessionScopes = this.options.sessionScopes(session);\n    return hasScopes(sessionScopes, scopes);\n  }\n  getExtendedScope(session, scopes) {\n    const newScope = new Set(this.options.defaultScopes);\n    if (session && this.options.sessionScopes !== void 0) {\n      const sessionScopes = this.options.sessionScopes(session);\n      for (const scope of sessionScopes) {\n        newScope.add(scope);\n      }\n    }\n    if (scopes) {\n      for (const scope of scopes) {\n        newScope.add(scope);\n      }\n    }\n    return newScope;\n  }\n}\n\nclass PublishSubject {\n  constructor() {\n    this.isClosed = false;\n    this.observable = new ObservableImpl((subscriber) => {\n      if (this.isClosed) {\n        if (this.terminatingError) {\n          subscriber.error(this.terminatingError);\n        } else {\n          subscriber.complete();\n        }\n        return () => {\n        };\n      }\n      this.subscribers.add(subscriber);\n      return () => {\n        this.subscribers.delete(subscriber);\n      };\n    });\n    this.subscribers = new Set();\n  }\n  get closed() {\n    return this.isClosed;\n  }\n  next(value) {\n    if (this.isClosed) {\n      throw new Error(\"PublishSubject is closed\");\n    }\n    this.subscribers.forEach((subscriber) => subscriber.next(value));\n  }\n  error(error) {\n    if (this.isClosed) {\n      throw new Error(\"PublishSubject is closed\");\n    }\n    this.isClosed = true;\n    this.terminatingError = error;\n    this.subscribers.forEach((subscriber) => subscriber.error(error));\n  }\n  complete() {\n    if (this.isClosed) {\n      throw new Error(\"PublishSubject is closed\");\n    }\n    this.isClosed = true;\n    this.subscribers.forEach((subscriber) => subscriber.complete());\n  }\n  subscribe(onNext, onError, onComplete) {\n    const observer = typeof onNext === \"function\" ? {\n      next: onNext,\n      error: onError,\n      complete: onComplete\n    } : onNext;\n    return this.observable.subscribe(observer);\n  }\n}\nclass BehaviorSubject {\n  constructor(value) {\n    this.isClosed = false;\n    this.observable = new ObservableImpl((subscriber) => {\n      if (this.isClosed) {\n        if (this.terminatingError) {\n          subscriber.error(this.terminatingError);\n        } else {\n          subscriber.complete();\n        }\n        return () => {\n        };\n      }\n      subscriber.next(this.currentValue);\n      this.subscribers.add(subscriber);\n      return () => {\n        this.subscribers.delete(subscriber);\n      };\n    });\n    this.subscribers = new Set();\n    this.currentValue = value;\n  }\n  get closed() {\n    return this.isClosed;\n  }\n  next(value) {\n    if (this.isClosed) {\n      throw new Error(\"BehaviorSubject is closed\");\n    }\n    this.currentValue = value;\n    this.subscribers.forEach((subscriber) => subscriber.next(value));\n  }\n  error(error) {\n    if (this.isClosed) {\n      throw new Error(\"BehaviorSubject is closed\");\n    }\n    this.isClosed = true;\n    this.terminatingError = error;\n    this.subscribers.forEach((subscriber) => subscriber.error(error));\n  }\n  complete() {\n    if (this.isClosed) {\n      throw new Error(\"BehaviorSubject is closed\");\n    }\n    this.isClosed = true;\n    this.subscribers.forEach((subscriber) => subscriber.complete());\n  }\n  subscribe(onNext, onError, onComplete) {\n    const observer = typeof onNext === \"function\" ? {\n      next: onNext,\n      error: onError,\n      complete: onComplete\n    } : onNext;\n    return this.observable.subscribe(observer);\n  }\n}\n\nclass SessionStateTracker {\n  constructor() {\n    this.subject = new BehaviorSubject(SessionState.SignedOut);\n    this.signedIn = false;\n  }\n  setIsSignedIn(isSignedIn) {\n    if (this.signedIn !== isSignedIn) {\n      this.signedIn = isSignedIn;\n      this.subject.next(this.signedIn ? SessionState.SignedIn : SessionState.SignedOut);\n    }\n  }\n  sessionState$() {\n    return this.subject;\n  }\n}\n\nclass RefreshingAuthSessionManager {\n  constructor(options) {\n    this.stateTracker = new SessionStateTracker();\n    const {\n      connector,\n      defaultScopes = new Set(),\n      sessionScopes,\n      sessionShouldRefresh\n    } = options;\n    this.connector = connector;\n    this.sessionScopesFunc = sessionScopes;\n    this.sessionShouldRefreshFunc = sessionShouldRefresh;\n    this.helper = new SessionScopeHelper({sessionScopes, defaultScopes});\n  }\n  async getSession(options) {\n    if (this.helper.sessionExistsAndHasScope(this.currentSession, options.scopes)) {\n      const shouldRefresh = this.sessionShouldRefreshFunc(this.currentSession);\n      if (!shouldRefresh) {\n        return this.currentSession;\n      }\n      try {\n        const refreshedSession = await this.collapsedSessionRefresh();\n        const currentScopes = this.sessionScopesFunc(this.currentSession);\n        const refreshedScopes = this.sessionScopesFunc(refreshedSession);\n        if (hasScopes(refreshedScopes, currentScopes)) {\n          this.currentSession = refreshedSession;\n        }\n        return refreshedSession;\n      } catch (error) {\n        if (options.optional) {\n          return void 0;\n        }\n        throw error;\n      }\n    }\n    if (!this.currentSession && !options.instantPopup) {\n      try {\n        const newSession = await this.collapsedSessionRefresh();\n        this.currentSession = newSession;\n        return this.getSession(options);\n      } catch {\n      }\n    }\n    if (options.optional) {\n      return void 0;\n    }\n    this.currentSession = await this.connector.createSession({\n      ...options,\n      scopes: this.helper.getExtendedScope(this.currentSession, options.scopes)\n    });\n    this.stateTracker.setIsSignedIn(true);\n    return this.currentSession;\n  }\n  async removeSession() {\n    this.currentSession = void 0;\n    await this.connector.removeSession();\n    this.stateTracker.setIsSignedIn(false);\n  }\n  sessionState$() {\n    return this.stateTracker.sessionState$();\n  }\n  async collapsedSessionRefresh() {\n    if (this.refreshPromise) {\n      return this.refreshPromise;\n    }\n    this.refreshPromise = this.connector.refreshSession();\n    try {\n      const session = await this.refreshPromise;\n      this.stateTracker.setIsSignedIn(true);\n      return session;\n    } finally {\n      delete this.refreshPromise;\n    }\n  }\n}\n\nclass StaticAuthSessionManager {\n  constructor(options) {\n    this.stateTracker = new SessionStateTracker();\n    const {connector, defaultScopes = new Set(), sessionScopes} = options;\n    this.connector = connector;\n    this.helper = new SessionScopeHelper({sessionScopes, defaultScopes});\n  }\n  setSession(session) {\n    this.currentSession = session;\n    this.stateTracker.setIsSignedIn(Boolean(session));\n  }\n  async getSession(options) {\n    if (this.helper.sessionExistsAndHasScope(this.currentSession, options.scopes)) {\n      return this.currentSession;\n    }\n    if (options.optional) {\n      return void 0;\n    }\n    this.currentSession = await this.connector.createSession({\n      ...options,\n      scopes: this.helper.getExtendedScope(this.currentSession, options.scopes)\n    });\n    this.stateTracker.setIsSignedIn(true);\n    return this.currentSession;\n  }\n  async removeSession() {\n    this.currentSession = void 0;\n    await this.connector.removeSession();\n    this.stateTracker.setIsSignedIn(false);\n  }\n  sessionState$() {\n    return this.stateTracker.sessionState$();\n  }\n}\n\nclass AuthSessionStore {\n  constructor(options) {\n    const {\n      manager,\n      storageKey,\n      sessionScopes,\n      sessionShouldRefresh = () => false\n    } = options;\n    this.manager = manager;\n    this.storageKey = storageKey;\n    this.sessionShouldRefreshFunc = sessionShouldRefresh;\n    this.helper = new SessionScopeHelper({\n      sessionScopes,\n      defaultScopes: new Set()\n    });\n  }\n  async getSession(options) {\n    const {scopes} = options;\n    const session = this.loadSession();\n    if (this.helper.sessionExistsAndHasScope(session, scopes)) {\n      const shouldRefresh = this.sessionShouldRefreshFunc(session);\n      if (!shouldRefresh) {\n        this.manager.setSession(session);\n        return session;\n      }\n    }\n    const newSession = await this.manager.getSession(options);\n    this.saveSession(newSession);\n    return newSession;\n  }\n  async removeSession() {\n    localStorage.removeItem(this.storageKey);\n    await this.manager.removeSession();\n  }\n  sessionState$() {\n    return this.manager.sessionState$();\n  }\n  loadSession() {\n    try {\n      const sessionJson = localStorage.getItem(this.storageKey);\n      if (sessionJson) {\n        const session = JSON.parse(sessionJson, (_key, value) => {\n          if ((value == null ? void 0 : value.__type) === \"Set\") {\n            return new Set(value.__value);\n          }\n          return value;\n        });\n        return session;\n      }\n      return void 0;\n    } catch (error) {\n      localStorage.removeItem(this.storageKey);\n      return void 0;\n    }\n  }\n  saveSession(session) {\n    if (session === void 0) {\n      localStorage.removeItem(this.storageKey);\n    } else {\n      localStorage.setItem(this.storageKey, JSON.stringify(session, (_key, value) => {\n        if (value instanceof Set) {\n          return {\n            __type: \"Set\",\n            __value: Array.from(value)\n          };\n        }\n        return value;\n      }));\n    }\n  }\n}\n\nconst DEFAULT_PROVIDER = {\n  id: \"github\",\n  title: \"GitHub\",\n  icon: GithubIcon\n};\nclass GithubAuth {\n  constructor(sessionManager) {\n    this.sessionManager = sessionManager;\n  }\n  static create({\n    discoveryApi,\n    environment = \"development\",\n    provider = DEFAULT_PROVIDER,\n    oauthRequestApi,\n    defaultScopes = [\"read:user\"]\n  }) {\n    const connector = new DefaultAuthConnector({\n      discoveryApi,\n      environment,\n      provider,\n      oauthRequestApi,\n      sessionTransform(res) {\n        return {\n          ...res,\n          providerInfo: {\n            accessToken: res.providerInfo.accessToken,\n            scopes: GithubAuth.normalizeScope(res.providerInfo.scope),\n            expiresAt: new Date(Date.now() + res.providerInfo.expiresInSeconds * 1e3)\n          }\n        };\n      }\n    });\n    const sessionManager = new StaticAuthSessionManager({\n      connector,\n      defaultScopes: new Set(defaultScopes),\n      sessionScopes: (session) => session.providerInfo.scopes\n    });\n    const authSessionStore = new AuthSessionStore({\n      manager: sessionManager,\n      storageKey: `${provider.id}Session`,\n      sessionScopes: (session) => session.providerInfo.scopes\n    });\n    return new GithubAuth(authSessionStore);\n  }\n  async signIn() {\n    await this.getAccessToken();\n  }\n  async signOut() {\n    await this.sessionManager.removeSession();\n  }\n  sessionState$() {\n    return this.sessionManager.sessionState$();\n  }\n  async getAccessToken(scope, options) {\n    var _a;\n    const session = await this.sessionManager.getSession({\n      ...options,\n      scopes: GithubAuth.normalizeScope(scope)\n    });\n    return (_a = session == null ? void 0 : session.providerInfo.accessToken) != null ? _a : \"\";\n  }\n  async getBackstageIdentity(options = {}) {\n    const session = await this.sessionManager.getSession(options);\n    return session == null ? void 0 : session.backstageIdentity;\n  }\n  async getProfile(options = {}) {\n    const session = await this.sessionManager.getSession(options);\n    return session == null ? void 0 : session.profile;\n  }\n  static normalizeScope(scope) {\n    if (!scope) {\n      return new Set();\n    }\n    const scopeList = Array.isArray(scope) ? scope : scope.split(/[\\s|,]/).filter(Boolean);\n    return new Set(scopeList);\n  }\n}\n\nconst DEFAULT_PROVIDER$1 = {\n  id: \"oauth2\",\n  title: \"Your Identity Provider\",\n  icon: GithubIcon\n};\nclass OAuth2 {\n  static create({\n    discoveryApi,\n    environment = \"development\",\n    provider = DEFAULT_PROVIDER$1,\n    oauthRequestApi,\n    defaultScopes = [],\n    scopeTransform = (x) => x\n  }) {\n    const connector = new DefaultAuthConnector({\n      discoveryApi,\n      environment,\n      provider,\n      oauthRequestApi,\n      sessionTransform(res) {\n        return {\n          ...res,\n          providerInfo: {\n            idToken: res.providerInfo.idToken,\n            accessToken: res.providerInfo.accessToken,\n            scopes: OAuth2.normalizeScopes(scopeTransform, res.providerInfo.scope),\n            expiresAt: new Date(Date.now() + res.providerInfo.expiresInSeconds * 1e3)\n          }\n        };\n      }\n    });\n    const sessionManager = new RefreshingAuthSessionManager({\n      connector,\n      defaultScopes: new Set(defaultScopes),\n      sessionScopes: (session) => session.providerInfo.scopes,\n      sessionShouldRefresh: (session) => {\n        const expiresInSec = (session.providerInfo.expiresAt.getTime() - Date.now()) / 1e3;\n        return expiresInSec < 60 * 5;\n      }\n    });\n    return new OAuth2({sessionManager, scopeTransform});\n  }\n  constructor(options) {\n    this.sessionManager = options.sessionManager;\n    this.scopeTransform = options.scopeTransform;\n  }\n  async signIn() {\n    await this.getAccessToken();\n  }\n  async signOut() {\n    await this.sessionManager.removeSession();\n  }\n  sessionState$() {\n    return this.sessionManager.sessionState$();\n  }\n  async getAccessToken(scope, options) {\n    var _a;\n    const normalizedScopes = OAuth2.normalizeScopes(this.scopeTransform, scope);\n    const session = await this.sessionManager.getSession({\n      ...options,\n      scopes: normalizedScopes\n    });\n    return (_a = session == null ? void 0 : session.providerInfo.accessToken) != null ? _a : \"\";\n  }\n  async getIdToken(options = {}) {\n    var _a;\n    const session = await this.sessionManager.getSession(options);\n    return (_a = session == null ? void 0 : session.providerInfo.idToken) != null ? _a : \"\";\n  }\n  async getBackstageIdentity(options = {}) {\n    const session = await this.sessionManager.getSession(options);\n    return session == null ? void 0 : session.backstageIdentity;\n  }\n  async getProfile(options = {}) {\n    const session = await this.sessionManager.getSession(options);\n    return session == null ? void 0 : session.profile;\n  }\n  static normalizeScopes(scopeTransform, scopes) {\n    if (!scopes) {\n      return new Set();\n    }\n    const scopeList = Array.isArray(scopes) ? scopes : scopes.split(/[\\s|,]/).filter(Boolean);\n    return new Set(scopeTransform(scopeList));\n  }\n}\n\nconst DEFAULT_PROVIDER$2 = {\n  id: \"gitlab\",\n  title: \"GitLab\",\n  icon: GithubIcon\n};\nclass GitlabAuth {\n  static create({\n    discoveryApi,\n    environment = \"development\",\n    provider = DEFAULT_PROVIDER$2,\n    oauthRequestApi,\n    defaultScopes = [\"read_user\"]\n  }) {\n    return OAuth2.create({\n      discoveryApi,\n      oauthRequestApi,\n      provider,\n      environment,\n      defaultScopes\n    });\n  }\n}\n\nconst DEFAULT_PROVIDER$3 = {\n  id: \"google\",\n  title: \"Google\",\n  icon: GithubIcon\n};\nconst SCOPE_PREFIX = \"https://www.googleapis.com/auth/\";\nclass GoogleAuth {\n  static create({\n    discoveryApi,\n    oauthRequestApi,\n    environment = \"development\",\n    provider = DEFAULT_PROVIDER$3,\n    defaultScopes = [\n      \"openid\",\n      `${SCOPE_PREFIX}userinfo.email`,\n      `${SCOPE_PREFIX}userinfo.profile`\n    ]\n  }) {\n    return OAuth2.create({\n      discoveryApi,\n      oauthRequestApi,\n      provider,\n      environment,\n      defaultScopes,\n      scopeTransform(scopes) {\n        return scopes.map((scope) => {\n          if (scope === \"openid\") {\n            return scope;\n          }\n          if (scope === \"profile\" || scope === \"email\") {\n            return `${SCOPE_PREFIX}userinfo.${scope}`;\n          }\n          if (scope.startsWith(SCOPE_PREFIX)) {\n            return scope;\n          }\n          return `${SCOPE_PREFIX}${scope}`;\n        });\n      }\n    });\n  }\n}\n\nconst DEFAULT_PROVIDER$4 = {\n  id: \"okta\",\n  title: \"Okta\",\n  icon: GithubIcon\n};\nconst OKTA_OIDC_SCOPES = new Set([\n  \"openid\",\n  \"profile\",\n  \"email\",\n  \"phone\",\n  \"address\",\n  \"groups\",\n  \"offline_access\"\n]);\nconst OKTA_SCOPE_PREFIX = \"okta.\";\nclass OktaAuth {\n  static create({\n    discoveryApi,\n    environment = \"development\",\n    provider = DEFAULT_PROVIDER$4,\n    oauthRequestApi,\n    defaultScopes = [\"openid\", \"email\", \"profile\", \"offline_access\"]\n  }) {\n    return OAuth2.create({\n      discoveryApi,\n      oauthRequestApi,\n      provider,\n      environment,\n      defaultScopes,\n      scopeTransform(scopes) {\n        return scopes.map((scope) => {\n          if (OKTA_OIDC_SCOPES.has(scope)) {\n            return scope;\n          }\n          if (scope.startsWith(OKTA_SCOPE_PREFIX)) {\n            return scope;\n          }\n          return `${OKTA_SCOPE_PREFIX}${scope}`;\n        });\n      }\n    });\n  }\n}\n\nconst DEFAULT_PROVIDER$5 = {\n  id: \"saml\",\n  title: \"SAML\",\n  icon: GithubIcon\n};\nclass SamlAuth {\n  constructor(sessionManager) {\n    this.sessionManager = sessionManager;\n  }\n  static create({\n    discoveryApi,\n    environment = \"development\",\n    provider = DEFAULT_PROVIDER$5\n  }) {\n    const connector = new DirectAuthConnector({\n      discoveryApi,\n      environment,\n      provider\n    });\n    const sessionManager = new StaticAuthSessionManager({\n      connector\n    });\n    const authSessionStore = new AuthSessionStore({\n      manager: sessionManager,\n      storageKey: `${provider.id}Session`\n    });\n    return new SamlAuth(authSessionStore);\n  }\n  sessionState$() {\n    return this.sessionManager.sessionState$();\n  }\n  async signIn() {\n    await this.getBackstageIdentity({});\n  }\n  async signOut() {\n    await this.sessionManager.removeSession();\n  }\n  async getBackstageIdentity(options = {}) {\n    const session = await this.sessionManager.getSession(options);\n    return session == null ? void 0 : session.backstageIdentity;\n  }\n  async getProfile(options = {}) {\n    const session = await this.sessionManager.getSession(options);\n    return session == null ? void 0 : session.profile;\n  }\n}\n\nconst DEFAULT_PROVIDER$6 = {\n  id: \"auth0\",\n  title: \"Auth0\",\n  icon: GithubIcon\n};\nclass Auth0Auth {\n  static create({\n    discoveryApi,\n    environment = \"development\",\n    provider = DEFAULT_PROVIDER$6,\n    oauthRequestApi,\n    defaultScopes = [\"openid\", `email`, `profile`]\n  }) {\n    return OAuth2.create({\n      discoveryApi,\n      oauthRequestApi,\n      provider,\n      environment,\n      defaultScopes\n    });\n  }\n}\n\nconst DEFAULT_PROVIDER$7 = {\n  id: \"microsoft\",\n  title: \"Microsoft\",\n  icon: GithubIcon\n};\nclass MicrosoftAuth {\n  static create({\n    environment = \"development\",\n    provider = DEFAULT_PROVIDER$7,\n    oauthRequestApi,\n    discoveryApi,\n    defaultScopes = [\n      \"openid\",\n      \"offline_access\",\n      \"profile\",\n      \"email\",\n      \"User.Read\"\n    ]\n  }) {\n    return OAuth2.create({\n      discoveryApi,\n      oauthRequestApi,\n      provider,\n      environment,\n      defaultScopes\n    });\n  }\n}\n\nconst DEFAULT_PROVIDER$8 = {\n  id: \"onelogin\",\n  title: \"onelogin\",\n  icon: GithubIcon\n};\nconst OIDC_SCOPES = new Set([\n  \"openid\",\n  \"profile\",\n  \"email\",\n  \"phone\",\n  \"address\",\n  \"groups\",\n  \"offline_access\"\n]);\nconst SCOPE_PREFIX$1 = \"onelogin.\";\nclass OneLoginAuth {\n  static create({\n    discoveryApi,\n    environment = \"development\",\n    provider = DEFAULT_PROVIDER$8,\n    oauthRequestApi\n  }) {\n    return OAuth2.create({\n      discoveryApi,\n      oauthRequestApi,\n      provider,\n      environment,\n      defaultScopes: [\"openid\", \"email\", \"profile\", \"offline_access\"],\n      scopeTransform(scopes) {\n        return scopes.map((scope) => {\n          if (OIDC_SCOPES.has(scope)) {\n            return scope;\n          }\n          if (scope.startsWith(SCOPE_PREFIX$1)) {\n            return scope;\n          }\n          return `${SCOPE_PREFIX$1}${scope}`;\n        });\n      }\n    });\n  }\n}\n\nclass AlertApiForwarder {\n  constructor() {\n    this.subject = new PublishSubject();\n  }\n  post(alert) {\n    this.subject.next(alert);\n  }\n  alert$() {\n    return this.subject;\n  }\n}\n\nconst STORAGE_KEY = \"theme\";\nclass AppThemeSelector {\n  constructor(themes) {\n    this.themes = themes;\n    this.subject = new BehaviorSubject(void 0);\n  }\n  static createWithStorage(themes) {\n    var _a;\n    const selector = new AppThemeSelector(themes);\n    if (!window.localStorage) {\n      return selector;\n    }\n    const initialThemeId = (_a = window.localStorage.getItem(STORAGE_KEY)) != null ? _a : void 0;\n    selector.setActiveThemeId(initialThemeId);\n    selector.activeThemeId$().subscribe((themeId) => {\n      if (themeId) {\n        window.localStorage.setItem(STORAGE_KEY, themeId);\n      } else {\n        window.localStorage.removeItem(STORAGE_KEY);\n      }\n    });\n    window.addEventListener(\"storage\", (event) => {\n      var _a2;\n      if (event.key === STORAGE_KEY) {\n        const themeId = (_a2 = localStorage.getItem(STORAGE_KEY)) != null ? _a2 : void 0;\n        selector.setActiveThemeId(themeId);\n      }\n    });\n    return selector;\n  }\n  getInstalledThemes() {\n    return this.themes.slice();\n  }\n  activeThemeId$() {\n    return this.subject;\n  }\n  getActiveThemeId() {\n    return this.activeThemeId;\n  }\n  setActiveThemeId(themeId) {\n    this.activeThemeId = themeId;\n    this.subject.next(themeId);\n  }\n}\n\nclass UrlPatternDiscovery {\n  constructor(parts) {\n    this.parts = parts;\n  }\n  static compile(pattern) {\n    const parts = pattern.split(/\\{\\{\\s*pluginId\\s*\\}\\}/);\n    try {\n      const urlStr = parts.join(\"pluginId\");\n      const url = new URL(urlStr);\n      if (url.hash) {\n        throw new Error(\"URL must not have a hash\");\n      }\n      if (url.search) {\n        throw new Error(\"URL must not have a query\");\n      }\n      if (urlStr.endsWith(\"/\")) {\n        throw new Error(\"URL must not end with a slash\");\n      }\n    } catch (error) {\n      throw new Error(`Invalid discovery URL pattern, ${error.message}`);\n    }\n    return new UrlPatternDiscovery(parts);\n  }\n  async getBaseUrl(pluginId) {\n    return this.parts.join(pluginId);\n  }\n}\n\nclass ErrorAlerter {\n  constructor(alertApi, errorApi) {\n    this.alertApi = alertApi;\n    this.errorApi = errorApi;\n  }\n  post(error, context) {\n    if (!(context == null ? void 0 : context.hidden)) {\n      this.alertApi.post({message: error.message, severity: \"error\"});\n    }\n    return this.errorApi.post(error, context);\n  }\n  error$() {\n    return this.errorApi.error$();\n  }\n}\n\nclass ErrorApiForwarder {\n  constructor() {\n    this.subject = new PublishSubject();\n  }\n  post(error, context) {\n    this.subject.next({error, context});\n  }\n  error$() {\n    return this.subject;\n  }\n}\n\nfunction validateFlagName(name) {\n  if (name.length < 3) {\n    throw new Error(`The '${name}' feature flag must have a minimum length of three characters.`);\n  }\n  if (name.length > 150) {\n    throw new Error(`The '${name}' feature flag must not exceed 150 characters.`);\n  }\n  if (!name.match(/^[a-z]+[a-z0-9-]+$/)) {\n    throw new Error(`The '${name}' feature flag must start with a lowercase letter and only contain lowercase letters, numbers and hyphens. Examples: feature-flag-one, alpha, release-2020`);\n  }\n}\nclass LocalStorageFeatureFlags {\n  constructor() {\n    this.registeredFeatureFlags = [];\n  }\n  registerFlag(flag) {\n    validateFlagName(flag.name);\n    this.registeredFeatureFlags.push(flag);\n  }\n  getRegisteredFlags() {\n    return this.registeredFeatureFlags.slice();\n  }\n  isActive(name) {\n    if (!this.flags) {\n      this.flags = this.load();\n    }\n    return this.flags.get(name) === FeatureFlagState.Active;\n  }\n  save(options) {\n    if (!this.flags) {\n      this.flags = this.load();\n    }\n    if (!options.merge) {\n      this.flags.clear();\n    }\n    for (const [name, state] of Object.entries(options.states)) {\n      this.flags.set(name, state);\n    }\n    const enabled = Array.from(this.flags.entries()).filter(([, state]) => state === FeatureFlagState.Active);\n    window.localStorage.setItem(\"featureFlags\", JSON.stringify(Object.fromEntries(enabled)));\n  }\n  load() {\n    try {\n      const jsonStr = window.localStorage.getItem(\"featureFlags\");\n      if (!jsonStr) {\n        return new Map();\n      }\n      const json = JSON.parse(jsonStr);\n      if (typeof json !== \"object\" || json === null || Array.isArray(json)) {\n        return new Map();\n      }\n      const entries = Object.entries(json).filter(([name, value]) => {\n        validateFlagName(name);\n        return value === FeatureFlagState.Active;\n      });\n      return new Map(entries);\n    } catch {\n      return new Map();\n    }\n  }\n}\n\nfunction hasScopes$1(searched, searchFor) {\n  for (const scope of searchFor) {\n    if (!searched.has(scope)) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction joinScopes(scopes, ...moreScopess) {\n  const result = new Set(scopes);\n  for (const moreScopes of moreScopess) {\n    for (const scope of moreScopes) {\n      result.add(scope);\n    }\n  }\n  return result;\n}\nclass OAuthPendingRequests {\n  constructor() {\n    this.requests = [];\n    this.subject = new BehaviorSubject(this.getCurrentPending());\n  }\n  request(scopes) {\n    return new Promise((resolve, reject) => {\n      this.requests.push({scopes, resolve, reject});\n      this.subject.next(this.getCurrentPending());\n    });\n  }\n  resolve(scopes, result) {\n    this.requests = this.requests.filter((request) => {\n      if (hasScopes$1(scopes, request.scopes)) {\n        request.resolve(result);\n        return false;\n      }\n      return true;\n    });\n    this.subject.next(this.getCurrentPending());\n  }\n  reject(error) {\n    this.requests.forEach((request) => request.reject(error));\n    this.requests = [];\n    this.subject.next(this.getCurrentPending());\n  }\n  pending() {\n    return this.subject;\n  }\n  getCurrentPending() {\n    const currentScopes = this.requests.length === 0 ? void 0 : this.requests.slice(1).reduce((acc, current) => joinScopes(acc, current.scopes), this.requests[0].scopes);\n    return {\n      scopes: currentScopes,\n      resolve: (value) => {\n        if (currentScopes) {\n          this.resolve(currentScopes, value);\n        }\n      },\n      reject: (reason) => {\n        if (currentScopes) {\n          this.reject(reason);\n        }\n      }\n    };\n  }\n}\n\nclass OAuthRequestManager {\n  constructor() {\n    this.subject = new BehaviorSubject([]);\n    this.currentRequests = [];\n    this.handlerCount = 0;\n  }\n  createAuthRequester(options) {\n    const handler = new OAuthPendingRequests();\n    const index = this.handlerCount;\n    this.handlerCount++;\n    handler.pending().subscribe({\n      next: (scopeRequest) => {\n        const newRequests = this.currentRequests.slice();\n        const request = this.makeAuthRequest(scopeRequest, options);\n        if (!request) {\n          delete newRequests[index];\n        } else {\n          newRequests[index] = request;\n        }\n        this.currentRequests = newRequests;\n        this.subject.next(newRequests.filter(Boolean));\n      }\n    });\n    return (scopes) => {\n      return handler.request(scopes);\n    };\n  }\n  makeAuthRequest(request, options) {\n    const {scopes} = request;\n    if (!scopes) {\n      return void 0;\n    }\n    return {\n      provider: options.provider,\n      trigger: async () => {\n        const result = await options.onAuthRequest(scopes);\n        request.resolve(result);\n      },\n      reject: () => {\n        const error = new Error(\"Login failed, rejected by user\");\n        error.name = \"RejectedError\";\n        request.reject(error);\n      }\n    };\n  }\n  authRequest$() {\n    return this.subject;\n  }\n}\n\nconst buckets = new Map();\nclass WebStorage {\n  constructor(namespace, errorApi) {\n    this.namespace = namespace;\n    this.errorApi = errorApi;\n    this.subscribers = new Set();\n    this.observable = new ObservableImpl((subscriber) => {\n      this.subscribers.add(subscriber);\n      return () => {\n        this.subscribers.delete(subscriber);\n      };\n    });\n  }\n  static create(options) {\n    var _a;\n    return new WebStorage((_a = options.namespace) != null ? _a : \"\", options.errorApi);\n  }\n  get(key) {\n    try {\n      const storage = JSON.parse(localStorage.getItem(this.getKeyName(key)));\n      return storage != null ? storage : void 0;\n    } catch (e) {\n      this.errorApi.post(new Error(`Error when parsing JSON config from storage for: ${key}`));\n    }\n    return void 0;\n  }\n  forBucket(name) {\n    const bucketPath = `${this.namespace}/${name}`;\n    if (!buckets.has(bucketPath)) {\n      buckets.set(bucketPath, new WebStorage(bucketPath, this.errorApi));\n    }\n    return buckets.get(bucketPath);\n  }\n  async set(key, data) {\n    localStorage.setItem(this.getKeyName(key), JSON.stringify(data, null, 2));\n    this.notifyChanges({key, newValue: data});\n  }\n  async remove(key) {\n    localStorage.removeItem(this.getKeyName(key));\n    this.notifyChanges({key, newValue: void 0});\n  }\n  observe$(key) {\n    return this.observable.filter(({key: messageKey}) => messageKey === key);\n  }\n  getKeyName(key) {\n    return `${this.namespace}/${encodeURIComponent(key)}`;\n  }\n  notifyChanges(message) {\n    for (const subscription of this.subscribers) {\n      subscription.next(message);\n    }\n  }\n}\n\nconst AppContext = getOrCreateGlobalSingleton(\"app-context\", () => createContext(void 0));\nconst AppContextProvider = ({\n  appContext,\n  children\n}) => {\n  const versionedValue = useMemo(() => createVersionedValueMap({1: appContext}), [appContext]);\n  return /* @__PURE__ */ React.createElement(AppContext.Provider, {\n    value: versionedValue,\n    children\n  });\n};\nconst useApp = () => {\n  const versionedContext = useContext(getGlobalSingleton(\"app-context\"));\n  if (!versionedContext) {\n    throw new Error(\"No app context available\");\n  }\n  const appContext = versionedContext.atVersion(1);\n  if (!appContext) {\n    throw new Error(\"AppContext v1 not available\");\n  }\n  return appContext;\n};\n\nconst DATA_KEY = Symbol(\"backstage-component-data\");\nconst store = getOrCreateGlobalSingleton(\"component-data-store\", () => new WeakMap());\nfunction attachComponentData(component, type, data) {\n  const dataComponent = component;\n  let container = store.get(component) || dataComponent[DATA_KEY];\n  if (!container) {\n    container = {map: new Map()};\n    store.set(component, container);\n    dataComponent[DATA_KEY] = container;\n  }\n  if (container.map.has(type)) {\n    const name = component.displayName || component.name;\n    throw new Error(`Attempted to attach duplicate data \"${type}\" to component \"${name}\"`);\n  }\n  container.map.set(type, data);\n}\nfunction getComponentData(node, type) {\n  if (!node) {\n    return void 0;\n  }\n  const component = node.type;\n  if (!component) {\n    return void 0;\n  }\n  const container = store.get(component) || component[DATA_KEY];\n  if (!container) {\n    return void 0;\n  }\n  return container.map.get(type);\n}\n\nconst routeRefType = getOrCreateGlobalSingleton(\"route-ref-type\", () => Symbol(\"route-ref-type\"));\n\nvar _a;\nclass ExternalRouteRefImpl {\n  constructor(id, params, optional) {\n    this.id = id;\n    this.params = params;\n    this.optional = optional;\n    this[_a] = \"external\";\n  }\n  toString() {\n    return `routeRef{type=external,id=${this.id}}`;\n  }\n}\n_a = routeRefType;\nfunction createExternalRouteRef(options) {\n  var _a2;\n  return new ExternalRouteRefImpl(options.id, (_a2 = options.params) != null ? _a2 : [], Boolean(options.optional));\n}\nfunction isExternalRouteRef(routeRef) {\n  return routeRef[routeRefType] === \"external\";\n}\n\nfunction createRoutesFromChildren(childrenNode) {\n  return Children.toArray(childrenNode).flatMap((child) => {\n    var _a;\n    if (!isValidElement(child)) {\n      return [];\n    }\n    const {children} = child.props;\n    if (child.type === Fragment) {\n      return createRoutesFromChildren(children);\n    }\n    let path = child.props.path;\n    if (path === \"\") {\n      return [];\n    }\n    path = (_a = path == null ? void 0 : path.replace(/\\/\\*$/, \"\")) != null ? _a : \"/\";\n    return [\n      {\n        path,\n        element: child,\n        children: children && [\n          {\n            path: \"/*\",\n            element: children\n          }\n        ]\n      }\n    ];\n  });\n}\nconst FlatRoutes = (props) => {\n  const app = useApp();\n  const {NotFoundErrorPage} = app.getComponents();\n  const routes = createRoutesFromChildren(props.children).sort((a, b) => b.path.localeCompare(a.path)).map((obj) => {\n    obj.path = obj.path === \"/\" ? \"/\" : `${obj.path}/*`;\n    return obj;\n  });\n  routes.push({\n    element: /* @__PURE__ */ React.createElement(NotFoundErrorPage, null),\n    path: \"/*\"\n  });\n  return useRoutes(routes);\n};\n\nvar _a$1;\nclass RouteRefImpl {\n  constructor(id, params, config) {\n    this.id = id;\n    this.params = params;\n    this.config = config;\n    this[_a$1] = \"absolute\";\n  }\n  get icon() {\n    return this.config.icon;\n  }\n  get path() {\n    var _a2;\n    return (_a2 = this.config.path) != null ? _a2 : \"\";\n  }\n  get title() {\n    var _a2;\n    return (_a2 = this.config.title) != null ? _a2 : this.id;\n  }\n  toString() {\n    return `routeRef{type=absolute,id=${this.id}}`;\n  }\n}\n_a$1 = routeRefType;\nfunction createRouteRef(config) {\n  var _a2;\n  const id = config.id || config.title;\n  if (!id) {\n    throw new Error(\"RouteRef must be provided a non-empty id\");\n  }\n  return new RouteRefImpl(id, (_a2 = config.params) != null ? _a2 : [], config);\n}\nfunction isRouteRef(routeRef) {\n  return routeRef[routeRefType] === \"absolute\";\n}\n\nvar _a$2;\nconst PARAM_PATTERN = /^\\w+$/;\nclass SubRouteRefImpl {\n  constructor(id, path, parent, params) {\n    this.id = id;\n    this.path = path;\n    this.parent = parent;\n    this.params = params;\n    this[_a$2] = \"sub\";\n  }\n  toString() {\n    return `routeRef{type=sub,id=${this.id}}`;\n  }\n}\n_a$2 = routeRefType;\nfunction createSubRouteRef(config) {\n  const {id, path, parent} = config;\n  const pathParams = path.split(\"/\").filter((p) => p.startsWith(\":\")).map((p) => p.substring(1));\n  const params = [...parent.params, ...pathParams];\n  if (parent.params.some((p) => pathParams.includes(p))) {\n    throw new Error(\"SubRouteRef may not have params that overlap with its parent\");\n  }\n  if (!path.startsWith(\"/\")) {\n    throw new Error(`SubRouteRef path must start with '/', got '${path}'`);\n  }\n  if (path.endsWith(\"/\")) {\n    throw new Error(`SubRouteRef path must not end with '/', got '${path}'`);\n  }\n  for (const param of pathParams) {\n    if (!PARAM_PATTERN.test(param)) {\n      throw new Error(`SubRouteRef path has invalid param, got '${param}'`);\n    }\n  }\n  const subRouteRef = new SubRouteRefImpl(id, path, parent, params);\n  return subRouteRef;\n}\nfunction isSubRouteRef(routeRef) {\n  return routeRef[routeRefType] === \"sub\";\n}\n\nfunction joinPaths(...paths) {\n  const normalized = paths.join(\"/\").replace(/\\/\\/+/g, \"/\");\n  if (normalized !== \"/\" && normalized.endsWith(\"/\")) {\n    return normalized.slice(0, -1);\n  }\n  return normalized;\n}\nfunction resolveTargetRef(anyRouteRef, routePaths, routeBindings) {\n  let targetRef;\n  let subRoutePath = \"\";\n  if (isRouteRef(anyRouteRef)) {\n    targetRef = anyRouteRef;\n  } else if (isSubRouteRef(anyRouteRef)) {\n    targetRef = anyRouteRef.parent;\n    subRoutePath = anyRouteRef.path;\n  } else if (isExternalRouteRef(anyRouteRef)) {\n    const resolvedRoute = routeBindings.get(anyRouteRef);\n    if (!resolvedRoute) {\n      return [void 0, \"\"];\n    }\n    if (isRouteRef(resolvedRoute)) {\n      targetRef = resolvedRoute;\n    } else if (isSubRouteRef(resolvedRoute)) {\n      targetRef = resolvedRoute.parent;\n      subRoutePath = resolvedRoute.path;\n    } else {\n      throw new Error(`ExternalRouteRef was bound to invalid target, ${resolvedRoute}`);\n    }\n  } else if (anyRouteRef[routeRefType]) {\n    throw new Error(`Unknown or invalid route ref type, ${anyRouteRef[routeRefType]}`);\n  } else {\n    throw new Error(`Unknown object passed to useRouteRef, got ${anyRouteRef}`);\n  }\n  if (!targetRef) {\n    return [void 0, \"\"];\n  }\n  const resolvedPath = routePaths.get(targetRef);\n  if (!resolvedPath) {\n    return [void 0, \"\"];\n  }\n  const targetPath = joinPaths(resolvedPath, subRoutePath);\n  return [targetRef, targetPath];\n}\nfunction resolveBasePath(targetRef, sourceLocation, routePaths, routeParents, routeObjects) {\n  var _a;\n  const match = (_a = matchRoutes(routeObjects, sourceLocation)) != null ? _a : [];\n  const refDiffList = Array();\n  let matchIndex = -1;\n  for (let targetSearchRef = targetRef; targetSearchRef; targetSearchRef = routeParents.get(targetSearchRef)) {\n    matchIndex = match.findIndex((m) => m.route.routeRefs.has(targetSearchRef));\n    if (matchIndex !== -1) {\n      break;\n    }\n    refDiffList.unshift(targetSearchRef);\n  }\n  if (refDiffList.length === 0) {\n    matchIndex -= 1;\n  }\n  const parentPath = matchIndex === -1 ? \"\" : match[matchIndex].pathname;\n  const diffPath = joinPaths(...refDiffList.slice(0, -1).map((ref) => {\n    const path = routePaths.get(ref);\n    if (!path) {\n      throw new Error(`No path for ${ref}`);\n    }\n    if (path.includes(\":\")) {\n      throw new Error(`Cannot route to ${targetRef} with parent ${ref} as it has parameters`);\n    }\n    return path;\n  }));\n  return parentPath + diffPath;\n}\nclass RouteResolver {\n  constructor(routePaths, routeParents, routeObjects, routeBindings) {\n    this.routePaths = routePaths;\n    this.routeParents = routeParents;\n    this.routeObjects = routeObjects;\n    this.routeBindings = routeBindings;\n  }\n  resolve(anyRouteRef, sourceLocation) {\n    const [targetRef, targetPath] = resolveTargetRef(anyRouteRef, this.routePaths, this.routeBindings);\n    if (!targetRef) {\n      return void 0;\n    }\n    const basePath = resolveBasePath(targetRef, sourceLocation, this.routePaths, this.routeParents, this.routeObjects);\n    const routeFunc = (...[params]) => {\n      return basePath + generatePath(targetPath, params);\n    };\n    return routeFunc;\n  }\n}\n\nconst RoutingContext = getOrCreateGlobalSingleton(\"routing-context\", () => createContext(void 0));\nfunction useRouteRef(routeRef) {\n  const sourceLocation = useLocation();\n  const versionedContext = useContext(getGlobalSingleton(\"routing-context\"));\n  const resolver = versionedContext == null ? void 0 : versionedContext.atVersion(1);\n  const routeFunc = useMemo(() => resolver && resolver.resolve(routeRef, sourceLocation), [resolver, routeRef, sourceLocation]);\n  if (!versionedContext) {\n    throw new Error(\"useRouteRef used outside of routing context\");\n  }\n  if (!resolver) {\n    throw new Error(\"RoutingContext v1 not available\");\n  }\n  const isOptional = \"optional\" in routeRef && routeRef.optional;\n  if (!routeFunc && !isOptional) {\n    throw new Error(`No path for ${routeRef}`);\n  }\n  return routeFunc;\n}\nconst RoutingProvider = ({\n  routePaths,\n  routeParents,\n  routeObjects,\n  routeBindings,\n  children\n}) => {\n  const resolver = new RouteResolver(routePaths, routeParents, routeObjects, routeBindings);\n  const versionedValue = createVersionedValueMap({1: resolver});\n  return /* @__PURE__ */ React.createElement(RoutingContext.Provider, {\n    value: versionedValue\n  }, children);\n};\nfunction useRouteRefParams(_routeRef) {\n  return useParams();\n}\n\nfunction createRoutableExtension(options) {\n  const {component, mountPoint} = options;\n  return createReactExtension({\n    component: {\n      lazy: () => component().then((InnerComponent) => {\n        const RoutableExtensionWrapper = (props) => {\n          try {\n            useRouteRef(mountPoint);\n          } catch (error) {\n            if (error == null ? void 0 : error.message.startsWith(\"No path for \")) {\n              throw new Error(`Routable extension component with mount point ${mountPoint} was not discovered in the app element tree. Routable extension components may not be rendered by other components and must be directly available as an element within the App provider component.`);\n            }\n            throw error;\n          }\n          return /* @__PURE__ */ React.createElement(InnerComponent, {\n            ...props\n          });\n        };\n        const componentName = InnerComponent.displayName || InnerComponent.name || \"LazyComponent\";\n        RoutableExtensionWrapper.displayName = `RoutableExtension(${componentName})`;\n        return RoutableExtensionWrapper;\n      }, (error) => {\n        const RoutableExtensionWrapper = (_) => {\n          const app = useApp();\n          const {BootErrorPage} = app.getComponents();\n          return /* @__PURE__ */ React.createElement(BootErrorPage, {\n            step: \"load-chunk\",\n            error\n          });\n        };\n        return RoutableExtensionWrapper;\n      })\n    },\n    data: {\n      \"core.mountPoint\": mountPoint\n    }\n  });\n}\nfunction createComponentExtension(options) {\n  const {component} = options;\n  return createReactExtension({component});\n}\nfunction createReactExtension(options) {\n  const {data = {}} = options;\n  let Component;\n  if (\"lazy\" in options.component) {\n    const lazyLoader = options.component.lazy;\n    Component = lazy(() => lazyLoader().then((component) => ({default: component})));\n  } else {\n    Component = options.component.sync;\n  }\n  const componentName = Component.displayName || Component.name || \"Component\";\n  return {\n    expose(plugin) {\n      const Result = (props) => /* @__PURE__ */ React.createElement(Suspense, {\n        fallback: \"...\"\n      }, /* @__PURE__ */ React.createElement(Component, {\n        ...props\n      }));\n      attachComponentData(Result, \"core.plugin\", plugin);\n      for (const [key, value] of Object.entries(data)) {\n        attachComponentData(Result, key, value);\n      }\n      Result.displayName = `Extension(${componentName})`;\n      return Result;\n    }\n  };\n}\n\nconst defaultSystemIcons = {\n  brokenImage: MuiBrokenImageIcon,\n  catalog: MuiMenuBookIcon,\n  chat: MuiChatIcon,\n  dashboard: MuiDashboardIcon,\n  email: MuiEmailIcon,\n  github: MuiGitHubIcon,\n  group: MuiPeopleIcon,\n  help: MuiHelpIcon,\n  user: MuiPersonIcon,\n  warning: MuiWarningIcon,\n  docs: MuiDocsIcon\n};\nconst overridableSystemIcon = (key) => {\n  const Component = (props) => {\n    const app = useApp();\n    const Icon = app.getSystemIcon(key);\n    return Icon ? /* @__PURE__ */ React.createElement(Icon, {\n      ...props\n    }) : /* @__PURE__ */ React.createElement(MuiBrokenImageIcon, {\n      ...props\n    });\n  };\n  return Component;\n};\nconst BrokenImageIcon = overridableSystemIcon(\"brokenImage\");\nconst ChatIcon = overridableSystemIcon(\"chat\");\nconst DashboardIcon = overridableSystemIcon(\"dashboard\");\nconst EmailIcon = overridableSystemIcon(\"email\");\nconst GitHubIcon = overridableSystemIcon(\"github\");\nconst GroupIcon = overridableSystemIcon(\"group\");\nconst HelpIcon = overridableSystemIcon(\"help\");\nconst UserIcon = overridableSystemIcon(\"user\");\nconst WarningIcon = overridableSystemIcon(\"warning\");\nconst DocsIcon = overridableSystemIcon(\"docs\");\n\nclass PluginImpl {\n  constructor(config) {\n    this.config = config;\n  }\n  getId() {\n    return this.config.id;\n  }\n  getApis() {\n    var _a;\n    return (_a = this.config.apis) != null ? _a : [];\n  }\n  get routes() {\n    var _a;\n    return (_a = this.config.routes) != null ? _a : {};\n  }\n  get externalRoutes() {\n    var _a;\n    return (_a = this.config.externalRoutes) != null ? _a : {};\n  }\n  output() {\n    if (this.storedOutput) {\n      return this.storedOutput;\n    }\n    if (!this.config.register) {\n      return [];\n    }\n    const outputs = new Array();\n    this.config.register({\n      router: {\n        addRoute(target, component, options) {\n          outputs.push({\n            type: \"route\",\n            target,\n            component,\n            options\n          });\n        }\n      },\n      featureFlags: {\n        register(name) {\n          outputs.push({type: \"feature-flag\", name});\n        }\n      }\n    });\n    this.storedOutput = outputs;\n    return this.storedOutput;\n  }\n  provide(extension) {\n    return extension.expose(this);\n  }\n  toString() {\n    return `plugin{${this.config.id}}`;\n  }\n}\nfunction createPlugin(config) {\n  return new PluginImpl(config);\n}\n\nfunction traverseElementTree(options) {\n  const collectors = {};\n  for (const name in options.collectors) {\n    if (options.collectors.hasOwnProperty(name)) {\n      collectors[name] = options.collectors[name]();\n    }\n  }\n  const queue = [\n    {\n      node: Children.toArray(options.root),\n      parent: void 0,\n      contexts: {}\n    }\n  ];\n  while (queue.length !== 0) {\n    const {node, parent, contexts} = queue.shift();\n    Children.forEach(node, (element) => {\n      if (!isValidElement(element)) {\n        return;\n      }\n      const nextContexts = {};\n      for (const name in collectors) {\n        if (collectors.hasOwnProperty(name)) {\n          const collector = collectors[name];\n          nextContexts[name] = collector.visit(collector.accumulator, element, parent, contexts[name]);\n        }\n      }\n      for (const discoverer of options.discoverers) {\n        const children = discoverer(element);\n        if (children) {\n          queue.push({\n            node: children,\n            parent: element,\n            contexts: nextContexts\n          });\n        }\n      }\n    });\n  }\n  return Object.fromEntries(Object.entries(collectors).map(([name, c]) => [name, c.accumulator]));\n}\nfunction createCollector(accumulatorFactory, visit) {\n  return () => ({accumulator: accumulatorFactory(), visit});\n}\nfunction childDiscoverer(element) {\n  var _a;\n  return (_a = element.props) == null ? void 0 : _a.children;\n}\nfunction routeElementDiscoverer(element) {\n  var _a, _b, _c;\n  if (((_a = element.props) == null ? void 0 : _a.path) && ((_b = element.props) == null ? void 0 : _b.element)) {\n    return (_c = element.props) == null ? void 0 : _c.element;\n  }\n  return void 0;\n}\n\nconst pluginCollector = createCollector(() => new Set(), (acc, node) => {\n  const plugin = getComponentData(node, \"core.plugin\");\n  if (plugin) {\n    acc.add(plugin);\n  }\n});\n\nfunction getMountPoint(node) {\n  var _a;\n  const element = (_a = node.props) == null ? void 0 : _a.element;\n  let routeRef = getComponentData(node, \"core.mountPoint\");\n  if (!routeRef && isValidElement(element)) {\n    routeRef = getComponentData(element, \"core.mountPoint\");\n  }\n  return routeRef;\n}\nconst routePathCollector = createCollector(() => new Map(), (acc, node, parent, ctxPath) => {\n  var _a, _b;\n  let currentCtxPath = ctxPath;\n  if ((parent == null ? void 0 : parent.props.element) === node) {\n    return currentCtxPath;\n  }\n  if (getComponentData(node, \"core.gatherMountPoints\")) {\n    const path = (_a = node.props) == null ? void 0 : _a.path;\n    if (!path) {\n      throw new Error(\"Mount point gatherer must have a path\");\n    }\n    currentCtxPath = path;\n  }\n  const routeRef = getMountPoint(node);\n  if (routeRef) {\n    let path = (_b = node.props) == null ? void 0 : _b.path;\n    if (currentCtxPath) {\n      if (path) {\n        currentCtxPath = void 0;\n      } else {\n        path = currentCtxPath;\n      }\n    }\n    if (!path) {\n      throw new Error(\"Mounted routable extension must have a path\");\n    }\n    acc.set(routeRef, path);\n  }\n  return currentCtxPath;\n});\nconst routeParentCollector = createCollector(() => new Map(), (acc, node, parent, parentRouteRef) => {\n  var _a;\n  if ((parent == null ? void 0 : parent.props.element) === node) {\n    return parentRouteRef;\n  }\n  let nextParent = parentRouteRef;\n  const routeRef = getMountPoint(node);\n  if (routeRef) {\n    if (parentRouteRef && \"sticky\" in parentRouteRef) {\n      acc.set(routeRef, parentRouteRef.sticky);\n      if ((_a = node.props) == null ? void 0 : _a.path) {\n        nextParent = routeRef;\n      } else {\n        nextParent = parentRouteRef;\n      }\n    } else {\n      acc.set(routeRef, parentRouteRef);\n      nextParent = routeRef;\n    }\n  }\n  if (getComponentData(node, \"core.gatherMountPoints\")) {\n    return {sticky: nextParent};\n  }\n  return nextParent;\n});\nconst MATCH_ALL_ROUTE = {\n  caseSensitive: false,\n  path: \"/*\",\n  element: \"match-all\",\n  routeRefs: new Set()\n};\nconst routeObjectCollector = createCollector(() => Array(), (acc, node, parent, parentObj) => {\n  var _a, _b, _c;\n  const parentChildren = (_a = parentObj == null ? void 0 : parentObj.children) != null ? _a : acc;\n  if ((parent == null ? void 0 : parent.props.element) === node) {\n    return parentObj;\n  }\n  const path = (_b = node.props) == null ? void 0 : _b.path;\n  const caseSensitive = Boolean((_c = node.props) == null ? void 0 : _c.caseSensitive);\n  const routeRef = getMountPoint(node);\n  if (routeRef) {\n    if (path) {\n      const newObject = {\n        caseSensitive,\n        path,\n        element: \"mounted\",\n        routeRefs: new Set([routeRef]),\n        children: [MATCH_ALL_ROUTE]\n      };\n      parentChildren.push(newObject);\n      return newObject;\n    }\n    parentObj == null ? void 0 : parentObj.routeRefs.add(routeRef);\n  }\n  const isGatherer = getComponentData(node, \"core.gatherMountPoints\");\n  if (isGatherer) {\n    if (!path) {\n      throw new Error(\"Mount point gatherer must have a path\");\n    }\n    const newObject = {\n      caseSensitive,\n      path,\n      element: \"gathered\",\n      routeRefs: new Set(),\n      children: [MATCH_ALL_ROUTE]\n    };\n    parentChildren.push(newObject);\n    return newObject;\n  }\n  return parentObj;\n});\n\nfunction validateRoutes(routePaths, routeParents) {\n  const notLeafRoutes = new Set(routeParents.values());\n  notLeafRoutes.delete(void 0);\n  for (const route of routeParents.keys()) {\n    if (notLeafRoutes.has(route)) {\n      continue;\n    }\n    let currentRouteRef = route;\n    let fullPath = \"\";\n    while (currentRouteRef) {\n      const path = routePaths.get(currentRouteRef);\n      if (!path) {\n        throw new Error(`No path for ${currentRouteRef}`);\n      }\n      fullPath = `${path}${fullPath}`;\n      currentRouteRef = routeParents.get(currentRouteRef);\n    }\n    const params = fullPath.match(/:(\\w+)/g);\n    if (params) {\n      for (let j = 0; j < params.length; j++) {\n        for (let i = j + 1; i < params.length; i++) {\n          if (params[i] === params[j]) {\n            throw new Error(`Parameter ${params[i]} is duplicated in path ${fullPath}`);\n          }\n        }\n      }\n    }\n  }\n}\n\nclass AppIdentity {\n  constructor() {\n    this.hasIdentity = false;\n  }\n  getUserId() {\n    if (!this.hasIdentity) {\n      throw new Error(\"Tried to access IdentityApi userId before app was loaded\");\n    }\n    return this.userId;\n  }\n  getProfile() {\n    if (!this.hasIdentity) {\n      throw new Error(\"Tried to access IdentityApi profile before app was loaded\");\n    }\n    return this.profile;\n  }\n  async getIdToken() {\n    var _a;\n    if (!this.hasIdentity) {\n      throw new Error(\"Tried to access IdentityApi idToken before app was loaded\");\n    }\n    return (_a = this.idTokenFunc) == null ? void 0 : _a.call(this);\n  }\n  async signOut() {\n    var _a;\n    if (!this.hasIdentity) {\n      throw new Error(\"Tried to access IdentityApi signOutFunc before app was loaded\");\n    }\n    await ((_a = this.signOutFunc) == null ? void 0 : _a.call(this));\n    location.reload();\n  }\n  setSignInResult(result) {\n    if (this.hasIdentity) {\n      return;\n    }\n    if (!result.userId) {\n      throw new Error(\"Invalid sign-in result, userId not set\");\n    }\n    if (!result.profile) {\n      throw new Error(\"Invalid sign-in result, profile not set\");\n    }\n    this.hasIdentity = true;\n    this.userId = result.userId;\n    this.profile = result.profile;\n    this.idTokenFunc = result.getIdToken;\n    this.signOutFunc = result.signOut;\n  }\n}\n\nfunction resolveTheme(themeId, shouldPreferDark, themes) {\n  if (themeId !== void 0) {\n    const selectedTheme = themes.find((theme) => theme.id === themeId);\n    if (selectedTheme) {\n      return selectedTheme;\n    }\n  }\n  if (shouldPreferDark) {\n    const darkTheme = themes.find((theme) => theme.variant === \"dark\");\n    if (darkTheme) {\n      return darkTheme;\n    }\n  }\n  const lightTheme = themes.find((theme) => theme.variant === \"light\");\n  if (lightTheme) {\n    return lightTheme;\n  }\n  return themes[0];\n}\nconst useShouldPreferDarkTheme = () => {\n  const mediaQuery = useMemo(() => window.matchMedia(\"(prefers-color-scheme: dark)\"), []);\n  const [shouldPreferDark, setPrefersDark] = useState(mediaQuery.matches);\n  useEffect(() => {\n    const listener = (event) => {\n      setPrefersDark(event.matches);\n    };\n    mediaQuery.addListener(listener);\n    return () => {\n      mediaQuery.removeListener(listener);\n    };\n  }, [mediaQuery]);\n  return shouldPreferDark;\n};\nfunction AppThemeProvider({children}) {\n  const appThemeApi = useApi(appThemeApiRef);\n  const themeId = useObservable(appThemeApi.activeThemeId$(), appThemeApi.getActiveThemeId());\n  const shouldPreferDark = Boolean(window.matchMedia) ? useShouldPreferDarkTheme() : false;\n  const appTheme = resolveTheme(themeId, shouldPreferDark, appThemeApi.getInstalledThemes());\n  if (!appTheme) {\n    throw new Error(\"App has no themes\");\n  }\n  return /* @__PURE__ */ React.createElement(ThemeProvider, {\n    theme: appTheme.theme\n  }, /* @__PURE__ */ React.createElement(CssBaseline, null, children));\n}\n\nfunction generateBoundRoutes(bindRoutes) {\n  const result = new Map();\n  if (bindRoutes) {\n    const bind = (externalRoutes, targetRoutes) => {\n      for (const [key, value] of Object.entries(targetRoutes)) {\n        const externalRoute = externalRoutes[key];\n        if (!externalRoute) {\n          throw new Error(`Key ${key} is not an existing external route`);\n        }\n        if (!value && !externalRoute.optional) {\n          throw new Error(`External route ${key} is required but was undefined`);\n        }\n        if (value) {\n          result.set(externalRoute, value);\n        }\n      }\n    };\n    bindRoutes({bind});\n  }\n  return result;\n}\nfunction useConfigLoader(configLoader, components, appThemeApi) {\n  var _a;\n  const hasConfig = Boolean(configLoader);\n  const config = useAsync(configLoader || (() => Promise.resolve([])));\n  let noConfigNode = void 0;\n  if (hasConfig && config.loading) {\n    const {Progress} = components;\n    noConfigNode = /* @__PURE__ */ React.createElement(Progress, null);\n  } else if (config.error) {\n    const {BootErrorPage} = components;\n    noConfigNode = /* @__PURE__ */ React.createElement(BootErrorPage, {\n      step: \"load-config\",\n      error: config.error\n    });\n  }\n  if (noConfigNode) {\n    return {\n      node: /* @__PURE__ */ React.createElement(ApiProvider, {\n        apis: ApiRegistry.from([[appThemeApiRef, appThemeApi]])\n      }, /* @__PURE__ */ React.createElement(AppThemeProvider, null, noConfigNode))\n    };\n  }\n  const configReader = ConfigReader.fromConfigs((_a = config.value) != null ? _a : []);\n  return {api: configReader};\n}\nclass AppContextImpl {\n  constructor(app) {\n    this.app = app;\n  }\n  getPlugins() {\n    console.warn(\"appContext.getPlugins() is deprecated and will be removed\");\n    return this.app.getPlugins();\n  }\n  getSystemIcon(key) {\n    return this.app.getSystemIcon(key);\n  }\n  getComponents() {\n    return this.app.getComponents();\n  }\n  getProvider() {\n    console.warn(\"appContext.getProvider() is deprecated and will be removed\");\n    return this.app.getProvider();\n  }\n  getRouter() {\n    console.warn(\"appContext.getRouter() is deprecated and will be removed\");\n    return this.app.getRouter();\n  }\n  getRoutes() {\n    console.warn(\"appContext.getRoutes() is deprecated and will be removed\");\n    return this.app.getRoutes();\n  }\n}\nclass PrivateAppImpl {\n  constructor(options) {\n    this.identityApi = new AppIdentity();\n    this.apis = options.apis;\n    this.icons = options.icons;\n    this.plugins = new Set(options.plugins);\n    this.components = options.components;\n    this.themes = options.themes;\n    this.configLoader = options.configLoader;\n    this.defaultApis = options.defaultApis;\n    this.bindRoutes = options.bindRoutes;\n  }\n  getPlugins() {\n    return Array.from(this.plugins);\n  }\n  getSystemIcon(key) {\n    return this.icons[key];\n  }\n  getComponents() {\n    return this.components;\n  }\n  getRoutes() {\n    const routes = new Array();\n    const {NotFoundErrorPage} = this.components;\n    for (const plugin of this.plugins.values()) {\n      for (const output of plugin.output()) {\n        switch (output.type) {\n          case \"legacy-route\": {\n            const {path, component: Component} = output;\n            routes.push(/* @__PURE__ */ React.createElement(Route, {\n              key: path,\n              path,\n              element: /* @__PURE__ */ React.createElement(Component, null)\n            }));\n            break;\n          }\n          case \"route\": {\n            const {target, component: Component} = output;\n            routes.push(/* @__PURE__ */ React.createElement(Route, {\n              key: `${plugin.getId()}-${target.path}`,\n              path: target.path,\n              element: /* @__PURE__ */ React.createElement(Component, null)\n            }));\n            break;\n          }\n          case \"legacy-redirect-route\": {\n            const {path, target} = output;\n            routes.push(/* @__PURE__ */ React.createElement(Navigate, {\n              key: path,\n              to: target\n            }));\n            break;\n          }\n          case \"redirect-route\": {\n            const {from, to} = output;\n            routes.push(/* @__PURE__ */ React.createElement(Navigate, {\n              key: from.path,\n              to: to.path\n            }));\n            break;\n          }\n        }\n      }\n    }\n    routes.push(/* @__PURE__ */ React.createElement(Route, {\n      key: \"not-found-error-page\",\n      path: \"/*\",\n      element: /* @__PURE__ */ React.createElement(NotFoundErrorPage, null)\n    }));\n    return routes;\n  }\n  getProvider() {\n    const appContext = new AppContextImpl(this);\n    const Provider = ({children}) => {\n      const appThemeApi = useMemo(() => AppThemeSelector.createWithStorage(this.themes), []);\n      const {routePaths, routeParents, routeObjects} = useMemo(() => {\n        const result = traverseElementTree({\n          root: children,\n          discoverers: [childDiscoverer, routeElementDiscoverer],\n          collectors: {\n            routePaths: routePathCollector,\n            routeParents: routeParentCollector,\n            routeObjects: routeObjectCollector,\n            collectedPlugins: pluginCollector\n          }\n        });\n        validateRoutes(result.routePaths, result.routeParents);\n        result.collectedPlugins.forEach((plugin) => this.plugins.add(plugin));\n        this.verifyPlugins(this.plugins);\n        this.getApiHolder();\n        return result;\n      }, [children]);\n      const loadedConfig = useConfigLoader(this.configLoader, this.components, appThemeApi);\n      const hasConfigApi = \"api\" in loadedConfig;\n      if (hasConfigApi) {\n        const {api} = loadedConfig;\n        this.configApi = api;\n      }\n      useEffect(() => {\n        if (hasConfigApi) {\n          const featureFlagsApi = this.getApiHolder().get(featureFlagsApiRef);\n          for (const plugin of this.plugins.values()) {\n            for (const output of plugin.output()) {\n              switch (output.type) {\n                case \"feature-flag\": {\n                  featureFlagsApi.registerFlag({\n                    name: output.name,\n                    pluginId: plugin.getId()\n                  });\n                  break;\n                }\n              }\n            }\n          }\n        }\n      }, [hasConfigApi, loadedConfig]);\n      if (\"node\" in loadedConfig) {\n        return loadedConfig.node;\n      }\n      return /* @__PURE__ */ React.createElement(ApiProvider, {\n        apis: this.getApiHolder()\n      }, /* @__PURE__ */ React.createElement(AppContextProvider, {\n        appContext\n      }, /* @__PURE__ */ React.createElement(AppThemeProvider, null, /* @__PURE__ */ React.createElement(RoutingProvider, {\n        routePaths,\n        routeParents,\n        routeObjects,\n        routeBindings: generateBoundRoutes(this.bindRoutes)\n      }, children))));\n    };\n    return Provider;\n  }\n  getRouter() {\n    const {\n      Router: RouterComponent,\n      SignInPage: SignInPageComponent\n    } = this.components;\n    const SignInPageWrapper = ({\n      component: Component,\n      children\n    }) => {\n      const [result, setResult] = useState();\n      if (result) {\n        this.identityApi.setSignInResult(result);\n        return children;\n      }\n      return /* @__PURE__ */ React.createElement(Component, {\n        onResult: setResult\n      });\n    };\n    const AppRouter = ({children}) => {\n      var _a;\n      const configApi = useApi(configApiRef);\n      let {pathname} = new URL((_a = configApi.getOptionalString(\"app.baseUrl\")) != null ? _a : \"/\", \"http://dummy.dev\");\n      if (pathname.endsWith(\"/\")) {\n        pathname = pathname.replace(/\\/$/, \"\");\n      }\n      if (!SignInPageComponent) {\n        this.identityApi.setSignInResult({\n          userId: \"guest\",\n          profile: {\n            email: \"guest@example.com\",\n            displayName: \"Guest\"\n          }\n        });\n        return /* @__PURE__ */ React.createElement(RouterComponent, null, /* @__PURE__ */ React.createElement(Routes, null, /* @__PURE__ */ React.createElement(Route, {\n          path: `${pathname}/*`,\n          element: /* @__PURE__ */ React.createElement(React.Fragment, null, children)\n        })));\n      }\n      return /* @__PURE__ */ React.createElement(RouterComponent, null, /* @__PURE__ */ React.createElement(SignInPageWrapper, {\n        component: SignInPageComponent\n      }, /* @__PURE__ */ React.createElement(Routes, null, /* @__PURE__ */ React.createElement(Route, {\n        path: `${pathname}/*`,\n        element: /* @__PURE__ */ React.createElement(React.Fragment, null, children)\n      }))));\n    };\n    return AppRouter;\n  }\n  getApiHolder() {\n    if (this.apiHolder) {\n      return this.apiHolder;\n    }\n    const registry = new ApiFactoryRegistry();\n    registry.register(\"static\", {\n      api: appThemeApiRef,\n      deps: {},\n      factory: () => AppThemeSelector.createWithStorage(this.themes)\n    });\n    registry.register(\"static\", {\n      api: configApiRef,\n      deps: {},\n      factory: () => {\n        if (!this.configApi) {\n          throw new Error(\"Tried to access config API before config was loaded\");\n        }\n        return this.configApi;\n      }\n    });\n    registry.register(\"static\", {\n      api: identityApiRef,\n      deps: {},\n      factory: () => this.identityApi\n    });\n    registry.register(\"default\", {\n      api: featureFlagsApiRef,\n      deps: {},\n      factory: () => new LocalStorageFeatureFlags()\n    });\n    for (const factory of this.defaultApis) {\n      registry.register(\"default\", factory);\n    }\n    for (const plugin of this.plugins) {\n      for (const factory of plugin.getApis()) {\n        if (!registry.register(\"default\", factory)) {\n          throw new Error(`Plugin ${plugin.getId()} tried to register duplicate or forbidden API factory for ${factory.api}`);\n        }\n      }\n    }\n    for (const factory of this.apis) {\n      if (!registry.register(\"app\", factory)) {\n        throw new Error(`Duplicate or forbidden API factory for ${factory.api} in app`);\n      }\n    }\n    ApiResolver.validateFactories(registry, registry.getAllApis());\n    this.apiHolder = new ApiResolver(registry);\n    return this.apiHolder;\n  }\n  verify() {\n  }\n  verifyPlugins(plugins) {\n    const pluginIds = new Set();\n    for (const plugin of plugins) {\n      const id = plugin.getId();\n      if (pluginIds.has(id)) {\n        throw new Error(`Duplicate plugin found '${id}'`);\n      }\n      pluginIds.add(id);\n    }\n  }\n}\n\nvar privateExports = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  PrivateAppImpl: PrivateAppImpl\n});\n\nexport default privateExports;\nexport { AlertApiForwarder, ApiFactoryRegistry, ApiProvider, ApiRegistry, ApiResolver, AppThemeSelector, Auth0Auth, BrokenImageIcon, ChatIcon, DashboardIcon, DocsIcon, EmailIcon, ErrorAlerter, ErrorApiForwarder, FeatureFlagState, FlatRoutes, GitHubIcon, GithubAuth, GitlabAuth, GoogleAuth, GroupIcon, HelpIcon, LocalStorageFeatureFlags, MicrosoftAuth, OAuth2, OAuthRequestManager, OktaAuth, OneLoginAuth, SamlAuth, SessionState, UrlPatternDiscovery, UserIcon, WarningIcon, WebStorage, alertApiRef, appThemeApiRef, attachComponentData, auth0AuthApiRef, configApiRef, createApiFactory, createApiRef, createComponentExtension, createExternalRouteRef, createPlugin, createReactExtension, createRoutableExtension, createRouteRef, createSubRouteRef, defaultSystemIcons, discoveryApiRef, errorApiRef, featureFlagsApiRef, getComponentData, githubAuthApiRef, gitlabAuthApiRef, googleAuthApiRef, identityApiRef, microsoftAuthApiRef, oauth2ApiRef, oauthRequestApiRef, oidcAuthApiRef, oktaAuthApiRef, oneloginAuthApiRef, samlAuthApiRef, storageApiRef, useApi, useApiHolder, useApp, useRouteRef, useRouteRefParams };\n//# sourceMappingURL=index.esm.js.map\n","import privateExports__default, { useApi, configApiRef, createApiFactory, discoveryApiRef, UrlPatternDiscovery, alertApiRef, AlertApiForwarder, errorApiRef, ErrorAlerter, ErrorApiForwarder, storageApiRef, WebStorage, oauthRequestApiRef, OAuthRequestManager, googleAuthApiRef, GoogleAuth, microsoftAuthApiRef, MicrosoftAuth, githubAuthApiRef, GithubAuth, oktaAuthApiRef, OktaAuth, gitlabAuthApiRef, GitlabAuth, auth0AuthApiRef, Auth0Auth, oauth2ApiRef, OAuth2, samlAuthApiRef, SamlAuth, oneloginAuthApiRef, OneLoginAuth, oidcAuthApiRef, defaultSystemIcons, HelpIcon, useApp, useApiHolder, attachComponentData } from '@backstage/core-api';\nexport * from '@backstage/core-api';\nimport React, { useState, useEffect, useRef, useCallback, useLayoutEffect, useMemo, Component as Component$3, Children, isValidElement, useContext, Fragment, createContext, forwardRef, useReducer } from 'react';\nimport { useSearchParams, BrowserRouter, useInRouterContext, MemoryRouter, Link as Link$2, NavLink } from 'react-router-dom';\nimport LightIcon from '@material-ui/icons/WbSunny';\nimport DarkIcon from '@material-ui/icons/Brightness2';\nimport { makeStyles, Grid, Typography, Link as Link$1, LinearProgress, Snackbar, IconButton, createStyles, Avatar as Avatar$1, Button as Button$1, Tooltip, useTheme, Accordion, AccordionSummary, AccordionDetails, List, ListItem, ListItemText, Divider, ClickAwayListener, ListItemAvatar, Dialog, DialogTitle, DialogContent, DialogActions, ListItemIcon, withStyles, CardActions, Card, CardHeader, CardContent, SvgIcon, InputBase, FormControl, Select, Chip, MenuItem, Checkbox, Stepper, Step, StepLabel, StepContent, TableCell, Table as Table$1, TableBody, TableRow, Popover, Box as Box$1, Breadcrumbs as Breadcrumbs$1, Tabs as Tabs$1, Tab, CardMedia, ThemeProvider, Badge, TextField, styled, Collapse, FormHelperText, AppBar } from '@material-ui/core';\nimport { makeStyles as makeStyles$1, withStyles as withStyles$1, createStyles as createStyles$1 } from '@material-ui/core/styles';\nimport MicDropSvgUrl from './layout/ErrorPage/mic-drop.svg';\nimport { useNavigate, useParams, useRoutes, matchRoutes } from 'react-router';\nimport { isEqual, transform } from 'lodash';\nimport qs from 'qs';\nimport { useDebounce, useObservable, useLocalStorage, usePrevious, useWindowSize } from 'react-use';\nimport OAuth2Icon from '@material-ui/icons/AcUnit';\nimport { lightTheme, darkTheme } from '@backstage/theme';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { Alert } from '@material-ui/lab';\nimport pluralize from 'pluralize';\nimport SyntaxHighlighter from 'react-syntax-highlighter';\nimport { dark, docco } from 'react-syntax-highlighter/dist/cjs/styles/hljs';\nimport CopyIcon from '@material-ui/icons/FileCopy';\nimport PropTypes from 'prop-types';\nimport { zoom } from 'd3-zoom';\nimport { select } from 'd3-selection';\nimport useTheme$1 from '@material-ui/core/styles/useTheme';\nimport dagre from 'dagre';\nimport debounce from 'lodash/debounce';\nimport makeStyles$2 from '@material-ui/core/styles/makeStyles';\nimport { line, curveMonotoneX } from 'd3-shape';\nimport isFinite from 'lodash/isFinite';\nimport classNames from 'classnames';\nimport Snackbar$1 from '@material-ui/core/Snackbar';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\nimport IconButton$1 from '@material-ui/core/IconButton';\nimport missingAnnotation from './components/EmptyState/assets/missingAnnotation.svg';\nimport noInformation from './components/EmptyState/assets/noInformation.svg';\nimport createComponent from './components/EmptyState/assets/createComponent.svg';\nimport noBuild from './components/EmptyState/assets/noBuild.svg';\nimport ErrorOutline from '@material-ui/icons/ErrorOutline';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { createPortal } from 'react-dom';\nimport LinkIcon from '@material-ui/icons/Link';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport ReactMarkdown from 'react-markdown';\nimport gfm from 'remark-gfm';\nimport TextTruncate from 'react-text-truncate';\nimport ArrowIcon from '@material-ui/icons/ArrowForward';\nimport Box from '@material-ui/core/Box';\nimport { Circle, Line } from 'rc-progress';\nimport startCase from 'lodash/startCase';\nimport { Helmet } from 'react-helmet';\nimport clsx from 'clsx';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { useForm } from 'react-hook-form';\nimport isEmpty from 'lodash/isEmpty';\nimport AddBox from '@material-ui/icons/AddBox';\nimport ArrowUpward from '@material-ui/icons/ArrowUpward';\nimport Check from '@material-ui/icons/Check';\nimport Clear from '@material-ui/icons/Clear';\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\nimport Edit from '@material-ui/icons/Edit';\nimport FilterList from '@material-ui/icons/FilterList';\nimport FirstPage from '@material-ui/icons/FirstPage';\nimport LastPage from '@material-ui/icons/LastPage';\nimport Remove from '@material-ui/icons/Remove';\nimport SaveAlt from '@material-ui/icons/SaveAlt';\nimport ViewColumn from '@material-ui/icons/ViewColumn';\nimport MTable, { MTableHeader, MTableToolbar, MTableBody } from 'material-table';\nimport ExpandLess from '@material-ui/icons/ExpandLess';\nimport produce from 'immer';\nimport NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\nimport { Sparklines, SparklinesLine } from 'react-sparklines';\n\nconst useStyles = makeStyles((theme) => ({\n  micDrop: {\n    maxWidth: \"60%\",\n    position: \"absolute\",\n    bottom: theme.spacing(2),\n    right: theme.spacing(2),\n    [theme.breakpoints.down(\"xs\")]: {\n      maxWidth: \"96%\",\n      position: \"relative\",\n      bottom: \"unset\",\n      right: \"unset\",\n      margin: `${theme.spacing(10)}px auto ${theme.spacing(4)}px`\n    }\n  }\n}));\nconst MicDrop = () => {\n  const classes = useStyles();\n  return /* @__PURE__ */ React.createElement(\"img\", {\n    src: MicDropSvgUrl,\n    className: classes.micDrop,\n    alt: \"Girl dropping mic from her hands\"\n  });\n};\n\nfunction stringify(queryParams) {\n  return qs.stringify(queryParams, {\n    strictNullHandling: true\n  });\n}\nfunction parse(queryString) {\n  return qs.parse(queryString, {\n    ignoreQueryPrefix: true,\n    strictNullHandling: true\n  });\n}\nfunction extractState(queryString, stateName) {\n  const queryParams = parse(queryString);\n  return queryParams[stateName];\n}\nfunction joinQueryString(queryString, stateName, state) {\n  const queryParams = {\n    ...parse(queryString),\n    [stateName]: state\n  };\n  return stringify(queryParams);\n}\nfunction useQueryParamState(stateName, debounceTime = 250) {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const searchParamsString = searchParams.toString();\n  const [queryParamState, setQueryParamState] = useState(extractState(searchParamsString, stateName));\n  useEffect(() => {\n    const newState = extractState(searchParamsString, stateName);\n    setQueryParamState((oldState) => isEqual(newState, oldState) ? oldState : newState);\n  }, [searchParamsString, setQueryParamState, stateName]);\n  useDebounce(() => {\n    const queryString = joinQueryString(searchParamsString, stateName, queryParamState);\n    if (searchParamsString !== queryString) {\n      setSearchParams(queryString, {replace: true});\n    }\n  }, debounceTime, [setSearchParams, queryParamState, searchParamsString, stateName]);\n  return [queryParamState, setQueryParamState];\n}\n\nconst DEFAULT_SUPPORT_CONFIG = {\n  url: \"https://github.com/backstage/backstage/issues\",\n  items: [\n    {\n      title: \"Support Not Configured\",\n      icon: \"warning\",\n      links: [\n        {\n          title: \"Add `app.support` config key\",\n          url: \"https://github.com/andrewthauer/backstage/blob/master/app-config.yaml\"\n        }\n      ]\n    }\n  ]\n};\nfunction useSupportConfig() {\n  const config = useApi(configApiRef);\n  const supportConfig = config.getOptionalConfig(\"app.support\");\n  if (!supportConfig) {\n    return DEFAULT_SUPPORT_CONFIG;\n  }\n  return {\n    url: supportConfig.getString(\"url\"),\n    items: supportConfig.getConfigArray(\"items\").flatMap((itemConf) => {\n      var _a;\n      return {\n        title: itemConf.getString(\"title\"),\n        icon: itemConf.getOptionalString(\"icon\"),\n        links: ((_a = itemConf.getOptionalConfigArray(\"links\")) != null ? _a : []).flatMap((linkConf) => ({\n          url: linkConf.getString(\"url\"),\n          title: linkConf.getString(\"title\")\n        }))\n      };\n    })\n  };\n}\n\nconst useStyles$1 = makeStyles$1((theme) => ({\n  container: {\n    padding: theme.spacing(8),\n    [theme.breakpoints.down(\"xs\")]: {\n      padding: theme.spacing(2)\n    }\n  },\n  title: {\n    paddingBottom: theme.spacing(5),\n    [theme.breakpoints.down(\"xs\")]: {\n      paddingBottom: theme.spacing(4),\n      fontSize: 32\n    }\n  },\n  subtitle: {\n    color: theme.palette.textSubtle\n  }\n}));\nconst ErrorPage = ({\n  status,\n  statusMessage,\n  additionalInfo\n}) => {\n  const classes = useStyles$1();\n  const navigate = useNavigate();\n  const support = useSupportConfig();\n  return /* @__PURE__ */ React.createElement(Grid, {\n    container: true,\n    spacing: 0,\n    className: classes.container\n  }, /* @__PURE__ */ React.createElement(MicDrop, null), /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 8,\n    md: 4\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"body1\",\n    className: classes.subtitle\n  }, \"ERROR \", status, \": \", statusMessage), /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"body1\",\n    className: classes.subtitle\n  }, additionalInfo), /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"h2\",\n    className: classes.title\n  }, \"Looks like someone dropped the mic!\"), /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"h6\"\n  }, /* @__PURE__ */ React.createElement(Link$1, {\n    \"data-testid\": \"go-back-link\",\n    onClick: () => navigate(-1)\n  }, \"Go back\"), \"... or please\", \" \", /* @__PURE__ */ React.createElement(Link$1, {\n    href: support.url,\n    rel: \"noopener noreferrer\"\n  }, \"contact support\"), \" \", \"if you think this is a bug.\")));\n};\n\nconst Progress = (props) => {\n  const [isVisible, setIsVisible] = useState(false);\n  useEffect(() => {\n    const handle = setTimeout(() => setIsVisible(true), 250);\n    return () => clearTimeout(handle);\n  }, []);\n  return isVisible ? /* @__PURE__ */ React.createElement(LinearProgress, {\n    ...props,\n    \"data-testid\": \"progress\"\n  }) : /* @__PURE__ */ React.createElement(\"div\", {\n    style: {display: \"none\"}\n  });\n};\n\nconst defaultApis = [\n  createApiFactory({\n    api: discoveryApiRef,\n    deps: {configApi: configApiRef},\n    factory: ({configApi}) => UrlPatternDiscovery.compile(`${configApi.getString(\"backend.baseUrl\")}/api/{{ pluginId }}`)\n  }),\n  createApiFactory(alertApiRef, new AlertApiForwarder()),\n  createApiFactory({\n    api: errorApiRef,\n    deps: {alertApi: alertApiRef},\n    factory: ({alertApi}) => new ErrorAlerter(alertApi, new ErrorApiForwarder())\n  }),\n  createApiFactory({\n    api: storageApiRef,\n    deps: {errorApi: errorApiRef},\n    factory: ({errorApi}) => WebStorage.create({errorApi})\n  }),\n  createApiFactory(oauthRequestApiRef, new OAuthRequestManager()),\n  createApiFactory({\n    api: googleAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({discoveryApi, oauthRequestApi, configApi}) => GoogleAuth.create({\n      discoveryApi,\n      oauthRequestApi,\n      environment: configApi.getOptionalString(\"auth.environment\")\n    })\n  }),\n  createApiFactory({\n    api: microsoftAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({discoveryApi, oauthRequestApi, configApi}) => MicrosoftAuth.create({\n      discoveryApi,\n      oauthRequestApi,\n      environment: configApi.getOptionalString(\"auth.environment\")\n    })\n  }),\n  createApiFactory({\n    api: githubAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({discoveryApi, oauthRequestApi, configApi}) => GithubAuth.create({\n      discoveryApi,\n      oauthRequestApi,\n      defaultScopes: [\"read:user\"],\n      environment: configApi.getOptionalString(\"auth.environment\")\n    })\n  }),\n  createApiFactory({\n    api: oktaAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({discoveryApi, oauthRequestApi, configApi}) => OktaAuth.create({\n      discoveryApi,\n      oauthRequestApi,\n      environment: configApi.getOptionalString(\"auth.environment\")\n    })\n  }),\n  createApiFactory({\n    api: gitlabAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({discoveryApi, oauthRequestApi, configApi}) => GitlabAuth.create({\n      discoveryApi,\n      oauthRequestApi,\n      environment: configApi.getOptionalString(\"auth.environment\")\n    })\n  }),\n  createApiFactory({\n    api: auth0AuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({discoveryApi, oauthRequestApi, configApi}) => Auth0Auth.create({\n      discoveryApi,\n      oauthRequestApi,\n      environment: configApi.getOptionalString(\"auth.environment\")\n    })\n  }),\n  createApiFactory({\n    api: oauth2ApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({discoveryApi, oauthRequestApi, configApi}) => OAuth2.create({\n      discoveryApi,\n      oauthRequestApi,\n      environment: configApi.getOptionalString(\"auth.environment\")\n    })\n  }),\n  createApiFactory({\n    api: samlAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      configApi: configApiRef\n    },\n    factory: ({discoveryApi, configApi}) => SamlAuth.create({\n      discoveryApi,\n      environment: configApi.getOptionalString(\"auth.environment\")\n    })\n  }),\n  createApiFactory({\n    api: oneloginAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({discoveryApi, oauthRequestApi, configApi}) => OneLoginAuth.create({\n      discoveryApi,\n      oauthRequestApi,\n      environment: configApi.getOptionalString(\"auth.environment\")\n    })\n  }),\n  createApiFactory({\n    api: oidcAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({discoveryApi, oauthRequestApi, configApi}) => OAuth2.create({\n      discoveryApi,\n      oauthRequestApi,\n      provider: {\n        id: \"oidc\",\n        title: \"Your Identity Provider\",\n        icon: OAuth2Icon\n      },\n      environment: configApi.getOptionalString(\"auth.environment\")\n    })\n  })\n];\n\nconst {PrivateAppImpl} = privateExports__default;\nconst defaultConfigLoader = async (runtimeConfigJson = \"__APP_INJECTED_RUNTIME_CONFIG__\") => {\n  const appConfig = process.env.APP_CONFIG;\n  if (!appConfig) {\n    throw new Error(\"No static configuration provided\");\n  }\n  if (!Array.isArray(appConfig)) {\n    throw new Error(\"Static configuration has invalid format\");\n  }\n  const configs = appConfig.slice();\n  if (runtimeConfigJson !== \"__app_injected_runtime_config__\".toLocaleUpperCase(\"en-US\")) {\n    try {\n      const data = JSON.parse(runtimeConfigJson);\n      if (Array.isArray(data)) {\n        configs.push(...data);\n      } else {\n        configs.push({data, context: \"env\"});\n      }\n    } catch (error) {\n      throw new Error(`Failed to load runtime configuration, ${error}`);\n    }\n  }\n  const windowAppConfig = window.__APP_CONFIG__;\n  if (windowAppConfig) {\n    configs.push({\n      context: \"window\",\n      data: windowAppConfig\n    });\n  }\n  return configs;\n};\nfunction OptionallyWrapInRouter({children}) {\n  if (useInRouterContext()) {\n    return /* @__PURE__ */ React.createElement(React.Fragment, null, children);\n  }\n  return /* @__PURE__ */ React.createElement(MemoryRouter, null, children);\n}\nfunction createApp(options) {\n  var _a, _b, _c, _d;\n  const DefaultNotFoundPage = () => /* @__PURE__ */ React.createElement(ErrorPage, {\n    status: \"404\",\n    statusMessage: \"PAGE NOT FOUND\"\n  });\n  const DefaultBootErrorPage = ({step, error}) => {\n    let message = \"\";\n    if (step === \"load-config\") {\n      message = `The configuration failed to load, someone should have a look at this error: ${error.message}`;\n    } else if (step === \"load-chunk\") {\n      message = `Lazy loaded chunk failed to load, try to reload the page: ${error.message}`;\n    }\n    return /* @__PURE__ */ React.createElement(OptionallyWrapInRouter, null, /* @__PURE__ */ React.createElement(ErrorPage, {\n      status: \"501\",\n      statusMessage: message\n    }));\n  };\n  const apis = (_a = options == null ? void 0 : options.apis) != null ? _a : [];\n  const icons = {...defaultSystemIcons, ...options == null ? void 0 : options.icons};\n  const plugins = (_b = options == null ? void 0 : options.plugins) != null ? _b : [];\n  const components = {\n    NotFoundErrorPage: DefaultNotFoundPage,\n    BootErrorPage: DefaultBootErrorPage,\n    Progress,\n    Router: BrowserRouter,\n    ...options == null ? void 0 : options.components\n  };\n  const themes = (_c = options == null ? void 0 : options.themes) != null ? _c : [\n    {\n      id: \"light\",\n      title: \"Light Theme\",\n      variant: \"light\",\n      theme: lightTheme,\n      icon: /* @__PURE__ */ React.createElement(LightIcon, null)\n    },\n    {\n      id: \"dark\",\n      title: \"Dark Theme\",\n      variant: \"dark\",\n      theme: darkTheme,\n      icon: /* @__PURE__ */ React.createElement(DarkIcon, null)\n    }\n  ];\n  const configLoader = (_d = options == null ? void 0 : options.configLoader) != null ? _d : defaultConfigLoader;\n  const app = new PrivateAppImpl({\n    apis,\n    icons,\n    plugins,\n    components,\n    themes,\n    configLoader,\n    defaultApis,\n    bindRoutes: options == null ? void 0 : options.bindRoutes\n  });\n  app.verify();\n  return app;\n}\n\nconst AlertDisplay = () => {\n  const [messages, setMessages] = useState([]);\n  const alertApi = useApi(alertApiRef);\n  useEffect(() => {\n    const subscription = alertApi.alert$().subscribe((message) => setMessages((msgs) => msgs.concat(message)));\n    return () => {\n      subscription.unsubscribe();\n    };\n  }, [alertApi]);\n  if (messages.length === 0) {\n    return null;\n  }\n  const [firstMessage] = messages;\n  const handleClose = () => {\n    setMessages((msgs) => msgs.filter((msg) => msg !== firstMessage));\n  };\n  return /* @__PURE__ */ React.createElement(Snackbar, {\n    open: true,\n    anchorOrigin: {vertical: \"top\", horizontal: \"center\"}\n  }, /* @__PURE__ */ React.createElement(Alert, {\n    action: /* @__PURE__ */ React.createElement(IconButton, {\n      color: \"inherit\",\n      size: \"small\",\n      onClick: handleClose,\n      \"data-testid\": \"error-button-close\"\n    }, /* @__PURE__ */ React.createElement(CloseIcon, null)),\n    severity: firstMessage.severity\n  }, /* @__PURE__ */ React.createElement(\"span\", null, firstMessage.message.toString(), messages.length > 1 && /* @__PURE__ */ React.createElement(\"em\", null, ` (${messages.length - 1} older ${pluralize(\"message\", messages.length - 1)})`))));\n};\n\nfunction stringToColor(str) {\n  let hash = 0;\n  for (let i = 0; i < str.length; i++) {\n    hash = str.charCodeAt(i) + ((hash << 5) - hash);\n  }\n  let color = \"#\";\n  for (let i = 0; i < 3; i++) {\n    const value = hash >> i * 8 & 255;\n    color += `00${value.toString(16)}`.substr(-2);\n  }\n  return color;\n}\nfunction extractInitials(value) {\n  return value.match(/\\b\\w/g).join(\"\").substring(0, 2);\n}\n\nconst useStyles$2 = makeStyles((theme) => createStyles({\n  avatar: {\n    width: \"4rem\",\n    height: \"4rem\",\n    color: \"#fff\",\n    fontWeight: theme.typography.fontWeightBold,\n    letterSpacing: \"1px\",\n    textTransform: \"uppercase\"\n  }\n}));\nconst Avatar = ({displayName, picture, customStyles}) => {\n  const classes = useStyles$2();\n  return /* @__PURE__ */ React.createElement(Avatar$1, {\n    alt: displayName,\n    src: picture,\n    className: classes.avatar,\n    style: {\n      backgroundColor: stringToColor(displayName || picture || \"\"),\n      ...customStyles\n    }\n  }, displayName && extractInitials(displayName));\n};\n\nconst Button = React.forwardRef((props, ref) => /* @__PURE__ */ React.createElement(Button$1, {\n  ref,\n  component: Link$2,\n  ...props\n}));\n\nconst defaultProps = {\n  tooltipDelay: 1e3,\n  tooltipText: \"Text copied to clipboard\"\n};\nconst CopyTextButton = (props) => {\n  const {text, tooltipDelay, tooltipText} = {\n    ...defaultProps,\n    ...props\n  };\n  const errorApi = useApi(errorApiRef);\n  const inputRef = useRef(null);\n  const [open, setOpen] = useState(false);\n  const handleCopyClick = (e) => {\n    e.stopPropagation();\n    setOpen(true);\n    try {\n      if (inputRef.current) {\n        inputRef.current.select();\n        document.execCommand(\"copy\");\n      }\n    } catch (error) {\n      errorApi.post(error);\n    }\n  };\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\"textarea\", {\n    ref: inputRef,\n    style: {position: \"absolute\", top: -9999, left: -9999},\n    defaultValue: text\n  }), /* @__PURE__ */ React.createElement(Tooltip, {\n    id: \"copy-test-tooltip\",\n    title: tooltipText,\n    placement: \"top\",\n    leaveDelay: tooltipDelay,\n    onClose: () => setOpen(false),\n    open\n  }, /* @__PURE__ */ React.createElement(IconButton, {\n    onClick: handleCopyClick\n  }, /* @__PURE__ */ React.createElement(CopyIcon, null))));\n};\nCopyTextButton.propTypes = {\n  text: PropTypes.string.isRequired,\n  tooltipDelay: PropTypes.number,\n  tooltipText: PropTypes.string\n};\n\nconst CodeSnippet = ({\n  text,\n  language,\n  showLineNumbers = false,\n  showCopyCodeButton = false,\n  highlightedNumbers,\n  customStyle\n}) => {\n  const theme = useTheme();\n  const mode = theme.palette.type === \"dark\" ? dark : docco;\n  const highlightColor = theme.palette.type === \"dark\" ? \"#256bf3\" : \"#e6ffed\";\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    style: {position: \"relative\"}\n  }, /* @__PURE__ */ React.createElement(SyntaxHighlighter, {\n    customStyle,\n    language,\n    style: mode,\n    showLineNumbers,\n    wrapLines: true,\n    lineNumberStyle: {color: theme.palette.textVerySubtle},\n    lineProps: (lineNumber) => (highlightedNumbers == null ? void 0 : highlightedNumbers.includes(lineNumber)) ? {\n      style: {\n        backgroundColor: highlightColor\n      }\n    } : {}\n  }, text), showCopyCodeButton && /* @__PURE__ */ React.createElement(\"div\", {\n    style: {position: \"absolute\", top: 0, right: 0}\n  }, /* @__PURE__ */ React.createElement(CopyTextButton, {\n    text\n  })));\n};\n\nvar Direction;\n(function(Direction2) {\n  Direction2[\"TOP_BOTTOM\"] = \"TB\";\n  Direction2[\"BOTTOM_TOP\"] = \"BT\";\n  Direction2[\"LEFT_RIGHT\"] = \"LR\";\n  Direction2[\"RIGHT_LEFT\"] = \"RL\";\n})(Direction || (Direction = {}));\nvar Alignment;\n(function(Alignment2) {\n  Alignment2[\"UP_LEFT\"] = \"UL\";\n  Alignment2[\"UP_RIGHT\"] = \"UR\";\n  Alignment2[\"DOWN_LEFT\"] = \"DL\";\n  Alignment2[\"DOWN_RIGHT\"] = \"DR\";\n})(Alignment || (Alignment = {}));\nvar Ranker;\n(function(Ranker2) {\n  Ranker2[\"NETWORK_SIMPLEX\"] = \"network-simplex\";\n  Ranker2[\"TIGHT_TREE\"] = \"tight-tree\";\n  Ranker2[\"LONGEST_PATH\"] = \"longest-path\";\n})(Ranker || (Ranker = {}));\nvar LabelPosition;\n(function(LabelPosition2) {\n  LabelPosition2[\"LEFT\"] = \"l\";\n  LabelPosition2[\"RIGHT\"] = \"r\";\n  LabelPosition2[\"CENTER\"] = \"c\";\n})(LabelPosition || (LabelPosition = {}));\n\nvar types = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  get Direction () { return Direction; },\n  get Alignment () { return Alignment; },\n  get Ranker () { return Ranker; },\n  get LabelPosition () { return LabelPosition; }\n});\n\nconst useStyles$3 = makeStyles$1((theme) => ({\n  node: {\n    fill: theme.palette.background.paper,\n    stroke: theme.palette.border\n  },\n  text: {\n    fill: theme.palette.textContrast\n  }\n}));\nfunction DefaultNode({node: {id}}) {\n  const classes = useStyles$3();\n  const [width, setWidth] = React.useState(0);\n  const [height, setHeight] = React.useState(0);\n  const idRef = React.useRef(null);\n  React.useLayoutEffect(() => {\n    if (idRef.current) {\n      let {\n        height: renderedHeight,\n        width: renderedWidth\n      } = idRef.current.getBBox();\n      renderedHeight = Math.round(renderedHeight);\n      renderedWidth = Math.round(renderedWidth);\n      if (renderedHeight !== height || renderedWidth !== width) {\n        setWidth(renderedWidth);\n        setHeight(renderedHeight);\n      }\n    }\n  }, [width, height]);\n  const padding = 10;\n  const paddedWidth = width + padding * 2;\n  const paddedHeight = height + padding * 2;\n  return /* @__PURE__ */ React.createElement(\"g\", null, /* @__PURE__ */ React.createElement(\"rect\", {\n    className: classes.node,\n    width: paddedWidth,\n    height: paddedHeight,\n    rx: 10\n  }), /* @__PURE__ */ React.createElement(\"text\", {\n    ref: idRef,\n    className: classes.text,\n    y: paddedHeight / 2,\n    x: paddedWidth / 2,\n    textAnchor: \"middle\",\n    alignmentBaseline: \"middle\"\n  }, id));\n}\n\nconst ARROW_MARKER_ID = \"arrow-marker\";\nconst NODE_TEST_ID = \"node\";\nconst EDGE_TEST_ID = \"edge\";\nconst LABEL_TEST_ID = \"label\";\n\nconst useStyles$4 = makeStyles$2((theme) => ({\n  node: {\n    transition: `${theme.transitions.duration.shortest}ms`\n  }\n}));\nconst renderDefault = (props) => /* @__PURE__ */ React.createElement(DefaultNode, {\n  ...props\n});\nfunction Node({\n  render = renderDefault,\n  setNode,\n  node\n}) {\n  const {width, height, x = 0, y = 0, ...nodeProps} = node;\n  const classes = useStyles$4();\n  const nodeRef = React.useRef(null);\n  React.useLayoutEffect(() => {\n    if (nodeRef.current) {\n      let {\n        height: renderedHeight,\n        width: renderedWidth\n      } = nodeRef.current.getBBox();\n      renderedHeight = Math.round(renderedHeight);\n      renderedWidth = Math.round(renderedWidth);\n      if (renderedHeight !== height || renderedWidth !== width) {\n        setNode(node.id, {\n          ...node,\n          height: renderedHeight,\n          width: renderedWidth\n        });\n      }\n    }\n  }, [node, width, height, setNode]);\n  return /* @__PURE__ */ React.createElement(\"g\", {\n    ref: nodeRef,\n    \"data-testid\": NODE_TEST_ID,\n    className: classes.node,\n    transform: `translate(${x - width / 2},${y - height / 2})`\n  }, render({node: nodeProps}));\n}\n\nconst useStyles$5 = makeStyles$2((theme) => ({\n  text: {\n    fill: theme.palette.textContrast\n  }\n}));\nfunction DefaultLabel({edge: {label}}) {\n  const classes = useStyles$5();\n  return /* @__PURE__ */ React.createElement(\"text\", {\n    className: classes.text,\n    textAnchor: \"middle\"\n  }, label);\n}\n\nconst useStyles$6 = makeStyles$2((theme) => ({\n  path: {\n    strokeWidth: 2,\n    stroke: theme.palette.textSubtle,\n    fill: \"none\",\n    transition: `${theme.transitions.duration.shortest}ms`\n  },\n  label: {\n    transition: `${theme.transitions.duration.shortest}ms`\n  }\n}));\nconst renderDefault$1 = (props) => /* @__PURE__ */ React.createElement(DefaultLabel, {\n  ...props\n});\nconst createPath = line().x((d) => d.x).y((d) => d.y).curve(curveMonotoneX);\nfunction Edge({\n  render = renderDefault$1,\n  setEdge,\n  id,\n  edge\n}) {\n  const {x = 0, y = 0, width, height, points, ...labelProps} = edge;\n  const classes = useStyles$6();\n  const labelRef = React.useRef(null);\n  React.useLayoutEffect(() => {\n    if (labelRef.current) {\n      let {\n        height: renderedHeight,\n        width: renderedWidth\n      } = labelRef.current.getBBox();\n      renderedHeight = Math.round(renderedHeight);\n      renderedWidth = Math.round(renderedWidth);\n      if (renderedHeight !== height || renderedWidth !== width) {\n        setEdge(id, {\n          ...edge,\n          height: renderedHeight,\n          width: renderedWidth\n        });\n      }\n    }\n  }, [edge, height, width, setEdge, id]);\n  let path = \"\";\n  if (points) {\n    const finitePoints = points.filter((point) => isFinite(point.x) && isFinite(point.y));\n    path = createPath(finitePoints) || \"\";\n  }\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, path && /* @__PURE__ */ React.createElement(\"path\", {\n    \"data-testid\": EDGE_TEST_ID,\n    className: classes.path,\n    markerEnd: `url(#${ARROW_MARKER_ID})`,\n    d: path\n  }), labelProps.label ? /* @__PURE__ */ React.createElement(\"g\", {\n    ref: labelRef,\n    \"data-testid\": LABEL_TEST_ID,\n    className: classes.label,\n    transform: `translate(${x},${y})`\n  }, render({edge: labelProps})) : null);\n}\n\nconst WORKSPACE_ID = \"workspace\";\nfunction DependencyGraph({\n  edges,\n  nodes,\n  renderNode,\n  direction = Direction.TOP_BOTTOM,\n  align,\n  nodeMargin = 50,\n  edgeMargin = 10,\n  rankMargin = 50,\n  paddingX = 0,\n  paddingY = 0,\n  acyclicer,\n  ranker = Ranker.NETWORK_SIMPLEX,\n  labelPosition = LabelPosition.RIGHT,\n  labelOffset = 10,\n  edgeRanks = 1,\n  edgeWeight = 1,\n  renderLabel,\n  defs,\n  ...svgProps\n}) {\n  var _a, _b;\n  const theme = useTheme$1();\n  const [containerWidth, setContainerWidth] = React.useState(100);\n  const [containerHeight, setContainerHeight] = React.useState(100);\n  const graph = React.useRef(new dagre.graphlib.Graph());\n  const [graphWidth, setGraphWidth] = React.useState(((_a = graph.current.graph()) == null ? void 0 : _a.width) || 0);\n  const [graphHeight, setGraphHeight] = React.useState(((_b = graph.current.graph()) == null ? void 0 : _b.height) || 0);\n  const [graphNodes, setGraphNodes] = React.useState([]);\n  const [graphEdges, setGraphEdges] = React.useState([]);\n  const maxWidth = Math.max(graphWidth, containerWidth);\n  const maxHeight = Math.max(graphHeight, containerHeight);\n  const containerRef = React.useMemo(() => debounce((node) => {\n    if (!node) {\n      return;\n    }\n    const container = select(node);\n    const workspace = select(node.getElementById(WORKSPACE_ID));\n    const zoom$1 = zoom().scaleExtent([1, 10]).on(\"zoom\", (event) => {\n      event.transform.x = Math.min(0, Math.max(event.transform.x, maxWidth - maxWidth * event.transform.k));\n      event.transform.y = Math.min(0, Math.max(event.transform.y, maxHeight - maxHeight * event.transform.k));\n      workspace.attr(\"transform\", event.transform);\n    });\n    container.call(zoom$1);\n    const {\n      width: newContainerWidth,\n      height: newContainerHeight\n    } = node.getBoundingClientRect();\n    if (containerWidth !== newContainerWidth) {\n      setContainerWidth(newContainerWidth);\n    }\n    if (containerHeight !== newContainerHeight) {\n      setContainerHeight(newContainerHeight);\n    }\n  }, 100), [containerHeight, containerWidth, maxWidth, maxHeight]);\n  const setNodesAndEdges = React.useCallback(() => {\n    const currentGraphNodes = graph.current.nodes();\n    const currentGraphEdges = graph.current.edges();\n    currentGraphNodes.forEach((nodeId) => {\n      const remainingNode = nodes.some((node) => node.id === nodeId);\n      if (!remainingNode) {\n        graph.current.removeNode(nodeId);\n      }\n    });\n    currentGraphEdges.forEach((e) => {\n      const remainingEdge = edges.some((edge) => edge.from === e.v && edge.to === e.w);\n      if (!remainingEdge) {\n        graph.current.removeEdge(e.v, e.w);\n      }\n    });\n    nodes.forEach((node) => {\n      const existingNode = graph.current.nodes().find((nodeId) => node.id === nodeId);\n      if (existingNode) {\n        const {width, height, x, y} = graph.current.node(existingNode);\n        graph.current.setNode(existingNode, {...node, width, height, x, y});\n      } else {\n        graph.current.setNode(node.id, {...node, width: 0, height: 0});\n      }\n    });\n    edges.forEach((e) => {\n      graph.current.setEdge(e.from, e.to, {\n        ...e,\n        label: e.label,\n        width: 0,\n        height: 0,\n        labelpos: labelPosition,\n        labeloffset: labelOffset,\n        weight: edgeWeight,\n        minlen: edgeRanks\n      });\n    });\n  }, [edges, nodes, labelPosition, labelOffset, edgeWeight, edgeRanks]);\n  const updateGraph = React.useMemo(() => debounce(() => {\n    dagre.layout(graph.current);\n    const {height, width} = graph.current.graph();\n    const newHeight = Math.max(0, height || 0);\n    const newWidth = Math.max(0, width || 0);\n    setGraphWidth(newWidth);\n    setGraphHeight(newHeight);\n    setGraphNodes(graph.current.nodes());\n    setGraphEdges(graph.current.edges());\n  }, 250, {leading: true}), []);\n  React.useEffect(() => {\n    graph.current.setGraph({\n      rankdir: direction,\n      align,\n      nodesep: nodeMargin,\n      edgesep: edgeMargin,\n      ranksep: rankMargin,\n      marginx: paddingX,\n      marginy: paddingY,\n      acyclicer,\n      ranker\n    });\n    setNodesAndEdges();\n    updateGraph();\n    return updateGraph.cancel;\n  }, [\n    acyclicer,\n    align,\n    direction,\n    edgeMargin,\n    paddingX,\n    paddingY,\n    nodeMargin,\n    rankMargin,\n    ranker,\n    setNodesAndEdges,\n    updateGraph\n  ]);\n  function setNode(id, node) {\n    graph.current.setNode(id, node);\n    updateGraph();\n    return graph.current;\n  }\n  function setEdge(id, edge) {\n    graph.current.setEdge(id, edge);\n    updateGraph();\n    return graph.current;\n  }\n  return /* @__PURE__ */ React.createElement(\"svg\", {\n    ref: containerRef,\n    ...svgProps,\n    width: maxWidth,\n    height: maxHeight,\n    viewBox: `0 0 ${maxWidth} ${maxHeight}`\n  }, /* @__PURE__ */ React.createElement(\"defs\", null, /* @__PURE__ */ React.createElement(\"marker\", {\n    id: ARROW_MARKER_ID,\n    viewBox: \"0 0 24 24\",\n    markerWidth: \"14\",\n    markerHeight: \"14\",\n    refX: \"16\",\n    refY: \"12\",\n    orient: \"auto\",\n    markerUnits: \"strokeWidth\"\n  }, /* @__PURE__ */ React.createElement(\"path\", {\n    fill: theme.palette.textSubtle,\n    d: \"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z\"\n  })), defs), /* @__PURE__ */ React.createElement(\"g\", {\n    id: WORKSPACE_ID\n  }, /* @__PURE__ */ React.createElement(\"svg\", {\n    width: graphWidth,\n    height: graphHeight,\n    y: maxHeight / 2 - graphHeight / 2,\n    x: maxWidth / 2 - graphWidth / 2,\n    viewBox: `0 0 ${graphWidth} ${graphHeight}`\n  }, graphEdges.map((e) => {\n    const edge = graph.current.edge(e);\n    if (!edge)\n      return null;\n    return /* @__PURE__ */ React.createElement(Edge, {\n      key: `${e.v}-${e.w}`,\n      id: e,\n      setEdge,\n      render: renderLabel,\n      edge\n    });\n  }), graphNodes.map((id) => {\n    const node = graph.current.node(id);\n    if (!node)\n      return null;\n    return /* @__PURE__ */ React.createElement(Node, {\n      key: id,\n      setNode,\n      render: renderNode,\n      node\n    });\n  }))));\n}\n\nconst useStyles$7 = makeStyles((theme) => ({\n  root: {\n    padding: theme.spacing(0),\n    marginBottom: theme.spacing(0),\n    marginTop: theme.spacing(0),\n    display: \"flex\",\n    flexFlow: \"row nowrap\"\n  },\n  topPosition: {\n    position: \"relative\",\n    marginBottom: theme.spacing(6),\n    marginTop: -theme.spacing(3),\n    zIndex: \"unset\"\n  },\n  icon: {\n    fontSize: 20\n  },\n  content: {\n    width: \"100%\",\n    maxWidth: \"inherit\"\n  },\n  message: {\n    display: \"flex\",\n    alignItems: \"center\",\n    color: theme.palette.banner.text,\n    \"& a\": {\n      color: theme.palette.banner.link\n    }\n  },\n  info: {\n    backgroundColor: theme.palette.banner.info\n  },\n  error: {\n    backgroundColor: theme.palette.banner.error\n  }\n}));\nconst DismissableBanner = ({\n  variant,\n  message,\n  id,\n  fixed = false\n}) => {\n  var _a;\n  const classes = useStyles$7();\n  const storageApi = useApi(storageApiRef);\n  const notificationsStore = storageApi.forBucket(\"notifications\");\n  const rawDismissedBanners = (_a = notificationsStore.get(\"dismissedBanners\")) != null ? _a : [];\n  const [dismissedBanners, setDismissedBanners] = useState(new Set(rawDismissedBanners));\n  const observedItems = useObservable(notificationsStore.observe$(\"dismissedBanners\"));\n  useEffect(() => {\n    var _a2;\n    if (observedItems == null ? void 0 : observedItems.newValue) {\n      const currentValue = (_a2 = observedItems == null ? void 0 : observedItems.newValue) != null ? _a2 : [];\n      setDismissedBanners(new Set(currentValue));\n    }\n  }, [observedItems == null ? void 0 : observedItems.newValue]);\n  const handleClick = () => {\n    notificationsStore.set(\"dismissedBanners\", [...dismissedBanners, id]);\n  };\n  return /* @__PURE__ */ React.createElement(Snackbar$1, {\n    anchorOrigin: fixed ? {vertical: \"bottom\", horizontal: \"center\"} : {vertical: \"top\", horizontal: \"center\"},\n    open: !dismissedBanners.has(id),\n    classes: {\n      root: classNames(classes.root, !fixed && classes.topPosition)\n    }\n  }, /* @__PURE__ */ React.createElement(SnackbarContent, {\n    classes: {\n      root: classNames(classes.content, classes[variant]),\n      message: classes.message\n    },\n    message,\n    action: [\n      /* @__PURE__ */ React.createElement(IconButton$1, {\n        key: \"dismiss\",\n        title: \"Permanently dismiss this message\",\n        color: \"inherit\",\n        onClick: handleClick\n      }, /* @__PURE__ */ React.createElement(CloseIcon, {\n        className: classes.icon\n      }))\n    ]\n  }));\n};\n\nconst useStyles$8 = makeStyles({\n  generalImg: {\n    width: \"95%\",\n    zIndex: 2,\n    position: \"absolute\",\n    left: \"50%\",\n    top: \"50%\",\n    transform: \"translate(-50%, 15%)\"\n  }\n});\nconst EmptyStateImage = ({missing}) => {\n  const classes = useStyles$8();\n  switch (missing) {\n    case \"field\":\n      return /* @__PURE__ */ React.createElement(\"img\", {\n        src: missingAnnotation,\n        className: classes.generalImg,\n        alt: \"annotation is missing\"\n      });\n    case \"info\":\n      return /* @__PURE__ */ React.createElement(\"img\", {\n        src: noInformation,\n        alt: \"no Information\",\n        className: classes.generalImg\n      });\n    case \"content\":\n      return /* @__PURE__ */ React.createElement(\"img\", {\n        src: createComponent,\n        alt: \"create Component\",\n        className: classes.generalImg\n      });\n    case \"data\":\n      return /* @__PURE__ */ React.createElement(\"img\", {\n        src: noBuild,\n        alt: \"no Build\",\n        className: classes.generalImg\n      });\n    default:\n      return null;\n  }\n};\n\nconst useStyles$9 = makeStyles((theme) => ({\n  root: {\n    backgroundColor: theme.palette.background.default,\n    padding: theme.spacing(2, 0, 0, 0)\n  },\n  action: {\n    marginTop: theme.spacing(2)\n  },\n  imageContainer: {\n    position: \"relative\"\n  }\n}));\nconst EmptyState = ({title, description, missing, action}) => {\n  const classes = useStyles$9();\n  return /* @__PURE__ */ React.createElement(Grid, {\n    container: true,\n    direction: \"row\",\n    justify: \"space-around\",\n    alignItems: \"flex-start\",\n    className: classes.root,\n    spacing: 2\n  }, /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    container: true,\n    direction: \"column\",\n    xs: 12,\n    md: 6\n  }, /* @__PURE__ */ React.createElement(Grid, {\n    item: true\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"h5\"\n  }, title)), /* @__PURE__ */ React.createElement(Grid, {\n    item: true\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"body1\"\n  }, description)), /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    className: classes.action\n  }, action)), /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 6,\n    className: classes.imageContainer\n  }, /* @__PURE__ */ React.createElement(EmptyStateImage, {\n    missing\n  })));\n};\n\nconst COMPONENT_YAML = `apiVersion: backstage.io/v1alpha1\nkind: Component\nmetadata:\n  name: example\n  description: example.com\n  annotations:\n    ANNOTATION: value\nspec:\n  type: website\n  lifecycle: production\n  owner: user:guest`;\nconst useStyles$a = makeStyles((theme) => ({\n  code: {\n    borderRadius: 6,\n    margin: `${theme.spacing(2)}px 0px`,\n    background: theme.palette.type === \"dark\" ? \"#444\" : \"#fff\"\n  }\n}));\nconst MissingAnnotationEmptyState = ({annotation}) => {\n  const classes = useStyles$a();\n  const description = /* @__PURE__ */ React.createElement(React.Fragment, null, \"The \", /* @__PURE__ */ React.createElement(\"code\", null, annotation), \" annotation is missing. You need to add the annotation to your component if you want to enable this tool.\");\n  return /* @__PURE__ */ React.createElement(EmptyState, {\n    missing: \"field\",\n    title: \"Missing Annotation\",\n    description,\n    action: /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Typography, {\n      variant: \"body1\"\n    }, \"Add the annotation to your component YAML as shown in the highlighted example below:\"), /* @__PURE__ */ React.createElement(\"div\", {\n      className: classes.code\n    }, /* @__PURE__ */ React.createElement(CodeSnippet, {\n      text: COMPONENT_YAML.replace(\"ANNOTATION\", annotation),\n      language: \"yaml\",\n      showLineNumbers: true,\n      highlightedNumbers: [6, 7],\n      customStyle: {background: \"inherit\", fontSize: \"115%\"}\n    })), /* @__PURE__ */ React.createElement(Button$1, {\n      variant: \"contained\",\n      color: \"primary\",\n      href: \"https://backstage.io/docs/features/software-catalog/well-known-annotations\"\n    }, \"Read more\"))\n  });\n};\n\nconst useErrorOutlineStyles = makeStyles((theme) => ({\n  root: {\n    marginRight: theme.spacing(1),\n    fill: theme.palette.warningText\n  }\n}));\nconst ErrorOutlineStyled = () => {\n  const classes = useErrorOutlineStyles();\n  return /* @__PURE__ */ React.createElement(ErrorOutline, {\n    classes\n  });\n};\nconst ExpandMoreIconStyled = () => {\n  const classes = useErrorOutlineStyles();\n  return /* @__PURE__ */ React.createElement(ExpandMoreIcon, {\n    classes\n  });\n};\nconst useStyles$b = makeStyles((theme) => ({\n  panel: {\n    backgroundColor: theme.palette.warningBackground,\n    color: theme.palette.warningText,\n    verticalAlign: \"middle\"\n  },\n  summary: {\n    display: \"flex\",\n    flexDirection: \"row\"\n  },\n  summaryText: {\n    color: theme.palette.warningText,\n    fontWeight: \"bold\"\n  },\n  message: {\n    width: \"100%\",\n    display: \"block\",\n    color: theme.palette.warningText,\n    backgroundColor: theme.palette.warningBackground\n  },\n  details: {\n    width: \"100%\",\n    display: \"block\",\n    color: theme.palette.textContrast,\n    backgroundColor: theme.palette.background.default,\n    border: `1px solid ${theme.palette.border}`,\n    padding: theme.spacing(2),\n    fontFamily: \"sans-serif\"\n  }\n}));\nconst capitalize = (s) => {\n  return s.charAt(0).toLocaleUpperCase(\"en-US\") + s.slice(1);\n};\nconst WarningPanel = (props) => {\n  const classes = useStyles$b(props);\n  const {severity, title, message, children} = props;\n  const subTitle = (severity ? capitalize(severity) : \"Warning\") + (title ? `: ${title}` : \"\");\n  return /* @__PURE__ */ React.createElement(Accordion, {\n    className: classes.panel\n  }, /* @__PURE__ */ React.createElement(AccordionSummary, {\n    expandIcon: /* @__PURE__ */ React.createElement(ExpandMoreIconStyled, null),\n    className: classes.summary\n  }, /* @__PURE__ */ React.createElement(ErrorOutlineStyled, null), /* @__PURE__ */ React.createElement(Typography, {\n    className: classes.summaryText,\n    variant: \"subtitle1\"\n  }, subTitle)), (message || children) && /* @__PURE__ */ React.createElement(AccordionDetails, null, /* @__PURE__ */ React.createElement(Grid, {\n    container: true\n  }, message && /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    xs: 12\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    className: classes.message,\n    variant: \"body1\"\n  }, message)), children && /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    className: classes.details\n  }, children))));\n};\n\nconst useStyles$c = makeStyles((theme) => ({\n  text: {\n    fontFamily: \"monospace\",\n    whiteSpace: \"pre\",\n    overflowX: \"auto\",\n    marginRight: theme.spacing(2)\n  },\n  divider: {\n    margin: theme.spacing(2)\n  }\n}));\nconst ResponseErrorList = ({\n  error,\n  request,\n  message,\n  stack,\n  json\n}) => {\n  const classes = useStyles$c();\n  return /* @__PURE__ */ React.createElement(List, {\n    dense: true\n  }, /* @__PURE__ */ React.createElement(ListItem, {\n    alignItems: \"flex-start\"\n  }, /* @__PURE__ */ React.createElement(ListItemText, {\n    classes: {secondary: classes.text},\n    primary: \"Error\",\n    secondary: error\n  }), /* @__PURE__ */ React.createElement(CopyTextButton, {\n    text: error\n  })), /* @__PURE__ */ React.createElement(ListItem, {\n    alignItems: \"flex-start\"\n  }, /* @__PURE__ */ React.createElement(ListItemText, {\n    classes: {secondary: classes.text},\n    primary: \"Message\",\n    secondary: message\n  }), /* @__PURE__ */ React.createElement(CopyTextButton, {\n    text: message\n  })), request && /* @__PURE__ */ React.createElement(ListItem, {\n    alignItems: \"flex-start\"\n  }, /* @__PURE__ */ React.createElement(ListItemText, {\n    classes: {secondary: classes.text},\n    primary: \"Request\",\n    secondary: request\n  }), /* @__PURE__ */ React.createElement(CopyTextButton, {\n    text: request\n  })), stack && /* @__PURE__ */ React.createElement(ListItem, {\n    alignItems: \"flex-start\"\n  }, /* @__PURE__ */ React.createElement(ListItemText, {\n    classes: {secondary: classes.text},\n    primary: \"Stack Trace\",\n    secondary: stack\n  }), /* @__PURE__ */ React.createElement(CopyTextButton, {\n    text: stack\n  })), json && /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Divider, {\n    component: \"li\",\n    className: classes.divider\n  }), /* @__PURE__ */ React.createElement(ListItem, {\n    alignItems: \"flex-start\"\n  }, /* @__PURE__ */ React.createElement(ListItemText, {\n    classes: {secondary: classes.text},\n    primary: \"Full Error as JSON\",\n    secondary: /* @__PURE__ */ React.createElement(CodeSnippet, {\n      language: \"json\",\n      text: json\n    })\n  }), /* @__PURE__ */ React.createElement(CopyTextButton, {\n    text: json\n  }))));\n};\nconst ResponseErrorDetails = ({error}) => {\n  var _a;\n  if (error.name !== \"ResponseError\") {\n    return /* @__PURE__ */ React.createElement(ResponseErrorList, {\n      error: error.name,\n      message: error.message,\n      stack: error.stack\n    });\n  }\n  const {data, cause} = error;\n  const {request, response} = data;\n  const errorString = `${response.statusCode}: ${cause.name}`;\n  const requestString = request && `${request.method} ${request.url}`;\n  const messageString = cause.message.replace(/\\\\n/g, \"\\n\");\n  const stackString = (_a = cause.stack) == null ? void 0 : _a.replace(/\\\\n/g, \"\\n\");\n  const jsonString = JSON.stringify(data, void 0, 2);\n  return /* @__PURE__ */ React.createElement(ResponseErrorList, {\n    error: errorString,\n    message: messageString,\n    request: requestString,\n    stack: stackString,\n    json: jsonString\n  });\n};\nconst ResponseErrorPanel = ({error}) => {\n  return /* @__PURE__ */ React.createElement(WarningPanel, {\n    title: error.message\n  }, /* @__PURE__ */ React.createElement(ResponseErrorDetails, {\n    error\n  }));\n};\n\nfunction createRootElement(id) {\n  const rootContainer = document.createElement(\"div\");\n  rootContainer.setAttribute(\"id\", id);\n  return rootContainer;\n}\nfunction addRootElement(rootElem) {\n  document.body.insertBefore(rootElem, document.body.lastElementChild.nextElementSibling);\n}\nfunction usePortal(id) {\n  const rootElemRef = useRef(null);\n  useEffect(function setupElement() {\n    const existingParent = document.querySelector(`#${id}`);\n    const parentElem = existingParent || createRootElement(id);\n    if (!existingParent) {\n      addRootElement(parentElem);\n    }\n    parentElem.appendChild(rootElemRef.current);\n    return function removeElement() {\n      rootElemRef.current.remove();\n      if (parentElem.childNodes.length === -1) {\n        parentElem.remove();\n      }\n    };\n  }, [id]);\n  function getRootElem() {\n    if (!rootElemRef.current) {\n      rootElemRef.current = document.createElement(\"div\");\n    }\n    return rootElemRef.current;\n  }\n  return getRootElem();\n}\n\nconst STATES_LOCAL_STORAGE_KEY = \"core.calloutSeen\";\nfunction useCalloutStates() {\n  const [states, setStates] = useState(() => {\n    const raw = localStorage.getItem(STATES_LOCAL_STORAGE_KEY);\n    return raw ? JSON.parse(raw) : {};\n  });\n  const setState = useCallback((key, value) => {\n    const raw = localStorage.getItem(STATES_LOCAL_STORAGE_KEY);\n    const oldStates = raw ? JSON.parse(raw) : {};\n    const newStates = {...oldStates, [key]: value};\n    setStates(newStates);\n    localStorage.setItem(STATES_LOCAL_STORAGE_KEY, JSON.stringify(newStates));\n  }, []);\n  return {states, setState};\n}\nfunction useCalloutHasBeenSeen(featureId) {\n  const {states, setState} = useCalloutStates();\n  const markSeen = useCallback(() => {\n    setState(featureId, true);\n  }, [setState, featureId]);\n  return {seen: states[featureId] === true, markSeen};\n}\nfunction useShowCallout(featureId) {\n  const {seen, markSeen} = useCalloutHasBeenSeen(featureId);\n  return {show: seen === false, hide: markSeen};\n}\n\nconst useStyles$d = makeStyles({\n  \"@keyframes pulsateSlightly\": {\n    \"0%\": {transform: \"scale(1.0)\"},\n    \"100%\": {transform: \"scale(1.1)\"}\n  },\n  \"@keyframes pulsateAndFade\": {\n    \"0%\": {transform: \"scale(1.0)\", opacity: 0.9},\n    \"100%\": {transform: \"scale(1.5)\", opacity: 0}\n  },\n  featureWrapper: {\n    position: \"relative\"\n  },\n  backdrop: {\n    zIndex: 2e3,\n    position: \"fixed\",\n    overflow: \"hidden\",\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0\n  },\n  dot: {\n    position: \"absolute\",\n    backgroundColor: \"transparent\",\n    borderRadius: \"100%\",\n    border: \"1px solid rgba(103, 146, 180, 0.98)\",\n    boxShadow: \"0px 0px 0px 20000px rgba(0, 0, 0, 0.5)\",\n    zIndex: 2001,\n    transformOrigin: \"center center\",\n    animation: \"$pulsateSlightly 1744ms 1.2s cubic-bezier(0.4, 0, 0.2, 1) alternate infinite\"\n  },\n  pulseCircle: {\n    width: \"100%\",\n    height: \"100%\",\n    backgroundColor: \"transparent\",\n    borderRadius: \"100%\",\n    border: \"2px solid white\",\n    zIndex: 2001,\n    transformOrigin: \"center center\",\n    animation: \"$pulsateAndFade 872ms 1.2s cubic-bezier(0.4, 0, 0.2, 1) infinite\"\n  },\n  text: {\n    position: \"absolute\",\n    color: \"white\",\n    zIndex: 2003\n  }\n});\nconst FeatureCalloutCircular = ({\n  featureId,\n  title,\n  description,\n  children\n}) => {\n  const {show, hide} = useShowCallout(featureId);\n  const portalElement = usePortal(\"core.callout\");\n  const wrapperRef = useRef(null);\n  const [placement, setPlacement] = useState();\n  const classes = useStyles$d();\n  const update = useCallback(() => {\n    if (wrapperRef.current) {\n      const wrapperBounds = wrapperRef.current.getBoundingClientRect();\n      const longest = Math.max(wrapperBounds.width, wrapperBounds.height);\n      const borderWidth = 800;\n      const dotLeft = wrapperBounds.x - (longest - wrapperBounds.width) / 2 - borderWidth;\n      const dotTop = wrapperBounds.y - (longest - wrapperBounds.height) / 2 - borderWidth;\n      const dotSize = longest + 2 * borderWidth;\n      const textWidth = 450;\n      const textLeft = wrapperBounds.x + wrapperBounds.width / 2 - textWidth;\n      const textTop = wrapperBounds.y - (longest - wrapperBounds.height) / 2 + longest + 20;\n      setPlacement({\n        dotLeft,\n        dotTop,\n        dotSize,\n        borderWidth,\n        textTop,\n        textLeft,\n        textWidth\n      });\n    }\n  }, []);\n  useEffect(() => {\n    window.addEventListener(\"resize\", update);\n    window.addEventListener(\"scroll\", update);\n    return () => {\n      window.removeEventListener(\"resize\", update);\n      window.removeEventListener(\"scroll\", update);\n    };\n  }, [update]);\n  useLayoutEffect(update, [wrapperRef.current, update]);\n  if (!show) {\n    return /* @__PURE__ */ React.createElement(React.Fragment, null, children);\n  }\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.featureWrapper,\n    ref: wrapperRef\n  }, children), createPortal(/* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.backdrop\n  }, /* @__PURE__ */ React.createElement(ClickAwayListener, {\n    onClickAway: hide\n  }, /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.dot,\n    \"data-testid\": \"dot\",\n    style: {\n      left: placement == null ? void 0 : placement.dotLeft,\n      top: placement == null ? void 0 : placement.dotTop,\n      width: placement == null ? void 0 : placement.dotSize,\n      height: placement == null ? void 0 : placement.dotSize,\n      borderWidth: placement == null ? void 0 : placement.borderWidth\n    },\n    onClick: hide,\n    onKeyDown: hide,\n    role: \"button\",\n    tabIndex: 0\n  }, /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.pulseCircle\n  })), /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.text,\n    \"data-testid\": \"text\",\n    style: {\n      left: placement == null ? void 0 : placement.textLeft,\n      top: placement == null ? void 0 : placement.textTop,\n      width: placement == null ? void 0 : placement.textWidth\n    }\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"h2\",\n    paragraph: true\n  }, title), /* @__PURE__ */ React.createElement(Typography, null, description))))), portalElement));\n};\n\nconst isExternalUri = (uri) => /^([a-z+.-]+):/.test(uri);\nconst Link = React.forwardRef((props, ref) => {\n  const to = String(props.to);\n  return isExternalUri(to) ? /* @__PURE__ */ React.createElement(Link$1, {\n    ref,\n    href: to,\n    ...props\n  }) : /* @__PURE__ */ React.createElement(Link$1, {\n    ref,\n    component: Link$2,\n    ...props\n  });\n});\n\nconst useIconStyles = makeStyles((theme) => ({\n  link: {\n    display: \"grid\",\n    justifyItems: \"center\",\n    gridGap: 4,\n    textAlign: \"center\"\n  },\n  disabled: {\n    color: \"gray\",\n    cursor: \"default\"\n  },\n  primary: {\n    color: theme.palette.primary.main\n  },\n  secondary: {\n    color: theme.palette.secondary.main\n  },\n  label: {\n    fontSize: \"0.7rem\",\n    textTransform: \"uppercase\",\n    fontWeight: 600,\n    letterSpacing: 1.2\n  }\n}));\nfunction IconLinkVertical({\n  color = \"primary\",\n  disabled = false,\n  href = \"#\",\n  icon = /* @__PURE__ */ React.createElement(LinkIcon, null),\n  label,\n  onClick,\n  title\n}) {\n  const classes = useIconStyles();\n  if (disabled) {\n    return /* @__PURE__ */ React.createElement(Link$1, {\n      title,\n      className: classNames(classes.link, classes.disabled),\n      underline: \"none\"\n    }, icon, /* @__PURE__ */ React.createElement(\"span\", {\n      className: classes.label\n    }, label));\n  }\n  return /* @__PURE__ */ React.createElement(Link$1, {\n    title,\n    className: classNames(classes.link, classes[color]),\n    to: href,\n    component: Link,\n    onClick\n  }, icon, /* @__PURE__ */ React.createElement(\"span\", {\n    className: classes.label\n  }, label));\n}\n\nconst useStyles$e = makeStyles((theme) => ({\n  links: {\n    margin: theme.spacing(2, 0),\n    display: \"grid\",\n    gridAutoFlow: \"column\",\n    gridAutoColumns: \"min-content\",\n    gridGap: theme.spacing(3)\n  }\n}));\nconst HeaderIconLinkRow = ({links}) => {\n  const classes = useStyles$e();\n  return /* @__PURE__ */ React.createElement(\"nav\", {\n    className: classes.links\n  }, links.map((link, index) => /* @__PURE__ */ React.createElement(IconLinkVertical, {\n    key: index + 1,\n    ...link\n  })));\n};\n\nconst generateGradientStops = (themeType) => {\n  const luminance = themeType === \"dark\" ? \"16%\" : \"97%\";\n  return `\n    hsl(0, 0%, ${luminance}) 0%,\n    hsla(0, 0%, ${luminance}, 0.987) 8.1%,\n    hsla(0, 0%, ${luminance}, 0.951) 15.5%,\n    hsla(0, 0%, ${luminance}, 0.896) 22.5%,\n    hsla(0, 0%, ${luminance}, 0.825) 29%,\n    hsla(0, 0%, ${luminance}, 0.741) 35.3%,\n    hsla(0, 0%, ${luminance}, 0.648) 41.2%,\n    hsla(0, 0%, ${luminance}, 0.55) 47.1%,\n    hsla(0, 0%, ${luminance}, 0.45) 52.9%,\n    hsla(0, 0%, ${luminance}, 0.352) 58.8%,\n    hsla(0, 0%, ${luminance}, 0.259) 64.7%,\n    hsla(0, 0%, ${luminance}, 0.175) 71%,\n    hsla(0, 0%, ${luminance}, 0.104) 77.5%,\n    hsla(0, 0%, ${luminance}, 0.049) 84.5%,\n    hsla(0, 0%, ${luminance}, 0.013) 91.9%,\n    hsla(0, 0%, ${luminance}, 0) 100%\n  `;\n};\nconst fadeSize = 100;\nconst fadePadding = 10;\nconst useStyles$f = makeStyles((theme) => ({\n  root: {\n    position: \"relative\",\n    display: \"flex\",\n    flexFlow: \"row nowrap\",\n    alignItems: \"center\"\n  },\n  container: {\n    overflow: \"auto\",\n    scrollbarWidth: 0,\n    \"&::-webkit-scrollbar\": {\n      display: \"none\"\n    }\n  },\n  fade: {\n    position: \"absolute\",\n    width: fadeSize,\n    height: `calc(100% + ${fadePadding}px)`,\n    transition: \"opacity 300ms\",\n    pointerEvents: \"none\"\n  },\n  fadeLeft: {\n    left: -fadePadding,\n    background: `linear-gradient(90deg, ${generateGradientStops(theme.palette.type)})`\n  },\n  fadeRight: {\n    right: -fadePadding,\n    background: `linear-gradient(270deg, ${generateGradientStops(theme.palette.type)})`\n  },\n  fadeHidden: {\n    opacity: 0\n  },\n  button: {\n    position: \"absolute\"\n  },\n  buttonLeft: {\n    left: -theme.spacing(2)\n  },\n  buttonRight: {\n    right: -theme.spacing(2)\n  }\n}));\nfunction useScrollDistance(ref) {\n  const [[scrollLeft, scrollRight], setScroll] = React.useState([0, 0]);\n  React.useLayoutEffect(() => {\n    const el = ref.current;\n    if (!el) {\n      setScroll([0, 0]);\n      return;\n    }\n    const handleUpdate = () => {\n      const left = el.scrollLeft;\n      const right = el.scrollWidth - el.offsetWidth - el.scrollLeft;\n      setScroll([left, right]);\n    };\n    handleUpdate();\n    el.addEventListener(\"scroll\", handleUpdate);\n    window.addEventListener(\"resize\", handleUpdate);\n    return () => {\n      el.removeEventListener(\"scroll\", handleUpdate);\n      window.removeEventListener(\"resize\", handleUpdate);\n    };\n  }, [ref]);\n  return [scrollLeft, scrollRight];\n}\nfunction useSmoothScroll(ref, speed, minDistance) {\n  const [scrollTarget, setScrollTarget] = React.useState(0);\n  React.useLayoutEffect(() => {\n    if (scrollTarget === 0) {\n      return;\n    }\n    const startTime = performance.now();\n    const id = requestAnimationFrame((frameTime) => {\n      if (!ref.current) {\n        return;\n      }\n      const frameDuration = frameTime - startTime;\n      const scrollDistance = Math.abs(scrollTarget) * frameDuration / speed;\n      const cappedScrollDistance = Math.max(minDistance, scrollDistance);\n      const scrollAmount = cappedScrollDistance * Math.sign(scrollTarget);\n      ref.current.scrollBy({left: scrollAmount});\n      const newScrollTarget = scrollTarget - scrollAmount;\n      if (Math.sign(scrollTarget) !== Math.sign(newScrollTarget)) {\n        setScrollTarget(0);\n      } else {\n        setScrollTarget(newScrollTarget);\n      }\n    });\n    return () => cancelAnimationFrame(id);\n  }, [ref, scrollTarget, speed, minDistance]);\n  return setScrollTarget;\n}\nconst HorizontalScrollGrid = (props) => {\n  const {\n    scrollStep = 100,\n    scrollSpeed = 50,\n    minScrollDistance = 5,\n    children,\n    ...otherProps\n  } = props;\n  const classes = useStyles$f(props);\n  const ref = React.useRef();\n  const [scrollLeft, scrollRight] = useScrollDistance(ref);\n  const setScrollTarget = useSmoothScroll(ref, scrollSpeed, minScrollDistance);\n  const handleScrollClick = (forwards) => {\n    const el = ref.current;\n    if (!el) {\n      return;\n    }\n    setScrollTarget(forwards ? scrollStep : -scrollStep);\n  };\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    ...otherProps,\n    className: classes.root\n  }, /* @__PURE__ */ React.createElement(Grid, {\n    container: true,\n    direction: \"row\",\n    wrap: \"nowrap\",\n    className: classes.container,\n    ref\n  }, children), /* @__PURE__ */ React.createElement(\"div\", {\n    className: classNames(classes.fade, classes.fadeLeft, {\n      [classes.fadeHidden]: scrollLeft === 0\n    })\n  }), /* @__PURE__ */ React.createElement(\"div\", {\n    className: classNames(classes.fade, classes.fadeRight, {\n      [classes.fadeHidden]: scrollRight === 0\n    })\n  }), scrollLeft > 0 && /* @__PURE__ */ React.createElement(IconButton, {\n    title: \"Scroll Left\",\n    onClick: () => handleScrollClick(false),\n    className: classNames(classes.button, classes.buttonLeft, {})\n  }, /* @__PURE__ */ React.createElement(ChevronLeftIcon, null)), scrollRight > 0 && /* @__PURE__ */ React.createElement(IconButton, {\n    title: \"Scroll Right\",\n    onClick: () => handleScrollClick(true),\n    className: classNames(classes.button, classes.buttonRight, {})\n  }, /* @__PURE__ */ React.createElement(ChevronRight, null)));\n};\n\nconst useStyles$g = makeStyles({\n  alpha: {\n    color: \"#ffffff\",\n    fontFamily: \"serif\",\n    fontWeight: \"normal\",\n    fontStyle: \"italic\"\n  },\n  beta: {\n    color: \"#4d65cc\",\n    fontFamily: \"serif\",\n    fontWeight: \"normal\",\n    fontStyle: \"italic\"\n  }\n});\nconst Lifecycle = (props) => {\n  const classes = useStyles$g(props);\n  const {shorthand, alpha} = props;\n  return shorthand ? /* @__PURE__ */ React.createElement(\"span\", {\n    className: classes[alpha ? \"alpha\" : \"beta\"],\n    style: {fontSize: \"120%\"}\n  }, alpha ? /* @__PURE__ */ React.createElement(React.Fragment, null, \"\\u03B1\") : /* @__PURE__ */ React.createElement(React.Fragment, null, \"\\u03B2\")) : /* @__PURE__ */ React.createElement(\"span\", {\n    className: classes[alpha ? \"alpha\" : \"beta\"]\n  }, alpha ? \"Alpha\" : \"Beta\");\n};\n\nconst useStyles$h = makeStyles((theme) => ({\n  markdown: {\n    \"& table\": {\n      borderCollapse: \"collapse\",\n      border: `1px solid ${theme.palette.border}`\n    },\n    \"& th, & td\": {\n      border: `1px solid ${theme.palette.border}`,\n      padding: theme.spacing(1)\n    },\n    \"& td\": {\n      wordBreak: \"break-word\",\n      overflow: \"hidden\",\n      verticalAlign: \"middle\",\n      lineHeight: \"1\",\n      margin: 0,\n      padding: theme.spacing(3, 2, 3, 2.5),\n      borderBottom: 0\n    },\n    \"& th\": {\n      backgroundColor: theme.palette.background.paper\n    },\n    \"& tr\": {\n      backgroundColor: theme.palette.background.paper\n    },\n    \"& tr:nth-child(odd)\": {\n      backgroundColor: theme.palette.background.default\n    },\n    \"& a\": {\n      color: theme.palette.link\n    },\n    \"& img\": {\n      maxWidth: \"100%\"\n    }\n  }\n}));\nconst renderers = {\n  code: ({language, value}) => {\n    return /* @__PURE__ */ React.createElement(CodeSnippet, {\n      language,\n      text: value\n    });\n  }\n};\nconst MarkdownContent = ({content, dialect = \"gfm\"}) => {\n  const classes = useStyles$h();\n  return /* @__PURE__ */ React.createElement(ReactMarkdown, {\n    plugins: dialect === \"gfm\" ? [gfm] : [],\n    className: classes.markdown,\n    children: content,\n    renderers\n  });\n};\n\nconst useItemStyles = makeStyles((theme) => ({\n  root: {\n    paddingLeft: theme.spacing(3)\n  }\n}));\nconst LoginRequestListItem = ({request, busy, setBusy}) => {\n  const classes = useItemStyles();\n  const [error, setError] = useState();\n  const handleContinue = async () => {\n    setBusy(true);\n    try {\n      await request.trigger();\n    } catch (e) {\n      setError(e);\n    } finally {\n      setBusy(false);\n    }\n  };\n  const IconComponent = request.provider.icon;\n  return /* @__PURE__ */ React.createElement(ListItem, {\n    button: true,\n    disabled: busy,\n    onClick: handleContinue,\n    classes: {root: classes.root}\n  }, /* @__PURE__ */ React.createElement(ListItemAvatar, null, /* @__PURE__ */ React.createElement(IconComponent, {\n    fontSize: \"large\"\n  })), /* @__PURE__ */ React.createElement(ListItemText, {\n    primary: request.provider.title,\n    secondary: error && /* @__PURE__ */ React.createElement(Typography, {\n      color: \"error\"\n    }, error.message || \"An unspecified error occurred\")\n  }));\n};\n\nconst useStyles$i = makeStyles((theme) => ({\n  dialog: {\n    paddingTop: theme.spacing(1)\n  },\n  title: {\n    minWidth: 0\n  },\n  contentList: {\n    padding: 0\n  }\n}));\nconst OAuthRequestDialog = () => {\n  const classes = useStyles$i();\n  const [busy, setBusy] = useState(false);\n  const oauthRequestApi = useApi(oauthRequestApiRef);\n  const requests = useObservable(useMemo(() => oauthRequestApi.authRequest$(), [oauthRequestApi]), []);\n  const handleRejectAll = () => {\n    requests.forEach((request) => request.reject());\n  };\n  return /* @__PURE__ */ React.createElement(Dialog, {\n    open: Boolean(requests.length),\n    fullWidth: true,\n    maxWidth: \"xs\",\n    classes: {paper: classes.dialog}\n  }, /* @__PURE__ */ React.createElement(DialogTitle, {\n    classes: {root: classes.title}\n  }, \"Login Required\"), /* @__PURE__ */ React.createElement(DialogContent, {\n    classes: {root: classes.contentList}\n  }, /* @__PURE__ */ React.createElement(List, null, requests.map((request) => /* @__PURE__ */ React.createElement(LoginRequestListItem, {\n    key: request.provider.title,\n    request,\n    busy,\n    setBusy\n  })))), /* @__PURE__ */ React.createElement(DialogActions, null, /* @__PURE__ */ React.createElement(Button$1, {\n    onClick: handleRejectAll\n  }, \"Reject All\")));\n};\n\nconst useStyles$j = makeStyles({\n  container: {\n    overflow: \"visible !important\"\n  }\n});\nconst OverflowTooltip = (props) => {\n  var _a;\n  const [hover, setHover] = useState(false);\n  const classes = useStyles$j();\n  const handleToggled = (truncated) => {\n    setHover(truncated);\n  };\n  return /* @__PURE__ */ React.createElement(Tooltip, {\n    title: (_a = props.title) != null ? _a : props.text || \"\",\n    placement: props.placement,\n    disableHoverListener: !hover\n  }, /* @__PURE__ */ React.createElement(TextTruncate, {\n    text: props.text,\n    line: props.line,\n    onToggled: handleToggled,\n    containerClassName: classes.container\n  }));\n};\n\nconst Error$1 = ({slackChannel}) => {\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    role: \"alert\"\n  }, \"Something went wrong here.\", \" \", slackChannel && /* @__PURE__ */ React.createElement(React.Fragment, null, \"Please contact \", slackChannel, \" for help.\"));\n};\nconst ErrorBoundary = class ErrorBoundary2 extends Component$3 {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: void 0,\n      errorInfo: void 0\n    };\n  }\n  componentDidCatch(error, errorInfo) {\n    console.error(`ErrorBoundary, error: ${error}, info: ${errorInfo}`);\n    this.setState({error, errorInfo});\n  }\n  render() {\n    const {slackChannel} = this.props;\n    const {error, errorInfo} = this.state;\n    if (!errorInfo) {\n      return this.props.children;\n    }\n    return /* @__PURE__ */ React.createElement(Error$1, {\n      error,\n      slackChannel\n    });\n  }\n};\n\nconst useStyles$k = makeStyles((theme) => ({\n  root: {\n    maxWidth: \"fit-content\",\n    padding: theme.spacing(2, 2, 2, 2.5)\n  },\n  boxTitle: {\n    margin: 0,\n    color: theme.palette.textSubtle\n  },\n  arrow: {\n    color: theme.palette.textSubtle\n  }\n}));\nconst BottomLink = ({link, title, onClick}) => {\n  const classes = useStyles$k();\n  return /* @__PURE__ */ React.createElement(\"div\", null, /* @__PURE__ */ React.createElement(Divider, null), /* @__PURE__ */ React.createElement(Link, {\n    to: link,\n    onClick,\n    underline: \"none\"\n  }, /* @__PURE__ */ React.createElement(ListItem, {\n    className: classes.root\n  }, /* @__PURE__ */ React.createElement(ListItemText, null, /* @__PURE__ */ React.createElement(Box, {\n    className: classes.boxTitle,\n    fontWeight: \"fontWeightBold\",\n    m: 1\n  }, title)), /* @__PURE__ */ React.createElement(ListItemIcon, null, /* @__PURE__ */ React.createElement(ArrowIcon, {\n    className: classes.arrow\n  })))));\n};\n\nconst useStyles$l = makeStyles((theme) => ({\n  noPadding: {\n    padding: 0,\n    \"&:last-child\": {\n      paddingBottom: 0\n    }\n  },\n  header: {\n    display: \"inline-block\",\n    padding: theme.spacing(2, 2, 2, 2.5)\n  },\n  headerTitle: {\n    fontWeight: 700\n  },\n  headerSubheader: {\n    paddingTop: theme.spacing(1)\n  },\n  headerAvatar: {},\n  headerAction: {},\n  headerContent: {}\n}));\nconst CardActionsTopRight = withStyles((theme) => ({\n  root: {\n    display: \"inline-block\",\n    padding: theme.spacing(8, 8, 0, 0),\n    float: \"right\"\n  }\n}))(CardActions);\nconst VARIANT_STYLES = {\n  card: {\n    flex: {\n      display: \"flex\",\n      flexDirection: \"column\"\n    },\n    fullHeight: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      height: \"100%\"\n    },\n    gridItem: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      height: \"calc(100% - 10px)\",\n      marginBottom: \"10px\"\n    }\n  },\n  cardContent: {\n    fullHeight: {\n      flex: 1\n    },\n    gridItem: {\n      flex: 1\n    }\n  }\n};\nconst InfoCard = ({\n  title,\n  subheader,\n  divider = true,\n  deepLink,\n  slackChannel = \"#backstage\",\n  variant,\n  children,\n  headerStyle,\n  headerProps,\n  actionsClassName,\n  actions,\n  cardClassName,\n  actionsTopRight,\n  className,\n  noPadding,\n  titleTypographyProps\n}) => {\n  const classes = useStyles$l();\n  let calculatedStyle = {};\n  let calculatedCardStyle = {};\n  if (variant) {\n    const variants = variant.split(/[\\s]+/g);\n    variants.forEach((name) => {\n      calculatedStyle = {\n        ...calculatedStyle,\n        ...VARIANT_STYLES.card[name]\n      };\n      calculatedCardStyle = {\n        ...calculatedCardStyle,\n        ...VARIANT_STYLES.cardContent[name]\n      };\n    });\n  }\n  return /* @__PURE__ */ React.createElement(Card, {\n    style: calculatedStyle,\n    className\n  }, /* @__PURE__ */ React.createElement(ErrorBoundary, {\n    slackChannel\n  }, title && /* @__PURE__ */ React.createElement(CardHeader, {\n    classes: {\n      root: classes.header,\n      title: classes.headerTitle,\n      subheader: classes.headerSubheader,\n      avatar: classes.headerAvatar,\n      action: classes.headerAction,\n      content: classes.headerContent\n    },\n    title,\n    subheader,\n    style: {...headerStyle},\n    titleTypographyProps,\n    ...headerProps\n  }), actionsTopRight && /* @__PURE__ */ React.createElement(CardActionsTopRight, null, actionsTopRight), divider && /* @__PURE__ */ React.createElement(Divider, null), /* @__PURE__ */ React.createElement(CardContent, {\n    className: classNames(cardClassName, {\n      [classes.noPadding]: noPadding\n    }),\n    style: calculatedCardStyle\n  }, children), actions && /* @__PURE__ */ React.createElement(CardActions, {\n    className: actionsClassName\n  }, actions), deepLink && /* @__PURE__ */ React.createElement(BottomLink, {\n    ...deepLink\n  })));\n};\n\nconst useStyles$m = makeStyles((theme) => ({\n  root: {\n    position: \"relative\",\n    lineHeight: 0\n  },\n  overlay: {\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    transform: \"translate(-50%, -60%)\",\n    fontSize: 45,\n    fontWeight: \"bold\",\n    color: theme.palette.textContrast\n  },\n  circle: {\n    width: \"80%\",\n    transform: \"translate(10%, 0)\"\n  },\n  colorUnknown: {}\n}));\nconst defaultProps$1 = {\n  fractional: true,\n  inverse: false,\n  unit: \"%\",\n  max: 100\n};\nfunction getProgressColor(palette, value, inverse, max) {\n  if (isNaN(value)) {\n    return \"#ddd\";\n  }\n  const actualMax = max ? max : defaultProps$1.max;\n  const actualValue = inverse ? actualMax - value : value;\n  if (actualValue < actualMax / 3) {\n    return palette.status.error;\n  } else if (actualValue < actualMax * (2 / 3)) {\n    return palette.status.warning;\n  }\n  return palette.status.ok;\n}\nconst Gauge = (props) => {\n  const classes = useStyles$m(props);\n  const theme = useTheme();\n  const {value, fractional, inverse, unit, max} = {\n    ...defaultProps$1,\n    ...props\n  };\n  const asPercentage = fractional ? Math.round(value * max) : value;\n  const asActual = max !== 100 ? Math.round(value) : asPercentage;\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.root\n  }, /* @__PURE__ */ React.createElement(Circle, {\n    strokeLinecap: \"butt\",\n    percent: asPercentage,\n    strokeWidth: 12,\n    trailWidth: 12,\n    strokeColor: getProgressColor(theme.palette, asActual, inverse, max),\n    className: classes.circle\n  }), /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.overlay\n  }, isNaN(value) ? \"N/A\" : `${asActual}${unit}`));\n};\n\nconst useStyles$n = makeStyles({\n  root: {\n    height: \"100%\",\n    width: 250\n  }\n});\nconst GaugeCard = (props) => {\n  const classes = useStyles$n(props);\n  const {title, subheader, progress, inverse, deepLink, variant} = props;\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.root\n  }, /* @__PURE__ */ React.createElement(InfoCard, {\n    title,\n    subheader,\n    deepLink,\n    variant\n  }, /* @__PURE__ */ React.createElement(Gauge, {\n    value: progress,\n    inverse\n  })));\n};\n\nconst LinearGauge = ({value}) => {\n  const theme = useTheme();\n  if (isNaN(value)) {\n    return null;\n  }\n  let percent = Math.round(value * 100 * 100) / 100;\n  if (percent > 100) {\n    percent = 100;\n  }\n  const strokeColor = getProgressColor(theme.palette, percent, false, 100);\n  return /* @__PURE__ */ React.createElement(Tooltip, {\n    title: `${percent}%`\n  }, /* @__PURE__ */ React.createElement(\"span\", null, /* @__PURE__ */ React.createElement(Line, {\n    percent,\n    strokeWidth: 4,\n    trailWidth: 4,\n    strokeColor\n  })));\n};\n\nconst useStyles$o = makeStyles(() => createStyles({\n  icon: {\n    position: \"absolute\",\n    right: \"4px\",\n    pointerEvents: \"none\"\n  }\n}));\nconst ClosedDropdown = () => {\n  const classes = useStyles$o();\n  return /* @__PURE__ */ React.createElement(SvgIcon, {\n    className: classes.icon,\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /* @__PURE__ */ React.createElement(\"path\", {\n    d: \"M7.5 8L6 9.5L12.0703 15.5703L18.1406 9.5L16.6406 8L12.0703 12.5703L7.5 8Z\",\n    fill: \"#616161\"\n  }));\n};\n\nconst useStyles$p = makeStyles(() => createStyles({\n  icon: {\n    position: \"absolute\",\n    right: \"4px\",\n    pointerEvents: \"none\"\n  }\n}));\nconst OpenedDropdown = () => {\n  const classes = useStyles$p();\n  return /* @__PURE__ */ React.createElement(SvgIcon, {\n    className: classes.icon,\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /* @__PURE__ */ React.createElement(\"path\", {\n    d: \"M16.5 16L18 14.5L11.9297 8.42969L5.85938 14.5L7.35938 16L11.9297 11.4297L16.5 16Z\",\n    fill: \"#616161\"\n  }));\n};\n\nconst BootstrapInput = withStyles$1((theme) => createStyles$1({\n  root: {\n    \"label + &\": {\n      marginTop: theme.spacing(3)\n    }\n  },\n  input: {\n    borderRadius: 4,\n    position: \"relative\",\n    backgroundColor: theme.palette.background.paper,\n    border: \"1px solid #ced4da\",\n    fontSize: 16,\n    padding: \"10px 26px 10px 12px\",\n    transition: theme.transitions.create([\"border-color\", \"box-shadow\"]),\n    fontFamily: \"Helvetica Neue\",\n    \"&:focus\": {\n      background: theme.palette.background.paper,\n      borderRadius: 4\n    }\n  }\n}))(InputBase);\nconst useStyles$q = makeStyles$1((theme) => createStyles$1({\n  formControl: {\n    margin: `${theme.spacing(1)} 0px`,\n    maxWidth: 300\n  },\n  label: {\n    transform: \"initial\",\n    fontWeight: \"bold\",\n    fontSize: 14,\n    fontFamily: theme.typography.fontFamily,\n    color: theme.palette.text.primary,\n    \"&.Mui-focused\": {\n      color: theme.palette.text.primary\n    }\n  },\n  chips: {\n    display: \"flex\",\n    flexWrap: \"wrap\"\n  },\n  chip: {\n    margin: 2\n  },\n  checkbox: {},\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  }\n}));\nconst SelectComponent = ({\n  multiple,\n  items,\n  label,\n  placeholder,\n  selected,\n  onChange,\n  triggerReset\n}) => {\n  const classes = useStyles$q();\n  const [value, setValue] = useState(selected || (multiple ? [] : \"\"));\n  const [isOpen, setOpen] = useState(false);\n  useEffect(() => {\n    setValue(multiple ? [] : \"\");\n  }, [triggerReset, multiple]);\n  useEffect(() => {\n    if (selected !== void 0) {\n      setValue(selected);\n    }\n  }, [selected]);\n  const handleChange = (event) => {\n    setValue(event.target.value);\n    onChange(event.target.value);\n  };\n  const handleClick = (event) => {\n    setOpen((previous) => {\n      if (multiple && !(event.target instanceof HTMLElement)) {\n        return true;\n      }\n      return !previous;\n    });\n  };\n  const handleClickAway = () => {\n    setOpen(false);\n  };\n  const handleDelete = (selectedValue) => () => {\n    const newValue = value.filter((chip) => chip !== selectedValue);\n    setValue(newValue);\n    onChange(newValue);\n  };\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.root\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"button\"\n  }, label), /* @__PURE__ */ React.createElement(ClickAwayListener, {\n    onClickAway: handleClickAway\n  }, /* @__PURE__ */ React.createElement(FormControl, {\n    className: classes.formControl\n  }, /* @__PURE__ */ React.createElement(Select, {\n    value,\n    \"data-testid\": \"select\",\n    displayEmpty: true,\n    multiple,\n    onChange: handleChange,\n    onClick: handleClick,\n    open: isOpen,\n    input: /* @__PURE__ */ React.createElement(BootstrapInput, null),\n    renderValue: (s) => {\n      var _a;\n      return multiple && value.length !== 0 ? /* @__PURE__ */ React.createElement(\"div\", {\n        className: classes.chips\n      }, s.map((selectedValue) => {\n        var _a2, _b;\n        return /* @__PURE__ */ React.createElement(Chip, {\n          key: (_a2 = items.find((el) => el.value === selectedValue)) == null ? void 0 : _a2.value,\n          label: (_b = items.find((el) => el.value === selectedValue)) == null ? void 0 : _b.label,\n          clickable: true,\n          onDelete: handleDelete(selectedValue),\n          className: classes.chip\n        });\n      })) : /* @__PURE__ */ React.createElement(Typography, null, value.length === 0 ? placeholder || \"\" : (_a = items.find((el) => el.value === s)) == null ? void 0 : _a.label);\n    },\n    IconComponent: () => !isOpen ? /* @__PURE__ */ React.createElement(ClosedDropdown, null) : /* @__PURE__ */ React.createElement(OpenedDropdown, null),\n    MenuProps: {\n      anchorOrigin: {\n        vertical: \"bottom\",\n        horizontal: \"left\"\n      },\n      transformOrigin: {\n        vertical: \"top\",\n        horizontal: \"left\"\n      },\n      getContentAnchorEl: null\n    }\n  }, placeholder && !multiple && /* @__PURE__ */ React.createElement(MenuItem, {\n    value: []\n  }, placeholder), items && items.map((item) => /* @__PURE__ */ React.createElement(MenuItem, {\n    key: item.value,\n    value: item.value\n  }, multiple && /* @__PURE__ */ React.createElement(Checkbox, {\n    color: \"primary\",\n    checked: value.includes(item.value) || false,\n    className: classes.checkbox\n  }), item.label))))));\n};\n\nconst noop = () => {\n};\nconst VerticalStepperContext = React.createContext({\n  stepperLength: 0,\n  stepIndex: 0,\n  setStepIndex: noop,\n  stepHistory: [],\n  setStepHistory: noop,\n  onStepChange: noop\n});\nconst SimpleStepper = ({\n  children,\n  elevated,\n  onStepChange,\n  activeStep = 0\n}) => {\n  const [stepIndex, setStepIndex] = useState(activeStep);\n  const [stepHistory, setStepHistory] = useState([0]);\n  useEffect(() => {\n    setStepIndex(activeStep);\n  }, [activeStep]);\n  const steps = [];\n  let endStep;\n  Children.forEach(children, (child) => {\n    if (isValidElement(child)) {\n      if (child.props.end) {\n        endStep = child;\n      } else {\n        steps.push(child);\n      }\n    }\n  });\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(VerticalStepperContext.Provider, {\n    value: {\n      stepIndex,\n      setStepIndex,\n      stepHistory,\n      setStepHistory,\n      onStepChange,\n      stepperLength: Children.count(children)\n    }\n  }, /* @__PURE__ */ React.createElement(Stepper, {\n    activeStep: stepIndex,\n    orientation: \"vertical\",\n    elevation: elevated ? 2 : 0\n  }, steps)), stepIndex >= Children.count(children) - 1 && endStep);\n};\n\nconst useStyles$r = makeStyles((theme) => ({\n  root: {\n    marginTop: theme.spacing(3),\n    \"& button\": {\n      marginRight: theme.spacing(1)\n    }\n  }\n}));\nconst RestartBtn = ({text, handleClick}) => /* @__PURE__ */ React.createElement(Button$1, {\n  onClick: handleClick\n}, text || \"Reset\");\nconst NextBtn = ({\n  text,\n  handleClick,\n  disabled,\n  last,\n  stepIndex\n}) => /* @__PURE__ */ React.createElement(Button$1, {\n  variant: \"contained\",\n  color: \"primary\",\n  disabled,\n  \"data-testid\": `nextButton-${stepIndex}`,\n  onClick: handleClick\n}, text || (last ? \"Finish\" : \"Next\"));\nconst BackBtn = ({text, handleClick, disabled, stepIndex}) => /* @__PURE__ */ React.createElement(Button$1, {\n  onClick: handleClick,\n  \"data-testid\": `backButton-${stepIndex}`,\n  disabled\n}, text || \"Back\");\nconst SimpleStepperFooter = ({\n  actions = {},\n  children\n}) => {\n  const classes = useStyles$r();\n  const {\n    stepperLength,\n    stepIndex,\n    setStepIndex,\n    stepHistory,\n    setStepHistory,\n    onStepChange\n  } = useContext(VerticalStepperContext);\n  const onChange = (newIndex, callback) => {\n    if (callback) {\n      callback();\n    }\n    if (onStepChange) {\n      onStepChange(stepIndex, newIndex);\n    }\n    setStepIndex(newIndex);\n  };\n  const handleNext = () => {\n    const newIndex = actions.nextStep ? actions.nextStep(stepIndex, stepperLength - 1) : stepIndex + 1;\n    onChange(newIndex, actions.onNext);\n    setStepHistory([...stepHistory, newIndex]);\n  };\n  const handleBack = () => {\n    stepHistory.pop();\n    onChange(stepHistory[stepHistory.length - 1], actions.onBack);\n    setStepHistory([...stepHistory]);\n  };\n  const handleRestart = () => {\n    onChange(0, actions.onRestart);\n    setStepHistory([0]);\n  };\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.root\n  }, [void 0, true].includes(actions.showBack) && stepIndex !== 0 && /* @__PURE__ */ React.createElement(BackBtn, {\n    text: actions.backText,\n    handleClick: handleBack,\n    disabled: stepIndex === 0,\n    stepIndex\n  }), [void 0, true].includes(actions.showNext) && /* @__PURE__ */ React.createElement(NextBtn, {\n    text: actions.nextText,\n    handleClick: handleNext,\n    disabled: !!stepperLength && stepIndex >= stepperLength || !!actions.canNext && !actions.canNext(),\n    stepIndex\n  }), actions.showRestart && stepIndex !== 0 && /* @__PURE__ */ React.createElement(RestartBtn, {\n    text: actions.restartText,\n    handleClick: handleRestart,\n    stepIndex\n  }), children);\n};\n\nconst useStyles$s = makeStyles((theme) => ({\n  end: {\n    padding: theme.spacing(3)\n  }\n}));\nconst SimpleStepperStep = ({\n  title,\n  children,\n  end,\n  actions,\n  ...muiProps\n}) => {\n  const classes = useStyles$s();\n  return end ? /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.end\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"h6\"\n  }, title), children, /* @__PURE__ */ React.createElement(SimpleStepperFooter, {\n    actions: {...actions || {}, showNext: false}\n  })) : /* @__PURE__ */ React.createElement(Step, {\n    ...muiProps\n  }, /* @__PURE__ */ React.createElement(StepLabel, null, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"h6\"\n  }, title)), /* @__PURE__ */ React.createElement(StepContent, null, children, /* @__PURE__ */ React.createElement(SimpleStepperFooter, {\n    actions\n  })));\n};\n\nconst useStyles$t = makeStyles((theme) => ({\n  status: {\n    fontWeight: 500,\n    \"&::before\": {\n      width: \"0.7em\",\n      height: \"0.7em\",\n      display: \"inline-block\",\n      marginRight: 8,\n      borderRadius: \"50%\",\n      content: '\"\"'\n    }\n  },\n  ok: {\n    \"&::before\": {\n      backgroundColor: theme.palette.status.ok\n    }\n  },\n  warning: {\n    \"&::before\": {\n      backgroundColor: theme.palette.status.warning\n    }\n  },\n  error: {\n    \"&::before\": {\n      backgroundColor: theme.palette.status.error\n    }\n  },\n  pending: {\n    \"&::before\": {\n      backgroundColor: theme.palette.status.pending\n    }\n  },\n  running: {\n    \"&::before\": {\n      backgroundColor: theme.palette.status.running\n    }\n  },\n  aborted: {\n    \"&::before\": {\n      backgroundColor: theme.palette.status.aborted\n    }\n  }\n}));\nconst StatusOK = (props) => {\n  const classes = useStyles$t(props);\n  return /* @__PURE__ */ React.createElement(\"span\", {\n    className: classNames(classes.status, classes.ok),\n    \"aria-label\": \"Status ok\",\n    ...props\n  });\n};\nconst StatusWarning = (props) => {\n  const classes = useStyles$t(props);\n  return /* @__PURE__ */ React.createElement(\"span\", {\n    className: classNames(classes.status, classes.warning),\n    \"aria-label\": \"Status warning\",\n    ...props\n  });\n};\nconst StatusError = (props) => {\n  const classes = useStyles$t(props);\n  return /* @__PURE__ */ React.createElement(\"span\", {\n    className: classNames(classes.status, classes.error),\n    \"aria-label\": \"Status error\",\n    ...props\n  });\n};\nconst StatusPending = (props) => {\n  const classes = useStyles$t(props);\n  return /* @__PURE__ */ React.createElement(\"span\", {\n    className: classNames(classes.status, classes.pending),\n    \"aria-label\": \"Status pending\",\n    ...props\n  });\n};\nconst StatusRunning = (props) => {\n  const classes = useStyles$t(props);\n  return /* @__PURE__ */ React.createElement(\"span\", {\n    className: classNames(classes.status, classes.running),\n    \"aria-label\": \"Status running\",\n    ...props\n  });\n};\nconst StatusAborted = (props) => {\n  const classes = useStyles$t(props);\n  return /* @__PURE__ */ React.createElement(\"span\", {\n    className: classNames(classes.status, classes.aborted),\n    \"aria-label\": \"Status aborted\",\n    ...props\n  });\n};\n\nconst tableTitleCellStyles = (theme) => createStyles({\n  root: {\n    fontWeight: \"bolder\",\n    whiteSpace: \"nowrap\",\n    paddingRight: theme.spacing(4),\n    border: \"0\",\n    verticalAlign: \"top\"\n  }\n});\nconst tableContentCellStyles = {\n  root: {\n    border: \"0\",\n    verticalAlign: \"top\"\n  }\n};\nconst listStyles = (theme) => createStyles({\n  root: {\n    listStyle: \"none\",\n    margin: theme.spacing(0, 0, -1, 0),\n    padding: \"0\"\n  }\n});\nconst listItemStyles = (theme) => createStyles({\n  root: {\n    padding: theme.spacing(0, 0, 1, 0)\n  },\n  random: {}\n});\nconst TitleCell = withStyles(tableTitleCellStyles)(TableCell);\nconst ContentCell = withStyles(tableContentCellStyles)(TableCell);\nconst MetadataTable = ({\n  dense,\n  children\n}) => /* @__PURE__ */ React.createElement(Table$1, {\n  size: dense ? \"small\" : \"medium\"\n}, /* @__PURE__ */ React.createElement(TableBody, null, children));\nconst MetadataTableItem = ({\n  title,\n  children,\n  ...rest\n}) => /* @__PURE__ */ React.createElement(TableRow, null, title && /* @__PURE__ */ React.createElement(TitleCell, null, title), /* @__PURE__ */ React.createElement(ContentCell, {\n  colSpan: title ? 1 : 2,\n  ...rest\n}, children));\nconst MetadataList = withStyles(listStyles)(({classes, children}) => /* @__PURE__ */ React.createElement(\"ul\", {\n  className: classes.root\n}, children));\nconst MetadataListItem = withStyles(listItemStyles)(({classes, children}) => /* @__PURE__ */ React.createElement(\"li\", {\n  className: classes.root\n}, children));\n\nconst listStyle = createStyles({\n  root: {\n    margin: \"0 0\",\n    listStyleType: \"none\"\n  }\n});\nconst nestedListStyle = (theme) => createStyles({\n  root: {\n    ...listStyle.root,\n    paddingLeft: theme.spacing(1)\n  }\n});\nconst StyledList = withStyles(listStyle)(({classes, children}) => /* @__PURE__ */ React.createElement(MetadataList, {\n  classes\n}, children));\nconst StyledNestedList = withStyles(nestedListStyle)(({classes, children}) => /* @__PURE__ */ React.createElement(MetadataList, {\n  classes\n}, children));\nfunction renderList(list, nested) {\n  const values = list.map((item, index) => /* @__PURE__ */ React.createElement(MetadataListItem, {\n    key: index\n  }, toValue(item)));\n  return nested ? /* @__PURE__ */ React.createElement(StyledNestedList, null, values) : /* @__PURE__ */ React.createElement(StyledList, null, values);\n}\nfunction renderMap(map, nested, options) {\n  const values = Object.keys(map).map((key) => {\n    const value = toValue(map[key], true);\n    const fmtKey = options && options.titleFormat ? options.titleFormat(key) : startCase(key);\n    return /* @__PURE__ */ React.createElement(MetadataListItem, {\n      key\n    }, `${fmtKey}: `, value);\n  });\n  return nested ? /* @__PURE__ */ React.createElement(StyledNestedList, null, values) : /* @__PURE__ */ React.createElement(StyledList, null, values);\n}\nfunction toValue(value, options, nested) {\n  if (React.isValidElement(value)) {\n    return /* @__PURE__ */ React.createElement(Fragment, null, value);\n  }\n  if (typeof value === \"object\" && !Array.isArray(value)) {\n    return renderMap(value, options, nested);\n  }\n  if (Array.isArray(value)) {\n    return renderList(value, nested);\n  }\n  if (typeof value === \"boolean\") {\n    return /* @__PURE__ */ React.createElement(Fragment, null, value ? \"\\u2705\" : \"\\u274C\");\n  }\n  return /* @__PURE__ */ React.createElement(Fragment, null, value);\n}\nconst ItemValue = ({value, options}) => /* @__PURE__ */ React.createElement(Fragment, null, toValue(value, options));\nconst TableItem = ({\n  title,\n  value,\n  options\n}) => {\n  return /* @__PURE__ */ React.createElement(MetadataTableItem, {\n    title: options && options.titleFormat ? options.titleFormat(title) : startCase(title)\n  }, /* @__PURE__ */ React.createElement(ItemValue, {\n    value,\n    options\n  }));\n};\nfunction mapToItems(info, options) {\n  return Object.keys(info).map((key) => /* @__PURE__ */ React.createElement(TableItem, {\n    key,\n    title: key,\n    value: info[key],\n    options\n  }));\n}\nconst StructuredMetadataTable = ({\n  metadata,\n  dense = true,\n  options\n}) => {\n  const metadataItems = mapToItems(metadata, options || {});\n  return /* @__PURE__ */ React.createElement(MetadataTable, {\n    dense\n  }, metadataItems);\n};\n\nconst useStyles$u = makeStyles((theme) => ({\n  leftIcon: {\n    marginRight: theme.spacing(1)\n  },\n  popoverList: {\n    minWidth: 260,\n    maxWidth: 400\n  }\n}));\nconst SupportIcon = ({icon}) => {\n  var _a;\n  const app = useApp();\n  const Icon = icon ? (_a = app.getSystemIcon(icon)) != null ? _a : HelpIcon : HelpIcon;\n  return /* @__PURE__ */ React.createElement(Icon, null);\n};\nconst SupportLink = ({link}) => {\n  var _a;\n  return /* @__PURE__ */ React.createElement(Link, {\n    to: link.url,\n    target: \"_blank\",\n    rel: \"noreferrer noopener\"\n  }, (_a = link.title) != null ? _a : link.url);\n};\nconst SupportListItem = ({item}) => {\n  var _a;\n  return /* @__PURE__ */ React.createElement(ListItem, null, /* @__PURE__ */ React.createElement(ListItemIcon, null, /* @__PURE__ */ React.createElement(SupportIcon, {\n    icon: item.icon\n  })), /* @__PURE__ */ React.createElement(ListItemText, {\n    primary: item.title,\n    secondary: (_a = item.links) == null ? void 0 : _a.reduce((prev, link, idx) => [\n      ...prev,\n      idx > 0 && /* @__PURE__ */ React.createElement(\"br\", {\n        key: idx\n      }),\n      /* @__PURE__ */ React.createElement(SupportLink, {\n        link,\n        key: link.url\n      })\n    ], [])\n  }));\n};\nconst SupportButton = ({children}) => {\n  const {items} = useSupportConfig();\n  const [popoverOpen, setPopoverOpen] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const classes = useStyles$u();\n  const onClickHandler = (event) => {\n    setAnchorEl(event.currentTarget);\n    setPopoverOpen(true);\n  };\n  const popoverCloseHandler = () => {\n    setPopoverOpen(false);\n  };\n  return /* @__PURE__ */ React.createElement(Fragment, null, /* @__PURE__ */ React.createElement(Button$1, {\n    \"data-testid\": \"support-button\",\n    color: \"primary\",\n    onClick: onClickHandler\n  }, /* @__PURE__ */ React.createElement(HelpIcon, {\n    className: classes.leftIcon\n  }), \"Support\"), /* @__PURE__ */ React.createElement(Popover, {\n    \"data-testid\": \"support-button-popover\",\n    open: popoverOpen,\n    anchorEl,\n    anchorOrigin: {\n      vertical: \"bottom\",\n      horizontal: \"right\"\n    },\n    transformOrigin: {\n      vertical: \"top\",\n      horizontal: \"right\"\n    },\n    onClose: popoverCloseHandler\n  }, /* @__PURE__ */ React.createElement(List, {\n    className: classes.popoverList\n  }, React.Children.map(children, (child, i) => /* @__PURE__ */ React.createElement(ListItem, {\n    alignItems: \"flex-start\",\n    key: i\n  }, child)), items && items.map((item, i) => /* @__PURE__ */ React.createElement(SupportListItem, {\n    item,\n    key: i\n  }))), /* @__PURE__ */ React.createElement(DialogActions, null, /* @__PURE__ */ React.createElement(Button$1, {\n    color: \"primary\",\n    onClick: popoverCloseHandler\n  }, \"Close\"))));\n};\n\nconst useStyles$v = makeStyles((theme) => ({\n  root: {\n    gridArea: \"pageContent\",\n    minWidth: 0,\n    paddingTop: theme.spacing(3),\n    paddingBottom: theme.spacing(3),\n    ...theme.mixins.gutters({})\n  },\n  stretch: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    flexGrow: 1\n  },\n  noPadding: {\n    padding: 0\n  }\n}));\nconst Content = ({\n  className,\n  stretch,\n  noPadding,\n  children,\n  ...props\n}) => {\n  const classes = useStyles$v();\n  return /* @__PURE__ */ React.createElement(\"article\", {\n    ...props,\n    className: classNames(classes.root, className, {\n      [classes.stretch]: stretch,\n      [classes.noPadding]: noPadding\n    })\n  }, children);\n};\n\nconst useStyles$w = (props) => makeStyles((theme) => ({\n  container: {\n    width: \"100%\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    justifyContent: \"flex-end\",\n    alignItems: \"center\",\n    marginBottom: theme.spacing(1),\n    textAlign: props.textAlign\n  },\n  leftItemsBox: {\n    flex: \"1 1 auto\",\n    marginBottom: theme.spacing(1),\n    minWidth: 0,\n    overflow: \"visible\"\n  },\n  rightItemsBox: {\n    flex: \"0 1 auto\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    alignItems: \"center\",\n    marginLeft: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n    minWidth: 0,\n    overflow: \"visible\"\n  },\n  description: {},\n  title: {\n    display: \"inline-flex\"\n  }\n}));\nconst DefaultTitle = ({\n  title = \"Unknown page\",\n  className\n}) => /* @__PURE__ */ React.createElement(Typography, {\n  variant: \"h4\",\n  component: \"h2\",\n  className,\n  \"data-testid\": \"header-title\"\n}, title);\nconst ContentHeader = ({\n  description,\n  title,\n  titleComponent: TitleComponent = void 0,\n  children,\n  textAlign = \"left\"\n}) => {\n  const classes = useStyles$w({textAlign})();\n  const renderedTitle = TitleComponent ? /* @__PURE__ */ React.createElement(TitleComponent, null) : /* @__PURE__ */ React.createElement(DefaultTitle, {\n    title,\n    className: classes.title\n  });\n  return /* @__PURE__ */ React.createElement(Fragment, null, /* @__PURE__ */ React.createElement(Helmet, {\n    title\n  }), /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.container\n  }, /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.leftItemsBox\n  }, renderedTitle, description && /* @__PURE__ */ React.createElement(Typography, {\n    className: classes.description,\n    variant: \"body2\"\n  }, description)), /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.rightItemsBox\n  }, children)));\n};\n\nconst ClickableText = withStyles({\n  root: {\n    textDecoration: \"underline\",\n    cursor: \"pointer\"\n  }\n})(Typography);\nconst StyledBox = withStyles({\n  root: {\n    textDecoration: \"underline\",\n    color: \"inherit\"\n  }\n})(Box$1);\nconst Breadcrumbs = ({children, ...props}) => {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const childrenArray = React.Children.toArray(children);\n  const [firstPage, secondPage, ...expandablePages] = childrenArray;\n  const currentPage = expandablePages.length ? expandablePages.pop() : childrenArray[childrenArray.length - 1];\n  const hasHiddenBreadcrumbs = childrenArray.length > 3;\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  const open = Boolean(anchorEl);\n  return /* @__PURE__ */ React.createElement(Fragment, null, /* @__PURE__ */ React.createElement(Breadcrumbs$1, {\n    \"aria-label\": \"breadcrumb\",\n    ...props\n  }, childrenArray.length > 1 && /* @__PURE__ */ React.createElement(StyledBox, {\n    clone: true\n  }, firstPage), childrenArray.length > 2 && /* @__PURE__ */ React.createElement(StyledBox, {\n    clone: true\n  }, secondPage), hasHiddenBreadcrumbs && /* @__PURE__ */ React.createElement(ClickableText, {\n    onClick: handleClick\n  }, \"...\"), /* @__PURE__ */ React.createElement(Box$1, {\n    style: {fontStyle: \"italic\"}\n  }, currentPage)), /* @__PURE__ */ React.createElement(Popover, {\n    open,\n    anchorEl,\n    onClose: handleClose,\n    anchorOrigin: {\n      vertical: \"bottom\",\n      horizontal: \"left\"\n    },\n    transformOrigin: {\n      vertical: \"top\",\n      horizontal: \"left\"\n    }\n  }, /* @__PURE__ */ React.createElement(List, null, expandablePages.map((pageLink, index) => /* @__PURE__ */ React.createElement(ListItem, {\n    key: index,\n    button: true\n  }, /* @__PURE__ */ React.createElement(StyledBox, {\n    clone: true\n  }, pageLink))))));\n};\n\nconst useStyles$x = makeStyles((theme) => ({\n  header: {\n    gridArea: \"pageHeader\",\n    padding: theme.spacing(3),\n    minHeight: 118,\n    width: \"100%\",\n    boxShadow: \"0 0 8px 3px rgba(20, 20, 20, 0.3)\",\n    position: \"relative\",\n    zIndex: 100,\n    display: \"flex\",\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    justifyContent: \"flex-end\",\n    alignItems: \"center\",\n    backgroundImage: theme.page.backgroundImage,\n    backgroundPosition: \"center\",\n    backgroundSize: \"cover\"\n  },\n  leftItemsBox: {\n    flex: \"1 1 auto\"\n  },\n  rightItemsBox: {\n    flex: \"0 1 auto\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    alignItems: \"center\",\n    marginRight: theme.spacing(1)\n  },\n  title: {\n    color: theme.palette.bursts.fontColor,\n    lineHeight: \"1.0em\",\n    wordBreak: \"break-all\",\n    fontSize: \"calc(24px + 6 * ((100vw - 320px) / 680))\",\n    marginBottom: theme.spacing(1)\n  },\n  subtitle: {\n    color: \"rgba(255, 255, 255, 0.8)\",\n    lineHeight: \"1.0em\"\n  },\n  type: {\n    textTransform: \"uppercase\",\n    fontSize: 11,\n    opacity: 0.8,\n    marginBottom: theme.spacing(1),\n    color: theme.palette.bursts.fontColor\n  },\n  breadcrumb: {\n    fontSize: \"calc(15px + 1 * ((100vw - 320px) / 680))\",\n    color: theme.palette.bursts.fontColor\n  },\n  breadcrumbType: {\n    fontSize: \"inherit\",\n    opacity: 0.7,\n    marginRight: -theme.spacing(0.3),\n    marginBottom: theme.spacing(0.3)\n  },\n  breadcrumbTitle: {\n    fontSize: \"inherit\",\n    marginLeft: -theme.spacing(0.3),\n    marginBottom: theme.spacing(0.3)\n  }\n}));\nconst TypeFragment = ({\n  type,\n  typeLink,\n  classes,\n  pageTitle\n}) => {\n  if (!type) {\n    return null;\n  }\n  if (!typeLink) {\n    return /* @__PURE__ */ React.createElement(Typography, {\n      className: classes.type\n    }, type);\n  }\n  return /* @__PURE__ */ React.createElement(Breadcrumbs, {\n    className: classes.breadcrumb\n  }, /* @__PURE__ */ React.createElement(Link, {\n    to: typeLink\n  }, type), /* @__PURE__ */ React.createElement(Typography, null, pageTitle));\n};\nconst TitleFragment = ({pageTitle, classes, tooltip}) => {\n  const FinalTitle = /* @__PURE__ */ React.createElement(Typography, {\n    className: classes.title,\n    variant: \"h1\"\n  }, pageTitle);\n  if (!tooltip) {\n    return FinalTitle;\n  }\n  return /* @__PURE__ */ React.createElement(Tooltip, {\n    title: tooltip,\n    placement: \"top-start\"\n  }, FinalTitle);\n};\nconst SubtitleFragment = ({classes, subtitle}) => {\n  if (!subtitle) {\n    return null;\n  }\n  if (typeof subtitle !== \"string\") {\n    return /* @__PURE__ */ React.createElement(React.Fragment, null, subtitle);\n  }\n  return /* @__PURE__ */ React.createElement(Typography, {\n    className: classes.subtitle,\n    variant: \"subtitle2\",\n    component: \"span\"\n  }, subtitle);\n};\nconst Header = ({\n  children,\n  pageTitleOverride,\n  style,\n  subtitle,\n  title,\n  tooltip,\n  type,\n  typeLink\n}) => {\n  const classes = useStyles$x();\n  const documentTitle = pageTitleOverride || title;\n  const pageTitle = title || pageTitleOverride;\n  const titleTemplate = `${documentTitle} | %s | Backstage`;\n  const defaultTitle = `${documentTitle} | Backstage`;\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Helmet, {\n    titleTemplate,\n    defaultTitle\n  }), /* @__PURE__ */ React.createElement(\"header\", {\n    style,\n    className: classes.header\n  }, /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.leftItemsBox\n  }, /* @__PURE__ */ React.createElement(TypeFragment, {\n    classes,\n    type,\n    typeLink,\n    pageTitle\n  }), /* @__PURE__ */ React.createElement(TitleFragment, {\n    classes,\n    pageTitle,\n    tooltip\n  }), /* @__PURE__ */ React.createElement(SubtitleFragment, {\n    classes,\n    subtitle\n  })), /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.rightItemsBox\n  }, children)));\n};\n\nconst useStyles$y = makeStyles((theme) => ({\n  root: {\n    textAlign: \"left\",\n    margin: theme.spacing(2),\n    display: \"inline-block\"\n  },\n  label: {\n    color: \"#FFFFFF\",\n    fontWeight: \"bold\",\n    lineHeight: \"16px\",\n    letterSpacing: 0,\n    fontSize: 14,\n    height: \"16px\",\n    marginBottom: 2\n  },\n  value: {\n    color: \"rgba(255, 255, 255, 0.8)\",\n    lineHeight: \"16px\",\n    fontSize: 14,\n    height: \"16px\"\n  }\n}));\nconst HeaderLabelContent = ({value, className}) => /* @__PURE__ */ React.createElement(Typography, {\n  className\n}, value);\nconst HeaderLabel = ({label, value, url}) => {\n  const classes = useStyles$y();\n  const content = /* @__PURE__ */ React.createElement(HeaderLabelContent, {\n    className: classes.value,\n    value: value || \"<Unknown>\"\n  });\n  return /* @__PURE__ */ React.createElement(\"span\", {\n    className: classes.root\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    className: classes.label\n  }, label), url ? /* @__PURE__ */ React.createElement(Link$1, {\n    href: url\n  }, content) : content);\n};\n\nconst useStyles$z = makeStyles((theme) => ({\n  tabsWrapper: {\n    gridArea: \"pageSubheader\",\n    backgroundColor: theme.palette.background.paper,\n    paddingLeft: theme.spacing(3)\n  },\n  defaultTab: {\n    padding: theme.spacing(3, 3),\n    ...theme.typography.caption,\n    textTransform: \"uppercase\",\n    fontWeight: \"bold\",\n    color: theme.palette.text.secondary\n  },\n  selected: {\n    color: theme.palette.text.primary\n  }\n}));\nconst HeaderTabs = ({\n  tabs,\n  onChange,\n  selectedIndex\n}) => {\n  const [selectedTab, setSelectedTab] = useState(selectedIndex != null ? selectedIndex : 0);\n  const styles = useStyles$z();\n  const handleChange = (_, index) => {\n    if (selectedIndex === void 0) {\n      setSelectedTab(index);\n    }\n    if (onChange)\n      onChange(index);\n  };\n  useEffect(() => {\n    if (selectedIndex !== void 0) {\n      setSelectedTab(selectedIndex);\n    }\n  }, [selectedIndex]);\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: styles.tabsWrapper\n  }, /* @__PURE__ */ React.createElement(Tabs$1, {\n    indicatorColor: \"primary\",\n    textColor: \"inherit\",\n    variant: \"scrollable\",\n    scrollButtons: \"auto\",\n    \"aria-label\": \"scrollable auto tabs example\",\n    onChange: handleChange,\n    value: selectedTab\n  }, tabs.map((tab, index) => /* @__PURE__ */ React.createElement(Tab, {\n    ...tab.tabProps,\n    label: tab.label,\n    key: tab.id,\n    value: index,\n    className: styles.defaultTab,\n    classes: {selected: styles.selected}\n  }))));\n};\n\nconst timeFormat = {\n  hour: \"2-digit\",\n  minute: \"2-digit\"\n};\nfunction getTimes(configApi) {\n  const d = new Date();\n  const lang = window.navigator.language;\n  const clocks = [];\n  if (!configApi.has(\"homepage.clocks\")) {\n    return clocks;\n  }\n  const clockConfigs = configApi.getConfigArray(\"homepage.clocks\");\n  for (const clock of clockConfigs) {\n    if (clock.has(\"label\") && clock.has(\"timezone\")) {\n      let label = clock.getString(\"label\");\n      const options = {\n        timeZone: clock.getString(\"timezone\"),\n        ...timeFormat\n      };\n      try {\n        new Date().toLocaleString(lang, options);\n      } catch (e) {\n        console.warn(`The timezone ${options.timeZone} is invalid. Defaulting to GMT`);\n        options.timeZone = \"GMT\";\n        label = \"GMT\";\n      }\n      const time = d.toLocaleTimeString(lang, options);\n      clocks.push({time, label});\n    }\n  }\n  return clocks;\n}\nconst HomepageTimer = () => {\n  const configApi = useApi(configApiRef);\n  const defaultTimes = [];\n  const [clocks, setTimes] = React.useState(defaultTimes);\n  React.useEffect(() => {\n    setTimes(getTimes(configApi));\n    const intervalId = setInterval(() => {\n      setTimes(getTimes(configApi));\n    }, 1e3);\n    return () => {\n      clearInterval(intervalId);\n    };\n  }, [configApi]);\n  if (clocks.length !== 0) {\n    return /* @__PURE__ */ React.createElement(React.Fragment, null, clocks.map((clock) => /* @__PURE__ */ React.createElement(HeaderLabel, {\n      label: clock.label,\n      value: clock.time,\n      key: clock.label\n    })));\n  }\n  return null;\n};\n\nconst styles = (theme) => createStyles({\n  root: {\n    color: theme.palette.common.white,\n    padding: theme.spacing(2, 2, 3),\n    backgroundImage: \"linear-gradient(-137deg,  #4BB8A5 0%,  #187656 100%)\",\n    backgroundPosition: 0,\n    backgroundSize: \"inherit\"\n  }\n});\nconst useStyles$A = makeStyles(styles);\nconst ItemCardHeader = (props) => {\n  const {title, subtitle, children} = props;\n  const classes = useStyles$A(props);\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.root\n  }, subtitle && /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"subtitle2\",\n    component: \"h3\"\n  }, subtitle), title && /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"h6\",\n    component: \"h4\"\n  }, title), children);\n};\n\nconst ItemCard = ({\n  description,\n  tags,\n  title,\n  type,\n  subtitle,\n  label,\n  onClick,\n  href\n}) => {\n  return /* @__PURE__ */ React.createElement(Card, null, /* @__PURE__ */ React.createElement(CardMedia, null, /* @__PURE__ */ React.createElement(ItemCardHeader, {\n    title,\n    subtitle: subtitle || type\n  })), /* @__PURE__ */ React.createElement(CardContent, null, (tags == null ? void 0 : tags.length) ? /* @__PURE__ */ React.createElement(Box$1, null, tags.map((tag, i) => /* @__PURE__ */ React.createElement(Chip, {\n    size: \"small\",\n    label: tag,\n    key: i\n  }))) : null, description), /* @__PURE__ */ React.createElement(CardActions, null, !href && /* @__PURE__ */ React.createElement(Button, {\n    to: \"#\",\n    onClick,\n    color: \"primary\"\n  }, label), href && /* @__PURE__ */ React.createElement(Button, {\n    to: href,\n    color: \"primary\"\n  }, label)));\n};\n\nconst styles$1 = (theme) => createStyles({\n  root: {\n    display: \"grid\",\n    gridTemplateColumns: \"repeat(auto-fill, minmax(22em, 1fr))\",\n    gridAutoRows: \"1fr\",\n    gridGap: theme.spacing(2)\n  }\n});\nconst useStyles$B = makeStyles(styles$1);\nconst ItemCardGrid = (props) => {\n  const {children, ...otherProps} = props;\n  const classes = useStyles$B(otherProps);\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    role: \"grid\",\n    className: classes.root,\n    ...otherProps\n  }, children);\n};\n\nconst useStyles$C = makeStyles(() => ({\n  root: {\n    display: \"grid\",\n    gridTemplateAreas: \"'pageHeader pageHeader pageHeader' 'pageSubheader pageSubheader pageSubheader' 'pageNav pageContent pageSidebar'\",\n    gridTemplateRows: \"auto auto 1fr\",\n    gridTemplateColumns: \"auto 1fr auto\",\n    minHeight: \"100vh\"\n  }\n}));\nconst Page = ({themeId, children}) => {\n  const classes = useStyles$C();\n  return /* @__PURE__ */ React.createElement(ThemeProvider, {\n    theme: (baseTheme) => ({\n      ...baseTheme,\n      page: baseTheme.getPageTheme({themeId})\n    })\n  }, /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.root\n  }, children));\n};\n\nconst drawerWidthClosed = 72;\nconst iconPadding = 24;\nconst userBadgePadding = 18;\nconst sidebarConfig = {\n  drawerWidthClosed,\n  drawerWidthOpen: 224,\n  defaultOpenDelayMs: 300,\n  defaultCloseDelayMs: 0,\n  defaultFadeDuration: 200,\n  logoHeight: 32,\n  iconContainerWidth: drawerWidthClosed,\n  iconSize: drawerWidthClosed - iconPadding * 2,\n  iconPadding,\n  selectedIndicatorWidth: 3,\n  userBadgePadding,\n  userBadgeDiameter: drawerWidthClosed - userBadgePadding * 2\n};\nconst SIDEBAR_INTRO_LOCAL_STORAGE = \"@backstage/core/sidebar-intro-dismissed\";\nconst SidebarContext = createContext({\n  isOpen: false\n});\n\nvar LocalStorageKeys;\n(function(LocalStorageKeys2) {\n  LocalStorageKeys2[\"SIDEBAR_PIN_STATE\"] = \"sidebarPinState\";\n})(LocalStorageKeys || (LocalStorageKeys = {}));\nconst LocalStorage = {\n  getSidebarPinState() {\n    let value;\n    try {\n      value = JSON.parse(window.localStorage.getItem(LocalStorageKeys.SIDEBAR_PIN_STATE) || \"false\");\n    } catch {\n      return false;\n    }\n    return !!value;\n  },\n  setSidebarPinState(state) {\n    return window.localStorage.setItem(LocalStorageKeys.SIDEBAR_PIN_STATE, JSON.stringify(state));\n  }\n};\n\nconst useStyles$D = makeStyles({\n  root: {\n    width: \"100%\",\n    minHeight: \"100%\",\n    transition: \"padding-left 0.1s ease-out\",\n    paddingLeft: ({isPinned}) => isPinned ? sidebarConfig.drawerWidthOpen : sidebarConfig.drawerWidthClosed\n  }\n});\nconst SidebarPinStateContext = createContext({\n  isPinned: false,\n  toggleSidebarPinState: () => {\n  }\n});\nconst SidebarPage = (props) => {\n  const [isPinned, setIsPinned] = useState(() => LocalStorage.getSidebarPinState());\n  useEffect(() => {\n    LocalStorage.setSidebarPinState(isPinned);\n  }, [isPinned]);\n  const toggleSidebarPinState = () => setIsPinned(!isPinned);\n  const classes = useStyles$D({isPinned});\n  return /* @__PURE__ */ React.createElement(SidebarPinStateContext.Provider, {\n    value: {\n      isPinned,\n      toggleSidebarPinState\n    }\n  }, /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.root\n  }, props.children));\n};\n\nconst useStyles$E = makeStyles((theme) => ({\n  root: {\n    zIndex: 1e3,\n    position: \"relative\",\n    overflow: \"visible\",\n    width: theme.spacing(7) + 1\n  },\n  drawer: {\n    display: \"flex\",\n    flexFlow: \"column nowrap\",\n    alignItems: \"flex-start\",\n    position: \"fixed\",\n    left: 0,\n    top: 0,\n    bottom: 0,\n    padding: 0,\n    background: theme.palette.navigation.background,\n    overflowX: \"hidden\",\n    msOverflowStyle: \"none\",\n    scrollbarWidth: \"none\",\n    width: sidebarConfig.drawerWidthClosed,\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.shortest\n    }),\n    \"& > *\": {\n      flexShrink: 0\n    },\n    \"&::-webkit-scrollbar\": {\n      display: \"none\"\n    }\n  },\n  drawerOpen: {\n    width: sidebarConfig.drawerWidthOpen,\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.shorter\n    })\n  },\n  drawerPeek: {\n    width: sidebarConfig.drawerWidthClosed + 4\n  }\n}));\nvar State;\n(function(State2) {\n  State2[State2[\"Closed\"] = 0] = \"Closed\";\n  State2[State2[\"Peek\"] = 1] = \"Peek\";\n  State2[State2[\"Open\"] = 2] = \"Open\";\n})(State || (State = {}));\nconst Sidebar = ({\n  openDelayMs = sidebarConfig.defaultOpenDelayMs,\n  closeDelayMs = sidebarConfig.defaultCloseDelayMs,\n  children\n}) => {\n  const classes = useStyles$E();\n  const [state, setState] = useState(0);\n  const hoverTimerRef = useRef();\n  const {isPinned} = useContext(SidebarPinStateContext);\n  const handleOpen = () => {\n    if (isPinned) {\n      return;\n    }\n    if (hoverTimerRef.current) {\n      clearTimeout(hoverTimerRef.current);\n      hoverTimerRef.current = void 0;\n    }\n    if (state !== 2) {\n      hoverTimerRef.current = window.setTimeout(() => {\n        hoverTimerRef.current = void 0;\n        setState(2);\n      }, openDelayMs);\n      setState(1);\n    }\n  };\n  const handleClose = () => {\n    if (isPinned) {\n      return;\n    }\n    if (hoverTimerRef.current) {\n      clearTimeout(hoverTimerRef.current);\n      hoverTimerRef.current = void 0;\n    }\n    if (state === 1) {\n      setState(0);\n    } else if (state === 2) {\n      hoverTimerRef.current = window.setTimeout(() => {\n        hoverTimerRef.current = void 0;\n        setState(0);\n      }, closeDelayMs);\n    }\n  };\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.root,\n    onMouseEnter: handleOpen,\n    onFocus: handleOpen,\n    onMouseLeave: handleClose,\n    onBlur: handleClose,\n    \"data-testid\": \"sidebar-root\"\n  }, /* @__PURE__ */ React.createElement(SidebarContext.Provider, {\n    value: {\n      isOpen: state === 2 || isPinned\n    }\n  }, /* @__PURE__ */ React.createElement(\"div\", {\n    className: clsx(classes.drawer, {\n      [classes.drawerPeek]: state === 1,\n      [classes.drawerOpen]: state === 2 || isPinned\n    })\n  }, children)));\n};\n\nconst useStyles$F = makeStyles((theme) => {\n  const {\n    selectedIndicatorWidth,\n    drawerWidthClosed,\n    drawerWidthOpen,\n    iconContainerWidth,\n    iconSize\n  } = sidebarConfig;\n  return {\n    root: {\n      color: theme.palette.navigation.color,\n      display: \"flex\",\n      flexFlow: \"row nowrap\",\n      alignItems: \"center\",\n      height: 48,\n      cursor: \"pointer\"\n    },\n    buttonItem: {\n      background: \"none\",\n      border: \"none\",\n      width: \"auto\",\n      margin: 0,\n      padding: 0,\n      textAlign: \"inherit\",\n      font: \"inherit\"\n    },\n    closed: {\n      width: drawerWidthClosed,\n      justifyContent: \"center\"\n    },\n    open: {\n      width: drawerWidthOpen\n    },\n    label: {\n      fontWeight: \"bold\",\n      whiteSpace: \"nowrap\",\n      lineHeight: \"auto\",\n      flex: \"3 1 auto\",\n      width: \"110px\",\n      overflow: \"hidden\",\n      \"text-overflow\": \"ellipsis\"\n    },\n    iconContainer: {\n      boxSizing: \"border-box\",\n      height: \"100%\",\n      width: iconContainerWidth,\n      marginRight: -theme.spacing(2),\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\"\n    },\n    icon: {\n      width: iconSize,\n      height: iconSize\n    },\n    searchRoot: {\n      marginBottom: 12\n    },\n    searchField: {\n      color: \"#b5b5b5\",\n      fontWeight: \"bold\",\n      fontSize: theme.typography.fontSize\n    },\n    searchContainer: {\n      width: drawerWidthOpen - iconContainerWidth\n    },\n    secondaryAction: {\n      width: theme.spacing(6),\n      textAlign: \"center\",\n      marginRight: theme.spacing(1)\n    },\n    selected: {\n      \"&$root\": {\n        borderLeft: `solid ${selectedIndicatorWidth}px ${theme.palette.navigation.indicator}`,\n        color: theme.palette.navigation.selectedColor\n      },\n      \"&$closed\": {\n        width: drawerWidthClosed - selectedIndicatorWidth\n      },\n      \"& $iconContainer\": {\n        marginLeft: -selectedIndicatorWidth\n      }\n    }\n  };\n});\nfunction isButtonItem(props) {\n  return props.to === void 0;\n}\nconst SidebarItem = forwardRef((props, ref) => {\n  const {\n    icon: Icon,\n    text,\n    hasNotifications = false,\n    onClick,\n    children,\n    className,\n    ...navLinkProps\n  } = props;\n  const classes = useStyles$F();\n  const {isOpen} = useContext(SidebarContext);\n  const itemIcon = /* @__PURE__ */ React.createElement(Badge, {\n    color: \"secondary\",\n    variant: \"dot\",\n    overlap: \"circle\",\n    invisible: !hasNotifications\n  }, /* @__PURE__ */ React.createElement(Icon, {\n    fontSize: \"small\",\n    className: classes.icon\n  }));\n  const closedContent = itemIcon;\n  const openContent = /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\"div\", {\n    \"data-testid\": \"login-button\",\n    className: classes.iconContainer\n  }, itemIcon), text && /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"subtitle2\",\n    className: classes.label\n  }, text), /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.secondaryAction\n  }, children));\n  const content = isOpen ? openContent : closedContent;\n  const childProps = {\n    onClick,\n    className: clsx(className, classes.root, isOpen ? classes.open : classes.closed, isButtonItem(props) && classes.buttonItem)\n  };\n  if (isButtonItem(props)) {\n    return /* @__PURE__ */ React.createElement(\"button\", {\n      ...childProps,\n      ref\n    }, content);\n  }\n  return /* @__PURE__ */ React.createElement(NavLink, {\n    ...childProps,\n    activeClassName: classes.selected,\n    to: props.to,\n    ref,\n    ...navLinkProps\n  }, content);\n});\nconst SidebarSearchField = (props) => {\n  const [input, setInput] = useState(\"\");\n  const classes = useStyles$F();\n  const search = () => {\n    props.onSearch(input);\n    setInput(\"\");\n  };\n  const handleEnter = (ev) => {\n    if (ev.key === \"Enter\") {\n      search();\n    }\n  };\n  const handleInput = (ev) => {\n    setInput(ev.target.value);\n  };\n  const handleInputClick = (ev) => {\n    ev.preventDefault();\n    ev.stopPropagation();\n  };\n  const handleItemClick = (ev) => {\n    search();\n    ev.preventDefault();\n  };\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.searchRoot\n  }, /* @__PURE__ */ React.createElement(SidebarItem, {\n    icon: SearchIcon,\n    to: props.to,\n    onClick: handleItemClick\n  }, /* @__PURE__ */ React.createElement(TextField, {\n    placeholder: \"Search\",\n    value: input,\n    onClick: handleInputClick,\n    onChange: handleInput,\n    onKeyDown: handleEnter,\n    className: classes.searchContainer,\n    InputProps: {\n      disableUnderline: true,\n      className: classes.searchField\n    }\n  })));\n};\nconst SidebarSpace = styled(\"div\")({\n  flex: 1\n});\nconst SidebarSpacer = styled(\"div\")({\n  height: 8\n});\nconst SidebarDivider = styled(\"hr\")({\n  height: 1,\n  width: \"100%\",\n  background: \"#383838\",\n  border: \"none\",\n  margin: \"12px 0px\"\n});\n\nconst useStyles$G = makeStyles((theme) => ({\n  introCard: {\n    color: \"#b5b5b5\",\n    fontSize: 12,\n    width: sidebarConfig.drawerWidthOpen,\n    marginTop: 18,\n    marginBottom: 12,\n    paddingLeft: sidebarConfig.iconPadding,\n    paddingRight: sidebarConfig.iconPadding\n  },\n  introDismiss: {\n    display: \"flex\",\n    justifyContent: \"flex-end\",\n    alignItems: \"center\",\n    marginTop: 12\n  },\n  introDismissLink: {\n    color: \"#dddddd\",\n    display: \"flex\",\n    alignItems: \"center\",\n    marginBottom: 4,\n    \"&:hover\": {\n      color: theme.palette.linkHover,\n      transition: theme.transitions.create(\"color\", {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.shortest\n      })\n    }\n  },\n  introDismissText: {\n    fontSize: \"0.7rem\",\n    fontWeight: \"bold\",\n    textTransform: \"uppercase\",\n    letterSpacing: 1\n  },\n  introDismissIcon: {\n    width: 18,\n    height: 18,\n    marginRight: 12\n  }\n}));\nconst IntroCard = (props) => {\n  const classes = useStyles$G();\n  const {text, onClose} = props;\n  const handleClose = () => onClose();\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.introCard\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"subtitle2\"\n  }, text), /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.introDismiss\n  }, /* @__PURE__ */ React.createElement(Link$1, {\n    component: \"button\",\n    onClick: handleClose,\n    underline: \"none\",\n    className: classes.introDismissLink\n  }, /* @__PURE__ */ React.createElement(CloseIcon, {\n    className: classes.introDismissIcon\n  }), /* @__PURE__ */ React.createElement(Typography, {\n    component: \"span\",\n    className: classes.introDismissText\n  }, \"Dismiss\"))));\n};\nconst SidebarIntroCard = (props) => {\n  const {text, onDismiss} = props;\n  const [collapsing, setCollapsing] = useState(false);\n  const startDismissing = () => {\n    setCollapsing(true);\n  };\n  return /* @__PURE__ */ React.createElement(Collapse, {\n    in: !collapsing,\n    onExited: onDismiss\n  }, /* @__PURE__ */ React.createElement(IntroCard, {\n    text,\n    onClose: startDismissing\n  }));\n};\nconst starredIntroText = `Fun fact! As you explore all the awesome plugins in Backstage, you can actually pin them to this side nav.\nKeep an eye out for the little star icon (\\u2B50) next to the plugin name and give it a click!`;\nconst recentlyViewedIntroText = \"And your recently viewed plugins will pop up here!\";\nconst SidebarIntro = () => {\n  const {isOpen} = useContext(SidebarContext);\n  const defaultValue = {\n    starredItemsDismissed: false,\n    recentlyViewedItemsDismissed: false\n  };\n  const [\n    dismissedIntro,\n    setDismissedIntro\n  ] = useLocalStorage(SIDEBAR_INTRO_LOCAL_STORAGE);\n  const {starredItemsDismissed, recentlyViewedItemsDismissed} = dismissedIntro != null ? dismissedIntro : {};\n  const dismissStarred = () => {\n    setDismissedIntro((state) => ({\n      ...defaultValue,\n      ...state,\n      starredItemsDismissed: true\n    }));\n  };\n  const dismissRecentlyViewed = () => {\n    setDismissedIntro((state) => ({\n      ...defaultValue,\n      ...state,\n      recentlyViewedItemsDismissed: true\n    }));\n  };\n  if (!isOpen) {\n    return null;\n  }\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, !starredItemsDismissed && /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(SidebarIntroCard, {\n    text: starredIntroText,\n    onDismiss: dismissStarred\n  }), /* @__PURE__ */ React.createElement(SidebarDivider, null)), !recentlyViewedItemsDismissed && /* @__PURE__ */ React.createElement(SidebarIntroCard, {\n    text: recentlyViewedIntroText,\n    onDismiss: dismissRecentlyViewed\n  }));\n};\n\nconst useStyles$H = makeStyles({\n  container: {\n    padding: 0,\n    listStyle: \"none\"\n  },\n  item: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    width: \"100%\",\n    maxWidth: \"400px\",\n    margin: 0,\n    padding: 0\n  }\n});\nconst GridItem = ({children}) => {\n  const classes = useStyles$H();\n  return /* @__PURE__ */ React.createElement(Grid, {\n    component: \"li\",\n    item: true,\n    classes\n  }, children);\n};\n\nconst Component = ({config, onResult}) => {\n  const {apiRef, title, message} = config;\n  const authApi = useApi(apiRef);\n  const errorApi = useApi(errorApiRef);\n  const handleLogin = async () => {\n    try {\n      const identity = await authApi.getBackstageIdentity({\n        instantPopup: true\n      });\n      const profile = await authApi.getProfile();\n      onResult({\n        userId: identity.id,\n        profile,\n        getIdToken: () => {\n          return authApi.getBackstageIdentity().then((i) => i.idToken);\n        },\n        signOut: async () => {\n          await authApi.signOut();\n        }\n      });\n    } catch (error) {\n      errorApi.post(error);\n    }\n  };\n  return /* @__PURE__ */ React.createElement(GridItem, null, /* @__PURE__ */ React.createElement(InfoCard, {\n    variant: \"fullHeight\",\n    title,\n    actions: /* @__PURE__ */ React.createElement(Button$1, {\n      color: \"primary\",\n      variant: \"outlined\",\n      onClick: handleLogin\n    }, \"Sign In\")\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"body1\"\n  }, message)));\n};\nconst loader = async (apis, apiRef) => {\n  const authApi = apis.get(apiRef);\n  const identity = await authApi.getBackstageIdentity({\n    optional: true\n  });\n  if (!identity) {\n    return void 0;\n  }\n  const profile = await authApi.getProfile();\n  return {\n    userId: identity.id,\n    profile,\n    getIdToken: () => authApi.getBackstageIdentity().then((i) => i.idToken),\n    signOut: async () => {\n      await authApi.signOut();\n    }\n  };\n};\nconst commonProvider = {Component, loader};\n\nconst result = {\n  userId: \"guest\",\n  profile: {\n    email: \"guest@example.com\",\n    displayName: \"Guest\"\n  }\n};\nconst Component$1 = ({onResult}) => /* @__PURE__ */ React.createElement(GridItem, null, /* @__PURE__ */ React.createElement(InfoCard, {\n  title: \"Guest\",\n  variant: \"fullHeight\",\n  actions: /* @__PURE__ */ React.createElement(Button$1, {\n    color: \"primary\",\n    variant: \"outlined\",\n    onClick: () => onResult(result)\n  }, \"Enter\")\n}, /* @__PURE__ */ React.createElement(Typography, {\n  variant: \"body1\"\n}, \"Enter as a Guest User.\", /* @__PURE__ */ React.createElement(\"br\", null), \"You will not have a verified identity,\", /* @__PURE__ */ React.createElement(\"br\", null), \"meaning some features might be unavailable.\")));\nconst loader$1 = async () => {\n  return result;\n};\nconst guestProvider = {Component: Component$1, loader: loader$1};\n\nconst ID_TOKEN_REGEX = /^[a-z0-9_\\-]+\\.[a-z0-9_\\-]+\\.[a-z0-9_\\-]+$/i;\nconst useFormStyles = makeStyles((theme) => ({\n  form: {\n    display: \"flex\",\n    flexFlow: \"column nowrap\"\n  },\n  button: {\n    alignSelf: \"center\",\n    marginTop: theme.spacing(2)\n  }\n}));\nconst Component$2 = ({onResult}) => {\n  const classes = useFormStyles();\n  const {register, handleSubmit, errors, formState} = useForm({\n    mode: \"onChange\"\n  });\n  const handleResult = ({userId, idToken}) => {\n    onResult({\n      userId,\n      profile: {\n        email: `${userId}@example.com`\n      },\n      getIdToken: idToken ? async () => idToken : void 0\n    });\n  };\n  return /* @__PURE__ */ React.createElement(GridItem, null, /* @__PURE__ */ React.createElement(InfoCard, {\n    title: \"Custom User\",\n    variant: \"fullHeight\"\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"body1\"\n  }, \"Enter your own User ID and credentials.\", /* @__PURE__ */ React.createElement(\"br\", null), \"This selection will not be stored.\"), /* @__PURE__ */ React.createElement(\"form\", {\n    className: classes.form,\n    onSubmit: handleSubmit(handleResult)\n  }, /* @__PURE__ */ React.createElement(FormControl, null, /* @__PURE__ */ React.createElement(TextField, {\n    name: \"userId\",\n    label: \"User ID\",\n    margin: \"normal\",\n    error: Boolean(errors.userId),\n    inputRef: register({required: true})\n  }), errors.userId && /* @__PURE__ */ React.createElement(FormHelperText, {\n    error: true\n  }, errors.userId.message)), /* @__PURE__ */ React.createElement(FormControl, null, /* @__PURE__ */ React.createElement(TextField, {\n    name: \"idToken\",\n    label: \"ID Token (optional)\",\n    margin: \"normal\",\n    autoComplete: \"off\",\n    error: Boolean(errors.idToken),\n    inputRef: register({\n      required: false,\n      validate: (token) => !token || ID_TOKEN_REGEX.test(token) || \"Token is not a valid OpenID Connect JWT Token\"\n    })\n  }), errors.idToken && /* @__PURE__ */ React.createElement(FormHelperText, {\n    error: true\n  }, errors.idToken.message)), /* @__PURE__ */ React.createElement(Button$1, {\n    type: \"submit\",\n    color: \"primary\",\n    variant: \"outlined\",\n    className: classes.button,\n    disabled: !(formState == null ? void 0 : formState.isDirty) || !isEmpty(errors)\n  }, \"Continue\"))));\n};\nconst loader$2 = async () => void 0;\nconst customProvider = {Component: Component$2, loader: loader$2};\n\nconst PROVIDER_STORAGE_KEY = \"@backstage/core:SignInPage:provider\";\nconst signInProviders = {\n  guest: guestProvider,\n  custom: customProvider,\n  common: commonProvider\n};\nfunction validateIDs(id, providers) {\n  if (id in providers)\n    throw new Error(`\"${id}\" ID is duplicated. IDs of identity providers have to be unique.`);\n}\nfunction getSignInProviders(identityProviders) {\n  const providers = identityProviders.reduce((acc, config) => {\n    if (typeof config === \"string\") {\n      validateIDs(config, acc);\n      acc[config] = {components: signInProviders[config], id: config};\n      return acc;\n    }\n    const {id} = config;\n    validateIDs(id, acc);\n    acc[id] = {components: signInProviders.common, id, config};\n    return acc;\n  }, {});\n  return providers;\n}\nconst useSignInProviders = (providers, onResult) => {\n  const errorApi = useApi(errorApiRef);\n  const apiHolder = useApiHolder();\n  const [loading, setLoading] = useState(true);\n  const handleWrappedResult = useCallback((result) => {\n    onResult({\n      ...result,\n      signOut: async () => {\n        var _a;\n        localStorage.removeItem(PROVIDER_STORAGE_KEY);\n        await ((_a = result.signOut) == null ? void 0 : _a.call(result));\n      }\n    });\n  }, [onResult]);\n  useLayoutEffect(() => {\n    var _a;\n    if (!loading) {\n      return void 0;\n    }\n    const selectedProviderId = localStorage.getItem(PROVIDER_STORAGE_KEY);\n    if (selectedProviderId === null) {\n      setLoading(false);\n      return void 0;\n    }\n    const provider = providers[selectedProviderId];\n    if (!provider) {\n      setLoading(false);\n      return void 0;\n    }\n    let didCancel = false;\n    provider.components.loader(apiHolder, (_a = provider.config) == null ? void 0 : _a.apiRef).then((result) => {\n      if (didCancel) {\n        return;\n      }\n      if (result) {\n        handleWrappedResult(result);\n      } else {\n        setLoading(false);\n      }\n    }).catch((error) => {\n      if (didCancel) {\n        return;\n      }\n      errorApi.post(error);\n      setLoading(false);\n    });\n    return () => {\n      didCancel = true;\n    };\n  }, [loading, errorApi, onResult, apiHolder, providers, handleWrappedResult]);\n  const elements = useMemo(() => Object.keys(providers).map((key) => {\n    const provider = providers[key];\n    const {Component} = provider.components;\n    const handleResult = (result) => {\n      localStorage.setItem(PROVIDER_STORAGE_KEY, provider.id);\n      handleWrappedResult(result);\n    };\n    return /* @__PURE__ */ React.createElement(Component, {\n      key: provider.id,\n      config: provider.config,\n      onResult: handleResult\n    });\n  }), [providers, handleWrappedResult]);\n  return [loading, elements];\n};\n\nconst MultiSignInPage = ({\n  onResult,\n  providers = [],\n  title,\n  align = \"left\"\n}) => {\n  const configApi = useApi(configApiRef);\n  const classes = useStyles$H();\n  const signInProviders = getSignInProviders(providers);\n  const [loading, providerElements] = useSignInProviders(signInProviders, onResult);\n  if (loading) {\n    return /* @__PURE__ */ React.createElement(Progress, null);\n  }\n  return /* @__PURE__ */ React.createElement(Page, {\n    themeId: \"home\"\n  }, /* @__PURE__ */ React.createElement(Header, {\n    title: configApi.getString(\"app.title\")\n  }), /* @__PURE__ */ React.createElement(Content, null, title && /* @__PURE__ */ React.createElement(ContentHeader, {\n    title,\n    textAlign: align\n  }), /* @__PURE__ */ React.createElement(Grid, {\n    container: true,\n    justify: align === \"center\" ? align : \"flex-start\",\n    spacing: 2,\n    component: \"ul\",\n    classes\n  }, providerElements)));\n};\nconst SingleSignInPage = ({\n  onResult,\n  provider,\n  auto\n}) => {\n  const classes = useStyles$H();\n  const authApi = useApi(provider.apiRef);\n  const configApi = useApi(configApiRef);\n  const [retry, setRetry] = useState(auto);\n  const [error, setError] = useState();\n  useEffect(() => {\n    const login = async () => {\n      const identity = await authApi.getBackstageIdentity({\n        instantPopup: true\n      });\n      const profile = await authApi.getProfile();\n      onResult({\n        userId: identity.id,\n        profile,\n        getIdToken: () => {\n          return authApi.getBackstageIdentity().then((i) => i.idToken);\n        },\n        signOut: async () => {\n          await authApi.signOut();\n        }\n      });\n    };\n    if (retry) {\n      login().catch(setError);\n    }\n  }, [onResult, authApi, retry]);\n  return /* @__PURE__ */ React.createElement(Page, {\n    themeId: \"home\"\n  }, /* @__PURE__ */ React.createElement(Header, {\n    title: configApi.getString(\"app.title\")\n  }), /* @__PURE__ */ React.createElement(Content, null, /* @__PURE__ */ React.createElement(Grid, {\n    container: true,\n    justify: \"center\",\n    spacing: 2,\n    component: \"ul\",\n    classes\n  }, /* @__PURE__ */ React.createElement(GridItem, null, /* @__PURE__ */ React.createElement(InfoCard, {\n    variant: \"fullHeight\",\n    title: provider.title,\n    actions: /* @__PURE__ */ React.createElement(Button$1, {\n      color: \"primary\",\n      variant: \"outlined\",\n      onClick: () => setRetry({})\n    }, \"Sign In\")\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"body1\"\n  }, provider.message), error && error.name !== \"PopupRejectedError\" && /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"body1\",\n    color: \"error\"\n  }, error.message))))));\n};\nconst SignInPage = (props) => {\n  if (\"provider\" in props) {\n    return /* @__PURE__ */ React.createElement(SingleSignInPage, {\n      ...props\n    });\n  }\n  return /* @__PURE__ */ React.createElement(MultiSignInPage, {\n    ...props\n  });\n};\n\nconst useTabsStyles = makeStyles((theme) => ({\n  root: {\n    padding: theme.spacing(0, 2, 0, 2.5),\n    minHeight: theme.spacing(3)\n  },\n  indicator: {\n    backgroundColor: theme.palette.info.main,\n    height: theme.spacing(0.3)\n  }\n}));\nconst BoldHeader = withStyles((theme) => ({\n  root: {padding: theme.spacing(2, 2, 2, 2.5), display: \"inline-block\"},\n  title: {fontWeight: 700},\n  subheader: {paddingTop: theme.spacing(1)}\n}))(CardHeader);\nconst TabbedCard = ({\n  slackChannel = \"#backstage\",\n  children,\n  title,\n  deepLink,\n  value,\n  onChange\n}) => {\n  const tabsClasses = useTabsStyles();\n  const [selectedIndex, selectIndex] = useState(0);\n  const handleChange = onChange ? onChange : (_ev, newSelectedIndex) => selectIndex(newSelectedIndex);\n  let selectedTabContent;\n  if (!value) {\n    React.Children.map(children, (child, index) => {\n      if (index === selectedIndex)\n        selectedTabContent = child == null ? void 0 : child.props.children;\n    });\n  } else {\n    React.Children.map(children, (child) => {\n      if ((child == null ? void 0 : child.props.value) === value)\n        selectedTabContent = child == null ? void 0 : child.props.children;\n    });\n  }\n  return /* @__PURE__ */ React.createElement(Card, null, /* @__PURE__ */ React.createElement(ErrorBoundary, {\n    slackChannel\n  }, title && /* @__PURE__ */ React.createElement(BoldHeader, {\n    title\n  }), /* @__PURE__ */ React.createElement(Tabs$1, {\n    classes: tabsClasses,\n    value: value || selectedIndex,\n    onChange: handleChange\n  }, children), /* @__PURE__ */ React.createElement(Divider, null), /* @__PURE__ */ React.createElement(CardContent, null, selectedTabContent), deepLink && /* @__PURE__ */ React.createElement(BottomLink, {\n    ...deepLink\n  })));\n};\nconst useCardTabStyles = makeStyles((theme) => ({\n  root: {\n    minWidth: theme.spacing(6),\n    minHeight: theme.spacing(3),\n    margin: theme.spacing(0, 2, 0, 0),\n    padding: theme.spacing(0.5, 0, 0.5, 0),\n    textTransform: \"none\"\n  },\n  selected: {\n    fontWeight: \"bold\"\n  }\n}));\nconst CardTab = ({children, ...props}) => {\n  const classes = useCardTabStyles();\n  return /* @__PURE__ */ React.createElement(Tab, {\n    disableRipple: true,\n    classes,\n    ...props\n  });\n};\n\nfunction useSelectedSubRoute(subRoutes) {\n  var _a, _b, _c;\n  const params = useParams();\n  const routes = subRoutes.map(({path, children}) => ({\n    caseSensitive: false,\n    path: `${path}/*`,\n    element: children\n  }));\n  const element = (_a = useRoutes(routes)) != null ? _a : subRoutes[0].children;\n  const [matchedRoute] = (_b = matchRoutes(routes, `/${params[\"*\"]}`)) != null ? _b : [];\n  const foundIndex = matchedRoute ? subRoutes.findIndex((t) => `${t.path}/*` === matchedRoute.route.path) : 0;\n  return {\n    index: foundIndex === -1 ? 0 : foundIndex,\n    element,\n    route: (_c = subRoutes[foundIndex]) != null ? _c : subRoutes[0]\n  };\n}\nconst RoutedTabs = ({routes}) => {\n  const navigate = useNavigate();\n  const {index, route, element} = useSelectedSubRoute(routes);\n  const headerTabs = useMemo(() => routes.map((t) => ({\n    id: t.path,\n    label: t.title,\n    tabProps: t.tabProps\n  })), [routes]);\n  const onTabChange = (tabIndex) => navigate(routes[tabIndex].path.replace(/\\/\\*$/, \"\").replace(/^\\//, \"\"));\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(HeaderTabs, {\n    tabs: headerTabs,\n    selectedIndex: index,\n    onChange: onTabChange\n  }), /* @__PURE__ */ React.createElement(Content, null, /* @__PURE__ */ React.createElement(Helmet, {\n    title: route.title\n  }), element));\n};\n\nconst Route = () => null;\nattachComponentData(Route, \"core.gatherMountPoints\", true);\nfunction createSubRoutesFromChildren(childrenProps) {\n  const routeType = (/* @__PURE__ */ React.createElement(Route, {\n    path: \"\",\n    title: \"\"\n  }, /* @__PURE__ */ React.createElement(\"div\", null))).type;\n  return Children.toArray(childrenProps).flatMap((child) => {\n    if (!isValidElement(child)) {\n      return [];\n    }\n    if (child.type === Fragment) {\n      return createSubRoutesFromChildren(child.props.children);\n    }\n    if (child.type !== routeType) {\n      throw new Error(\"Child of TabbedLayout must be an TabbedLayout.Route\");\n    }\n    const {path, title, children, tabProps} = child.props;\n    return [{path, title, children, tabProps}];\n  });\n}\nconst TabbedLayout = ({children}) => {\n  const routes = createSubRoutesFromChildren(children);\n  return /* @__PURE__ */ React.createElement(RoutedTabs, {\n    routes\n  });\n};\nTabbedLayout.Route = Route;\n\nconst useSubvalueCellStyles = makeStyles((theme) => ({\n  value: {\n    marginBottom: \"6px\"\n  },\n  subvalue: {\n    color: theme.palette.textSubtle,\n    fontWeight: \"normal\"\n  }\n}));\nconst SubvalueCell = ({value, subvalue}) => {\n  const classes = useSubvalueCellStyles();\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.value\n  }, value), /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.subvalue\n  }, subvalue));\n};\n\nconst useStyles$I = makeStyles$1((theme) => createStyles$1({\n  root: {\n    width: \"100%\",\n    minWidth: 10,\n    maxWidth: 360,\n    backgroundColor: \"transparent\",\n    \"&:hover\": {\n      backgroundColor: \"transparent\"\n    },\n    \"&:active\": {\n      animation: \"none\",\n      transform: \"none\"\n    }\n  },\n  nested: {\n    paddingLeft: theme.spacing(5),\n    height: \"32px\",\n    \"&:hover\": {\n      backgroundColor: \"transparent\"\n    }\n  },\n  listItemIcon: {\n    minWidth: 10\n  },\n  listItem: {\n    \"&:hover\": {\n      backgroundColor: \"transparent\"\n    }\n  },\n  text: {\n    \"& span, & svg\": {\n      fontWeight: \"normal\",\n      fontSize: 14\n    }\n  }\n}));\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"checkOption\": {\n      return produce(state, (newState) => {\n        const category = newState[action.payload.subCategoryLabel];\n        const option = category.options[action.payload.optionLabel];\n        option.isChecked = !option.isChecked;\n        category.isChecked = Object.values(category.options).every((o) => o.isChecked);\n      });\n    }\n    case \"checkCategory\": {\n      return produce(state, (newState) => {\n        const category = newState[action.payload];\n        const options = category.options;\n        category.isChecked = !category.isChecked;\n        for (const option in options) {\n          options[option].isChecked = category.isChecked;\n        }\n      });\n    }\n    case \"toggleCategory\":\n      return produce(state, (newState) => {\n        const category = newState[action.payload];\n        category.isOpen = !category.isOpen;\n      });\n    case \"triggerReset\": {\n      return produce(state, (newState) => {\n        for (const category in newState) {\n          newState[category].isChecked = false;\n          for (const option in newState[category].options) {\n            newState[category].options[option].isChecked = newState[category].isChecked;\n          }\n        }\n      });\n    }\n    case \"updateCategories\": {\n      return produce(state, (newState) => {\n        for (const category in newState) {\n          delete newState[category];\n        }\n        for (const category in action.payload) {\n          newState[category] = action.payload[category];\n          if (state[category]) {\n            newState[category].isChecked = state[category].isChecked;\n            newState[category].isOpen = state[category].isOpen;\n          }\n        }\n      });\n    }\n    case \"updateSelected\": {\n      return produce(state, (newState) => {\n        var _a;\n        for (const category in newState) {\n          const selection = action.payload.find((s) => s.category === category);\n          if (selection) {\n            newState[category].isChecked = true;\n            for (const option in newState[category].options) {\n              newState[category].options[option].isChecked = ((_a = selection.selectedChildren) == null ? void 0 : _a.includes(option)) || false;\n            }\n          }\n        }\n      });\n    }\n    default:\n      return state;\n  }\n};\nconst indexer = (arr) => arr.reduce((accumulator, el) => {\n  if (el.options) {\n    return {\n      ...accumulator,\n      [el.label]: {\n        label: el.label,\n        isChecked: el.isChecked || false,\n        isOpen: false,\n        options: indexer(el.options)\n      }\n    };\n  }\n  return {\n    ...accumulator,\n    [el.label]: {...el, isChecked: el.isChecked || false}\n  };\n}, {});\nconst CheckboxTree = ({\n  subCategories,\n  label,\n  selected,\n  onChange,\n  triggerReset\n}) => {\n  const classes = useStyles$I();\n  const [state, dispatch] = useReducer(reducer, indexer(subCategories));\n  const handleOpen = (event, value) => {\n    event.stopPropagation();\n    dispatch({type: \"toggleCategory\", payload: value});\n  };\n  const previousSubCategories = usePrevious(subCategories);\n  useEffect(() => {\n    const values = Object.values(state).map((category) => ({\n      category: category.isChecked ? category.label : void 0,\n      selectedChildren: Object.values(category.options).filter((option) => option.isChecked).map((option) => option.label)\n    }));\n    onChange(values);\n  }, [state]);\n  useEffect(() => {\n    dispatch({type: \"triggerReset\"});\n  }, [triggerReset]);\n  useEffect(() => {\n    if (selected) {\n      dispatch({type: \"updateSelected\", payload: selected});\n    }\n  }, [selected]);\n  useEffect(() => {\n    if (!isEqual(subCategories, previousSubCategories)) {\n      dispatch({\n        type: \"updateCategories\",\n        payload: indexer(subCategories)\n      });\n    }\n  }, [subCategories, previousSubCategories]);\n  return /* @__PURE__ */ React.createElement(\"div\", null, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"button\"\n  }, label), /* @__PURE__ */ React.createElement(List, {\n    className: classes.root\n  }, Object.values(state).map((item) => /* @__PURE__ */ React.createElement(\"div\", {\n    key: item.label\n  }, /* @__PURE__ */ React.createElement(ListItem, {\n    className: classes.listItem,\n    dense: true,\n    button: true,\n    onClick: () => dispatch({\n      type: \"checkCategory\",\n      payload: item.label\n    })\n  }, /* @__PURE__ */ React.createElement(ListItemIcon, {\n    className: classes.listItemIcon\n  }, /* @__PURE__ */ React.createElement(Checkbox, {\n    color: \"primary\",\n    edge: \"start\",\n    checked: item.isChecked,\n    tabIndex: -1,\n    disableRipple: true\n  })), /* @__PURE__ */ React.createElement(ListItemText, {\n    className: classes.text,\n    primary: item.label\n  }), Object.values(item.options).length ? /* @__PURE__ */ React.createElement(React.Fragment, null, item.isOpen ? /* @__PURE__ */ React.createElement(ExpandLess, {\n    \"data-testid\": \"expandable\",\n    onClick: (event) => handleOpen(event, item.label)\n  }) : /* @__PURE__ */ React.createElement(ExpandMoreIcon, {\n    \"data-testid\": \"expandable\",\n    onClick: (event) => handleOpen(event, item.label)\n  })) : null), /* @__PURE__ */ React.createElement(Collapse, {\n    in: item.isOpen,\n    timeout: \"auto\",\n    unmountOnExit: true\n  }, /* @__PURE__ */ React.createElement(List, {\n    component: \"div\",\n    disablePadding: true\n  }, Object.values(item.options).map((option) => /* @__PURE__ */ React.createElement(ListItem, {\n    button: true,\n    key: option.label,\n    className: classes.nested,\n    onClick: () => dispatch({\n      type: \"checkOption\",\n      payload: {\n        subCategoryLabel: item.label,\n        optionLabel: option.label\n      }\n    })\n  }, /* @__PURE__ */ React.createElement(ListItemIcon, {\n    className: classes.listItemIcon\n  }, /* @__PURE__ */ React.createElement(Checkbox, {\n    color: \"primary\",\n    edge: \"start\",\n    checked: option.isChecked,\n    tabIndex: -1,\n    disableRipple: true\n  })), /* @__PURE__ */ React.createElement(ListItemText, {\n    className: classes.text,\n    primary: option.label\n  })))))))));\n};\n\nconst useSubvalueCellStyles$1 = makeStyles((theme) => ({\n  root: {\n    height: \"100%\",\n    width: \"315px\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginRight: theme.spacing(3)\n  },\n  value: {\n    fontWeight: \"bold\",\n    fontSize: 18\n  },\n  header: {\n    display: \"flex\",\n    alignItems: \"center\",\n    height: \"60px\",\n    justifyContent: \"space-between\",\n    borderBottom: `1px solid ${theme.palette.grey[500]}`\n  },\n  filters: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    \"& > *\": {\n      marginTop: theme.spacing(2)\n    }\n  }\n}));\nconst Filters = (props) => {\n  var _a;\n  const classes = useSubvalueCellStyles$1();\n  const {onChangeFilters} = props;\n  const [selectedFilters, setSelectedFilters] = useState({\n    ...props.selectedFilters\n  });\n  const [reset, triggerReset] = useState(false);\n  const handleClick = () => {\n    setSelectedFilters({});\n    triggerReset((el) => !el);\n  };\n  useEffect(() => {\n    onChangeFilters(selectedFilters);\n  }, [selectedFilters, onChangeFilters]);\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.root\n  }, /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.header\n  }, /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.value\n  }, \"Filters\"), /* @__PURE__ */ React.createElement(Button$1, {\n    color: \"primary\",\n    onClick: handleClick\n  }, \"Clear all\")), /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.filters\n  }, ((_a = props.filters) == null ? void 0 : _a.length) && props.filters.map((filter) => filter.type === \"checkbox-tree\" ? /* @__PURE__ */ React.createElement(CheckboxTree, {\n    triggerReset: reset,\n    key: filter.element.label,\n    ...filter.element,\n    selected: selectedFilters[filter.element.label] ? selectedFilters[filter.element.label].map((s) => ({\n      category: s\n    })) : void 0,\n    onChange: (el) => setSelectedFilters({\n      ...selectedFilters,\n      [filter.element.label]: el.filter((checkboxFilter) => checkboxFilter.category || checkboxFilter.selectedChildren.length).map((checkboxFilter) => checkboxFilter.category ? [\n        ...checkboxFilter.selectedChildren,\n        checkboxFilter.category\n      ] : checkboxFilter.selectedChildren).flat()\n    })\n  }) : /* @__PURE__ */ React.createElement(SelectComponent, {\n    triggerReset: reset,\n    key: filter.element.label,\n    ...filter.element,\n    selected: selectedFilters[filter.element.label],\n    onChange: (el) => setSelectedFilters({\n      ...selectedFilters,\n      [filter.element.label]: el\n    })\n  }))));\n};\n\nconst tableIcons = {\n  Add: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(AddBox, {\n    ...props,\n    ref\n  })),\n  Check: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(Check, {\n    ...props,\n    ref\n  })),\n  Clear: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(Clear, {\n    ...props,\n    ref\n  })),\n  Delete: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(DeleteOutline, {\n    ...props,\n    ref\n  })),\n  DetailPanel: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(ChevronRight, {\n    ...props,\n    ref\n  })),\n  Edit: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(Edit, {\n    ...props,\n    ref\n  })),\n  Export: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(SaveAlt, {\n    ...props,\n    ref\n  })),\n  Filter: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(FilterList, {\n    ...props,\n    ref\n  })),\n  FirstPage: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(FirstPage, {\n    ...props,\n    ref\n  })),\n  LastPage: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(LastPage, {\n    ...props,\n    ref\n  })),\n  NextPage: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(ChevronRight, {\n    ...props,\n    ref\n  })),\n  PreviousPage: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(ChevronLeftIcon, {\n    ...props,\n    ref\n  })),\n  ResetSearch: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(Clear, {\n    ...props,\n    ref\n  })),\n  Search: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(SearchIcon, {\n    ...props,\n    ref\n  })),\n  SortArrow: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(ArrowUpward, {\n    ...props,\n    ref\n  })),\n  ThirdStateCheck: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(Remove, {\n    ...props,\n    ref\n  })),\n  ViewColumn: forwardRef((props, ref) => /* @__PURE__ */ React.createElement(ViewColumn, {\n    ...props,\n    ref\n  }))\n};\nfunction extractValueByField(data, field) {\n  const path = field.split(\".\");\n  let value = data[path[0]];\n  for (let i = 1; i < path.length; ++i) {\n    if (value === void 0) {\n      return value;\n    }\n    const f = path[i];\n    value = value[f];\n  }\n  return value;\n}\nconst StyledMTableHeader = withStyles((theme) => ({\n  header: {\n    padding: theme.spacing(1, 2, 1, 2.5),\n    borderTop: `1px solid ${theme.palette.grey.A100}`,\n    borderBottom: `1px solid ${theme.palette.grey.A100}`,\n    color: theme.palette.textSubtle,\n    fontWeight: theme.typography.fontWeightBold,\n    position: \"static\",\n    wordBreak: \"normal\"\n  }\n}))(MTableHeader);\nconst StyledMTableToolbar = withStyles((theme) => ({\n  root: {\n    padding: theme.spacing(3, 0, 2.5, 2.5)\n  },\n  title: {\n    \"& > h6\": {\n      fontWeight: \"bold\"\n    }\n  },\n  searchField: {\n    paddingRight: theme.spacing(2)\n  }\n}))(MTableToolbar);\nconst useFilterStyles = makeStyles(() => ({\n  root: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\"\n  },\n  title: {\n    fontWeight: \"bold\",\n    fontSize: 18,\n    whiteSpace: \"nowrap\"\n  }\n}));\nconst useTableStyles = makeStyles(() => ({\n  root: {\n    display: \"flex\",\n    alignItems: \"start\"\n  }\n}));\nfunction convertColumns(columns, theme) {\n  return columns.map((column) => {\n    const headerStyle = {};\n    const cellStyle = typeof column.cellStyle === \"object\" ? column.cellStyle : {};\n    if (column.highlight) {\n      headerStyle.color = theme.palette.textContrast;\n      cellStyle.fontWeight = theme.typography.fontWeightBold;\n    }\n    return {\n      ...column,\n      headerStyle,\n      cellStyle\n    };\n  });\n}\nfunction removeDefaultValues(state, defaultState) {\n  return transform(state, (result, value, key) => {\n    if (!isEqual(value, defaultState[key])) {\n      result[key] = value;\n    }\n  });\n}\nconst defaultInitialState = {\n  search: \"\",\n  filtersOpen: false,\n  filters: {}\n};\nfunction TableToolbar(toolbarProps) {\n  const {\n    toolbarRef,\n    setSearch,\n    hasFilters,\n    selectedFiltersLength,\n    toggleFilters\n  } = toolbarProps;\n  const filtersClasses = useFilterStyles();\n  const onSearchChanged = useCallback((searchText) => {\n    toolbarProps.onSearchChanged(searchText);\n    setSearch(searchText);\n  }, [toolbarProps, setSearch]);\n  if (hasFilters) {\n    return /* @__PURE__ */ React.createElement(\"div\", {\n      className: filtersClasses.root\n    }, /* @__PURE__ */ React.createElement(\"div\", {\n      className: filtersClasses.root\n    }, /* @__PURE__ */ React.createElement(IconButton, {\n      onClick: toggleFilters,\n      \"aria-label\": \"filter list\"\n    }, /* @__PURE__ */ React.createElement(FilterList, null)), /* @__PURE__ */ React.createElement(Typography, {\n      className: filtersClasses.title\n    }, \"Filters (\", selectedFiltersLength, \")\")), /* @__PURE__ */ React.createElement(StyledMTableToolbar, {\n      ...toolbarProps,\n      ref: toolbarRef,\n      onSearchChanged\n    }));\n  }\n  return /* @__PURE__ */ React.createElement(StyledMTableToolbar, {\n    ...toolbarProps,\n    ref: toolbarRef,\n    onSearchChanged\n  });\n}\nfunction Table({\n  columns,\n  options,\n  title,\n  subtitle,\n  filters,\n  initialState,\n  emptyContent,\n  onStateChange,\n  ...props\n}) {\n  const tableClasses = useTableStyles();\n  const {data, ...propsWithoutData} = props;\n  const theme = useTheme();\n  const calculatedInitialState = {...defaultInitialState, ...initialState};\n  const [filtersOpen, setFiltersOpen] = useState(calculatedInitialState.filtersOpen);\n  const toggleFilters = useCallback(() => setFiltersOpen((v) => !v), [\n    setFiltersOpen\n  ]);\n  const [selectedFiltersLength, setSelectedFiltersLength] = useState(0);\n  const [tableData, setTableData] = useState(data);\n  const [selectedFilters, setSelectedFilters] = useState(calculatedInitialState.filters);\n  const MTColumns = convertColumns(columns, theme);\n  const [search, setSearch] = useState(calculatedInitialState.search);\n  const toolbarRef = useRef();\n  useEffect(() => {\n    if (toolbarRef.current) {\n      toolbarRef.current.onSearchChange(search);\n    }\n  }, [search, toolbarRef]);\n  useEffect(() => {\n    if (onStateChange) {\n      const state = removeDefaultValues({\n        search,\n        filtersOpen,\n        filters: selectedFilters\n      }, defaultInitialState);\n      onStateChange(state);\n    }\n  }, [search, filtersOpen, selectedFilters, onStateChange]);\n  const defaultOptions = {\n    headerStyle: {\n      textTransform: \"uppercase\"\n    }\n  };\n  const getFieldByTitle = useCallback((titleValue) => {\n    var _a;\n    return (_a = columns.find((el) => el.title === titleValue)) == null ? void 0 : _a.field;\n  }, [columns]);\n  useEffect(() => {\n    if (typeof data === \"function\") {\n      return;\n    }\n    if (!selectedFilters) {\n      setTableData(data);\n      return;\n    }\n    const selectedFiltersArray = Object.values(selectedFilters);\n    if (data && selectedFiltersArray.flat().length) {\n      const newData = data.filter((el) => !!Object.entries(selectedFilters).filter(([, value]) => !!value.length).every(([key, filterValue]) => {\n        const fieldValue = extractValueByField(el, getFieldByTitle(key));\n        if (Array.isArray(fieldValue) && Array.isArray(filterValue)) {\n          return fieldValue.some((v) => filterValue.includes(v));\n        } else if (Array.isArray(fieldValue)) {\n          return fieldValue.includes(filterValue);\n        } else if (Array.isArray(filterValue)) {\n          return filterValue.includes(fieldValue);\n        }\n        return fieldValue === filterValue;\n      }));\n      setTableData(newData);\n    } else {\n      setTableData(data);\n    }\n    setSelectedFiltersLength(selectedFiltersArray.flat().length);\n  }, [data, selectedFilters, getFieldByTitle]);\n  const constructFilters = (filterConfig, dataValue) => {\n    const extractDistinctValues = (field) => {\n      const distinctValues = new Set();\n      const addValue = (value) => {\n        if (value !== void 0 && value !== null) {\n          distinctValues.add(value);\n        }\n      };\n      if (dataValue) {\n        dataValue.forEach((el) => {\n          const value = extractValueByField(el, getFieldByTitle(field));\n          if (Array.isArray(value)) {\n            value.forEach(addValue);\n          } else {\n            addValue(value);\n          }\n        });\n      }\n      return distinctValues;\n    };\n    const constructCheckboxTree = (filter) => ({\n      label: filter.column,\n      subCategories: [...extractDistinctValues(filter.column)].map((v) => ({\n        label: v,\n        options: []\n      }))\n    });\n    const constructSelect = (filter) => {\n      return {\n        placeholder: \"All results\",\n        label: filter.column,\n        multiple: filter.type === \"multiple-select\",\n        items: [...extractDistinctValues(filter.column)].sort().map((value) => ({\n          label: value,\n          value\n        }))\n      };\n    };\n    return filterConfig.map((filter) => ({\n      type: filter.type,\n      element: filter.type === \"checkbox-tree\" ? constructCheckboxTree(filter) : constructSelect(filter)\n    }));\n  };\n  const hasFilters = !!(filters == null ? void 0 : filters.length);\n  const Toolbar = useCallback((toolbarProps) => {\n    return /* @__PURE__ */ React.createElement(TableToolbar, {\n      toolbarRef,\n      setSearch,\n      hasFilters,\n      selectedFiltersLength,\n      toggleFilters,\n      ...toolbarProps\n    });\n  }, [toggleFilters, hasFilters, selectedFiltersLength, setSearch, toolbarRef]);\n  const hasNoRows = typeof data !== \"function\" && data.length === 0;\n  const columnCount = columns.length;\n  const Body = useCallback((bodyProps) => {\n    if (emptyContent && hasNoRows) {\n      return /* @__PURE__ */ React.createElement(\"tbody\", null, /* @__PURE__ */ React.createElement(\"tr\", null, /* @__PURE__ */ React.createElement(\"td\", {\n        colSpan: columnCount\n      }, emptyContent)));\n    }\n    return /* @__PURE__ */ React.createElement(MTableBody, {\n      ...bodyProps\n    });\n  }, [hasNoRows, emptyContent, columnCount]);\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: tableClasses.root\n  }, filtersOpen && data && typeof data !== \"function\" && (filters == null ? void 0 : filters.length) && /* @__PURE__ */ React.createElement(Filters, {\n    filters: constructFilters(filters, data),\n    selectedFilters,\n    onChangeFilters: setSelectedFilters\n  }), /* @__PURE__ */ React.createElement(MTable, {\n    components: {\n      Header: StyledMTableHeader,\n      Toolbar,\n      Body\n    },\n    options: {...defaultOptions, ...options},\n    columns: MTColumns,\n    icons: tableIcons,\n    title: /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Typography, {\n      variant: \"h5\"\n    }, title), subtitle && /* @__PURE__ */ React.createElement(Typography, {\n      color: \"textSecondary\",\n      variant: \"body1\"\n    }, subtitle)),\n    data: typeof data === \"function\" ? data : tableData,\n    style: {width: \"100%\"},\n    ...propsWithoutData\n  }));\n}\n\nfunction chunkArray(array, chunkSize) {\n  if (chunkSize <= 0) {\n    return [array];\n  }\n  const result = [];\n  for (let i = 0; i < array.length; i += chunkSize) {\n    result.push(array.slice(i, i + chunkSize));\n  }\n  return result;\n}\n\nconst TabPanel = (props) => {\n  const {children, value, index, ...other} = props;\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    role: \"tabpanel\",\n    hidden: value !== index,\n    \"aria-labelledby\": `scrollable-auto-tab-${index}`,\n    ...other\n  }, value === index && /* @__PURE__ */ React.createElement(Box, {\n    p: 3\n  }, children));\n};\n\nconst useStyles$J = makeStyles(() => ({\n  root: {\n    color: \"#6E6E6E\",\n    overflow: \"visible\",\n    fontSize: \"1.5rem\",\n    textAlign: \"center\",\n    borderRadius: \"50%\",\n    backgroundColor: \"#E6E6E6\",\n    marginLeft: (props) => props.isNext ? \"auto\" : \"0\",\n    marginRight: (props) => props.isNext ? \"0\" : \"10px\",\n    \"&:hover\": {\n      backgroundColor: \"#E6E6E6\",\n      opacity: \"1\"\n    }\n  }\n}));\nconst StyledIcon = (props) => {\n  const classes = useStyles$J(props);\n  const {ariaLabel, onClick} = props;\n  return /* @__PURE__ */ React.createElement(IconButton, {\n    onClick,\n    className: classes.root,\n    size: \"small\",\n    disableRipple: true,\n    disableFocusRipple: true,\n    \"aria-label\": ariaLabel\n  }, props.children);\n};\n\nconst tabMarginLeft = (isFirstNav, isFirstIndex) => {\n  if (isFirstIndex) {\n    if (isFirstNav) {\n      return \"20px\";\n    }\n    return \"0\";\n  }\n  return \"40px\";\n};\nconst useStyles$K = makeStyles((theme) => ({\n  root: {\n    textTransform: \"none\",\n    height: \"64px\",\n    fontWeight: theme.typography.fontWeightBold,\n    fontSize: theme.typography.pxToRem(13),\n    color: theme.palette.textSubtle,\n    marginLeft: (props) => tabMarginLeft(props.isFirstNav, props.isFirstIndex),\n    width: \"130px\",\n    minWidth: \"130px\",\n    \"&:hover\": {\n      outline: \"none\",\n      backgroundColor: \"transparent\",\n      color: theme.palette.textSubtle\n    }\n  }\n}));\nconst StyledTab = (props) => {\n  const classes = useStyles$K(props);\n  const {isFirstNav, isFirstIndex, ...rest} = props;\n  return /* @__PURE__ */ React.createElement(Tab, {\n    className: classes.root,\n    disableRipple: true,\n    ...rest\n  });\n};\n\nconst useStyles$L = makeStyles((theme) => ({\n  indicator: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    backgroundColor: theme.palette.tabbar.indicator,\n    height: \"4px\"\n  },\n  flexContainer: {\n    alignItems: \"center\"\n  },\n  root: {\n    \"&:last-child\": {\n      marginLeft: \"auto\"\n    }\n  }\n}));\nconst StyledTabs = (props) => {\n  const classes = useStyles$L(props);\n  return /* @__PURE__ */ React.createElement(Tabs$1, {\n    classes,\n    ...props,\n    TabIndicatorProps: {children: /* @__PURE__ */ React.createElement(\"span\", null)}\n  });\n};\n\nconst useStyles$M = makeStyles$1((theme) => ({\n  root: {\n    flexGrow: 1,\n    width: \"100%\"\n  },\n  styledTabs: {\n    backgroundColor: theme.palette.background.paper\n  },\n  appbar: {\n    boxShadow: \"none\",\n    backgroundColor: theme.palette.background.paper,\n    paddingLeft: \"10px\",\n    paddingRight: \"10px\"\n  }\n}));\nconst Tabs = ({tabs}) => {\n  const classes = useStyles$M();\n  const [value, setValue] = useState([0, 0]);\n  const [navIndex, setNavIndex] = useState(0);\n  const [numberOfChunkedElement, setNumberOfChunkedElement] = useState(0);\n  const [chunkedTabs, setChunkedTabs] = useState([[]]);\n  const wrapper = useRef();\n  const {width} = useWindowSize();\n  const handleChange = (_, newValue) => {\n    setValue([navIndex, newValue]);\n  };\n  const navigateToPrevChunk = () => {\n    setNavIndex(navIndex - 1);\n  };\n  const navigateToNextChunk = () => {\n    setNavIndex(navIndex + 1);\n  };\n  const hasNextNavIndex = () => navIndex + 1 < chunkedTabs.length;\n  useEffect(() => {\n    const padding = 20;\n    const numberOfTabIcons = navIndex === 0 ? 1 : 2;\n    const wrapperWidth = wrapper.current.offsetWidth - padding - numberOfTabIcons * 30;\n    const flattenIndex = value[0] * numberOfChunkedElement + value[1];\n    const newChunkedElementSize = Math.floor(wrapperWidth / 170);\n    setNumberOfChunkedElement(newChunkedElementSize);\n    setChunkedTabs(chunkArray(tabs, newChunkedElementSize));\n    setValue([\n      Math.floor(flattenIndex / newChunkedElementSize),\n      flattenIndex % newChunkedElementSize\n    ]);\n  }, [width, tabs]);\n  const currentIndex = navIndex === value[0] ? value[1] : false;\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.root\n  }, /* @__PURE__ */ React.createElement(AppBar, {\n    ref: wrapper,\n    className: classes.appbar,\n    position: \"static\"\n  }, /* @__PURE__ */ React.createElement(\"div\", null, /* @__PURE__ */ React.createElement(StyledTabs, {\n    value: currentIndex,\n    onChange: handleChange\n  }, navIndex !== 0 && /* @__PURE__ */ React.createElement(StyledIcon, {\n    onClick: navigateToPrevChunk,\n    ariaLabel: \"navigate-before\"\n  }, /* @__PURE__ */ React.createElement(NavigateBeforeIcon, null)), chunkedTabs[navIndex].map((tab, index) => /* @__PURE__ */ React.createElement(StyledTab, {\n    value: index,\n    isFirstIndex: index === 0,\n    isFirstNav: navIndex === 0,\n    key: index,\n    icon: tab.icon || void 0,\n    label: tab.label || void 0\n  })), hasNextNavIndex() && /* @__PURE__ */ React.createElement(StyledIcon, {\n    isNext: true,\n    onClick: navigateToNextChunk,\n    ariaLabel: \"navigate-next\"\n  }, /* @__PURE__ */ React.createElement(NavigateNextIcon, null))))), currentIndex !== false ? chunkedTabs[navIndex].map((tab, index) => /* @__PURE__ */ React.createElement(TabPanel, {\n    key: index,\n    value: index,\n    index: currentIndex\n  }, tab.content)) : /* @__PURE__ */ React.createElement(TabPanel, {\n    key: \"panel_outside_chunked_array\",\n    value: value[1],\n    index: value[1]\n  }, chunkedTabs[value[0]][value[1]].content));\n};\n\nfunction color(data, theme) {\n  const lastNum = data[data.length - 1];\n  if (!lastNum)\n    return void 0;\n  if (lastNum >= 0.9)\n    return theme.palette.status.ok;\n  if (lastNum >= 0.5)\n    return theme.palette.status.warning;\n  return theme.palette.status.error;\n}\nconst TrendLine = (props) => {\n  var _a;\n  const theme = useTheme();\n  if (!props.data)\n    return null;\n  return /* @__PURE__ */ React.createElement(Sparklines, {\n    width: 120,\n    height: 30,\n    min: 0,\n    max: 1,\n    ...props\n  }, props.title && /* @__PURE__ */ React.createElement(\"title\", null, props.title), /* @__PURE__ */ React.createElement(SparklinesLine, {\n    color: (_a = props.color) != null ? _a : color(props.data, theme)\n  }));\n};\n\nexport { AlertDisplay, Avatar, Breadcrumbs, Button, CardTab, CodeSnippet, Content, ContentHeader, CopyTextButton, DependencyGraph, types as DependencyGraphTypes, DismissableBanner, EmptyState, ErrorBoundary, ErrorPage, FeatureCalloutCircular, Gauge, GaugeCard, Header, HeaderIconLinkRow, HeaderLabel, HeaderTabs, HomepageTimer, HorizontalScrollGrid, InfoCard, IntroCard, ItemCard, ItemCardGrid, ItemCardHeader, Lifecycle, LinearGauge, Link, MarkdownContent, MissingAnnotationEmptyState, OAuthRequestDialog, OverflowTooltip, Page, Progress, ResponseErrorDetails, ResponseErrorPanel, RoutedTabs, SIDEBAR_INTRO_LOCAL_STORAGE, SelectComponent as Select, Sidebar, SidebarContext, SidebarDivider, SidebarIntro, SidebarItem, SidebarPage, SidebarPinStateContext, SidebarSearchField, SidebarSpace, SidebarSpacer, SignInPage, SimpleStepper, SimpleStepperStep, StatusAborted, StatusError, StatusOK, StatusPending, StatusRunning, StatusWarning, StructuredMetadataTable, SubvalueCell, SupportButton, TabbedCard, TabbedLayout, Table, Tabs, TrendLine, WarningPanel, createApp, defaultConfigLoader, sidebarConfig, useQueryParamState, useSupportConfig };\n//# sourceMappingURL=index.esm.js.map\n","export default \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3NjUiIGhlaWdodD0iNTQ5IiBmaWxsPSJub25lIiB2aWV3Qm94PSIwIDAgNzY1IDU0OSI+PHBhdGggZmlsbD0iIzlCRjBFMSIgZD0iTTIzMy4yNTQgMTguMTEyM0MyODcuNjEzIDEyLjk0MDYgMzQ4Ljk1MyAtMTkuNzk0MSAzOTAuNzM3IDE3LjkwMzVDNDMzLjI2MiA1Ni4yNjgyIDQxOS44MyAxMjcuMzk2IDQyMC40OTUgMTg3LjAzOEM0MjEuMTczIDI0Ny44MzQgNDI5LjcyNCAzMTIuNjI2IDM5NC41NTUgMzYwLjI3MkMzNTYuMjcyIDQxMi4xMzcgMjk0Ljc4MiA0NDQuNDMzIDIzMy4yNTQgNDQwLjcwOUMxNzQuMDg4IDQzNy4xMjggMTMwLjc5MyAzODcuMDg0IDg5LjE2MTkgMzQxLjc5QzQ3LjkyNDcgMjk2LjkyNCAtMi41MDQ1NCAyNTAuMDE4IDAuMDk2NjI5NyAxODcuMDM4QzIuNjQ5ODggMTI1LjIxNyA1My42MzYyIDgwLjAzNzcgMTAxLjQwMiA0NS40MzA5QzEzOS45NzcgMTcuNDgyNyAxODYuOTAzIDIyLjUyMjEgMjMzLjI1NCAxOC4xMTIzWiIgY2xpcFJ1bGU9ImV2ZW5vZGQiIGZpbGxSdWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzY5RERDNyIgZD0iTTUxMy4zODUgMjAuNDQzOUM1NjYuNjkzIDE0Ljg5MzggNjEzLjgwOSA2Mi4zODY3IDY1MC43NDYgMTA2LjgxNEM2ODMuMjg1IDE0NS45NTIgNjg3Ljg0NyAyMDEuOTI5IDcwNS44MzIgMjUxLjkxOEM3MjUuOTAyIDMwNy42OTYgNzc3Ljc1NiAzNTguNjkyIDc2Mi4wOTcgNDE2LjI5OEM3NDYuNDU2IDQ3My44NDEgNjgyLjQ4NSA0OTAuMjkxIDYzNC40MTQgNTE0LjY1OEM1OTUuODQyIDUzNC4yMSA1NTUuNDkyIDUzOS43MDMgNTEzLjM4NSA1NDIuMzY5QzQ2OC41MDUgNTQ1LjIxMSA0MTguNTUgNTYxLjAwNiAzODIuMjQxIDUzMC42MjRDMzQ1Ljk0MyA1MDAuMjUxIDM1MS40NTYgNDM3Ljc0NSAzMzIuNTA5IDM5MS4wMjJDMzA5LjY1MyAzMzQuNjYgMjQ1LjkwNiAyODkuMjMzIDI2MC4wMTcgMjI5LjIxOEMyNzMuOTc5IDE2OS44MzUgMzQ5LjQ2OSAxNjkuNTM1IDM5My4wMjMgMTMzLjY0N0M0MzYuMjE4IDk4LjA1MzcgNDYwLjQxMyAyNS45NTkgNTEzLjM4NSAyMC40NDM5WiIgY2xpcFJ1bGU9ImV2ZW5vZGQiIGZpbGxSdWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzAwMCIgc3Ryb2tlPSIjMDAwIiBkPSJNNTg0LjM4NCAzMzEuMjYyTDYxOC40MzcgMzYyLjM3QzYyMC4wOTYgMzYzLjg4NiA2MjIuNjc3IDM2My43MzggNjI0LjE1MiAzNjIuMDQyTDYyNS43NDcgMzYwLjIwOUM2MjcuMjE2IDM1OC41MjEgNjI3LjAxNCAzNTUuOTU2IDYyNS4yOTkgMzU0LjUxOUw1OTAuMTgzIDMyNS4wNzZDNTg5LjQ1OSAzMjQuNDY5IDU4OC41MzQgMzI0LjA5MyA1ODcuNjA2IDMyNC4yNjZDNTg0LjQ0NCAzMjQuODU0IDU4My4zMTQgMzI3LjMyNSA1ODMuMzcxIDMyOS4zNTVDNTgzLjM5MiAzMzAuMTA1IDU4My44MyAzMzAuNzU2IDU4NC4zODQgMzMxLjI2MloiLz48Y2lyY2xlIGN4PSI2MzAuNTQiIGN5PSIzNjYuMDA2IiByPSIxMS42NjIiIGZpbGw9IiM2MTYxNjEiIHRyYW5zZm9ybT0icm90YXRlKDEzMS4wMjEgNjMwLjU0IDM2Ni4wMDYpIi8+PHJlY3Qgd2lkdGg9IjI1LjQ0NCIgaGVpZ2h0PSIzLjE4IiB4PSI2MzkuNjkiIHk9IjM1Ny4xMDMiIGZpbGw9IiMyODI4MjgiIHJ4PSIxLjU5IiB0cmFuc2Zvcm09InJvdGF0ZSgxMzEuMDIxIDYzOS42OSAzNTcuMTAzKSIvPjxwYXRoIGZpbGw9IiMxODE4MTgiIGQ9Ik0zMzEuMDgxIDYwLjI5MDJDMzM0LjUyOCA3Mi45OTIzIDMzOS4wMiAxMDEuNTQ0IDMzNC40MzYgMTA2LjAyMkgzMDUuNDM2QzMwNS40MzMgMTA1Ljk3MSAzMDUuNDMgMTA1LjkyIDMwNS40MjcgMTA1Ljg2OEMyOTQuNjc5IDEwNC42NzkgMjg2LjMxOSA5NS41NjU4IDI4Ni4zMTkgODQuNVY2My41QzI4Ni4zMTkgNTEuNjI1OSAyOTUuOTQ1IDQyIDMwNy44MTkgNDJIMzA5LjgxOUMzMjAuNjAyIDQyIDMyOS41MzEgNDkuOTM4NSAzMzEuMDgxIDYwLjI5MDJaIiBjbGlwUnVsZT0iZXZlbm9kZCIgZmlsbFJ1bGU9ImV2ZW5vZGQiLz48cGF0aCBmaWxsPSIjRURCNzk1IiBkPSJNMjk3LjU4MSA4MC40OTAxQzI5Mi45NzMgNzUuMDgxNCAyODkuODU0IDY4LjQ1MjkgMjkwLjM3NiA2MS4wMjU1QzI5MS44NzcgMzkuNjI1IDMyMS42NjcgNDQuMzMyOCAzMjcuNDYyIDU1LjEzMzlDMzMzLjI1NyA2NS45MzUxIDMzMi41NjggOTMuMzMzIDMyNS4wNzkgOTUuMjYzNUMzMjIuMDkyIDk2LjAzMzMgMzE1LjczIDk0LjE0NzUgMzA5LjI1NCA5MC4yNDQzTDMxMy4zMTkgMTE5SDI4OS4zMTlMMjk3LjU4MSA4MC40OTAxWiIgY2xpcFJ1bGU9ImV2ZW5vZGQiIGZpbGxSdWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzE4MTgxOCIgZD0iTTMwNC4wNjkgNzYuODc0OEMzMDUuMTc1IDg4Ljc1MjggMzA0LjczMiAxMDIuMzE3IDMwMS40MzYgMTA1LjUzN0gyNzIuNDM2QzI3MC44MiA3Ny40NjM1IDI4Ni40MzYgODguMzM0OSAyODYuNDM2IDYxLjkwMjhDMjg3LjQxIDYwLjk1MTUgMjg4LjMzIDYwLjAxIDI4OS4yNCA1OS4xOTgxTDI4OS4yMDggNTguNDIwN0MyOTQuMjI5IDQ4LjE0MDIgMzAwLjYgNDMgMzA4LjMyIDQzQzMxOS45IDQzIDMyMy41NTUgNDguMzg4MyAzMjYuNjY4IDUyLjk2MzFDMzI0LjM0IDYwLjk0ODIgMzE1LjMwOSA2Mi4xMzIyIDMwNy4yODUgNjcuMTA5NUMzMDYuMzM5IDY2LjM0MSAzMDUuMTMzIDY1Ljg4MDQgMzAzLjgxOSA2NS44ODA0QzMwMC43ODEgNjUuODgwNCAyOTguMzE5IDY4LjM0MjggMjk4LjMxOSA3MS4zODA0QzI5OC4zMTkgNzQuNDE4IDMwMC43ODEgNzYuODgwNCAzMDMuODE5IDc2Ljg4MDRDMzAzLjkwMyA3Ni44ODA0IDMwMy45ODYgNzYuODc4NSAzMDQuMDY5IDc2Ljg3NDhaIiBjbGlwUnVsZT0iZXZlbm9kZCIgZmlsbFJ1bGU9ImV2ZW5vZGQiLz48cGF0aCBmaWxsPSIjQzUyQjg2IiBkPSJNMjUwLjcyNyAzMDAuMDg4QzI3NC43MTYgMzA2Ljc5OCAyOTUuNDEzIDMxMC4xNTMgMzEyLjgxOCAzMTAuMTUzQzMzMC4yMjQgMzEwLjE1MyAzNDYuMzkgMzA0Ljk4NiAzNjEuMzE5IDI5NC42NTNDMzM3Ljg0MyAyODcuNzY2IDMxOC41MSAyODQuMzIzIDMwMy4zMTkgMjg0LjMyM0MyODguMTI4IDI4NC4zMjMgMjcwLjU5NyAyODkuNTc4IDI1MC43MjcgMzAwLjA4OFoiIGNsaXBSdWxlPSJldmVub2RkIiBmaWxsUnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiNFN0IyOTEiIGQ9Ik0zMzMuNTg2IDMxOS44MjRDMzMzLjM1NCAzMTkuNDc3IDMzMy4xNTkgMzE5LjA5OCAzMzMuMDA0IDMxOC42ODlDMzI5Ljc5NyAzMTAuMjA4IDI3OC40MzYgMjE4LjcyNiAyNzMuMzE5IDIwMkgzMzEuMTQ1QzMzNS4wMzUgMjE0LjcxNyAzNTIuNTQ2IDI5NC41MiAzNTUuMDEgMzEwLjQ0MkMzNjIuNzg1IDMzNS41NTcgMzc4Ljc5NCA0MTYuODk1IDM4MC44MzggNDIyLjUzQzM4Mi45ODggNDI4LjQ1OCAzNzAuODkxIDQzNC42MzMgMzY3LjY2OCA0MjcuMzQ2QzM2Mi41MzkgNDE1Ljc1IDM1MC4zMTcgMzgzLjY2NSAzNDQuODc2IDM2NC4wNzRDMzM5Ljc3NSAzNDUuNzA4IDMzNS42MjEgMzI5LjE4NCAzMzMuNTg2IDMxOS44MjRaIiBjbGlwUnVsZT0iZXZlbm9kZCIgZmlsbFJ1bGU9ImV2ZW5vZGQiLz48cGF0aCBmaWxsPSIjRURCNzk1IiBkPSJNMjg2LjI3NiAzMzAuOTk0QzI2Mi43OTQgMzM2LjkyOCAxNzYuOTAzIDM0Ny42NTggMTcxLjAwOSAzNDkuMzQxQzE2NC45NDUgMzUxLjA3MiAxNTkuNjI5IDMzOC41NzQgMTY3LjEyNCAzMzUuODY3QzE3OS4wNDkgMzMxLjU1OSAyMTEuOTA4IDMyMS42MDYgMjMxLjgzMSAzMTcuNTQ0QzI0Ny44NTUgMzE0LjI3NyAyNjIuNDc4IDMxMS42MTEgMjcyLjI5NSAzMTAuMDVDMjcxLjQ2NCAyODIuNDczIDI2Ny42NjIgMjE2LjI5NCAyNzAuMTU0IDIwMkgzMjEuMzE5QzMxOC45MjkgMjE1LjcwNyAyOTguNzI5IDMxNS43MTggMjk0Ljk3NSAzMjUuNzI5QzI5My43ODMgMzI5LjMwMiAyOTAuMjI4IDMzMC44ODIgMjg2LjI3NiAzMzAuOTk0WiIgY2xpcFJ1bGU9ImV2ZW5vZGQiIGZpbGxSdWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTE2Ny42NjggMzMyLjUzOUMxNjQuNTMyIDMzMS45NTYgMTYyLjIzNSAzMzEuNzkzIDE2MC43NzQgMzMyLjA1QzE1OC45OTggMzMyLjM2MyAxNTYuNDU5IDMzMy4xMTYgMTUzLjE1NiAzMzQuMzA5QzE1My41MiAzMzYuMzY5IDE1Ni43ODQgMzU0Ljg4NCAxNjIuOTUxIDM4OS44NTRDMTY3Ljk3NyAzOTAuNDU2IDE3MC40MDYgMzg5LjE2OCAxNzAuMjM4IDM4NS45OTFDMTcwLjA3IDM4Mi44MTQgMTY5Ljk1OSAzODAuMTcgMTY5LjkwMiAzNzguMDU5TDE3Ni44NTkgMzUwLjIxM0MxNzYuOTkzIDM0OS42NzcgMTc2LjY2NyAzNDkuMTM0IDE3Ni4xMzIgMzQ5QzE3Ni4xMjMgMzQ4Ljk5OCAxNzYuMTEzIDM0OC45OTYgMTc2LjEwNCAzNDguOTk0TDE3MS43ODYgMzQ4LjA0NEMxNjkuOTM1IDM0NS40MDIgMTY4Ljg1MSAzNDMuMTgxIDE2OC41MzQgMzQxLjM4MUMxNjguMjc2IDMzOS45MTkgMTY4LjUxIDMzNy43OTUgMTY5LjIzNyAzMzUuMDFMMTY5LjIzNyAzMzUuMDFDMTY5LjUxNiAzMzMuOTQxIDE2OC44NzYgMzMyLjg0OSAxNjcuODA3IDMzMi41N0MxNjcuNzYxIDMzMi41NTggMTY3LjcxNCAzMzIuNTQ4IDE2Ny42NjggMzMyLjUzOVoiIGNsaXBSdWxlPSJldmVub2RkIiBmaWxsUnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0zNjMuOTk3IDQyNi40MDJDMzYyLjg3OCA0MjkuMzg4IDM2Mi4zMTkgNDMxLjYyMyAzNjIuMzE5IDQzMy4xMDZDMzYyLjMxOSA0MzQuOTA5IDM2Mi42MTkgNDM3LjU0IDM2My4yMiA0NDFDMzY1LjMxMiA0NDEgMzg0LjExMyA0NDEgNDE5LjYyMiA0NDFDNDIxLjA4OCA0MzYuMTU1IDQyMC4yNDIgNDMzLjUzOSA0MTcuMDg0IDQzMy4xNTJDNDEzLjkyNiA0MzIuNzY2IDQxMS4zMDMgNDMyLjQxNyA0MDkuMjE0IDQzMi4xMDZMMzgyLjk5OSA0MjAuNDE5QzM4Mi40OTQgNDIwLjE5NCAzODEuOTAzIDQyMC40MjEgMzgxLjY3OCA0MjAuOTI1QzM4MS42NzQgNDIwLjkzNCAzODEuNjcxIDQyMC45NDIgMzgxLjY2NyA0MjAuOTUxTDM3OS45ODIgNDI1LjAzOUMzNzcuMDU5IDQyNi40MDMgMzc0LjY4MyA0MjcuMDg1IDM3Mi44NTYgNDI3LjA4NUMzNzEuMzcxIDQyNy4wODUgMzY5LjMyIDQyNi40ODUgMzY2LjcwMyA0MjUuMjg2TDM2Ni43MDMgNDI1LjI4NUMzNjUuNjk5IDQyNC44MjUgMzY0LjUxMiA0MjUuMjY2IDM2NC4wNTIgNDI2LjI3QzM2NC4wMzIgNDI2LjMxMyAzNjQuMDE0IDQyNi4zNTcgMzYzLjk5NyA0MjYuNDAyWiIgY2xpcFJ1bGU9ImV2ZW5vZGQiIGZpbGxSdWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iI0YwMzhBNSIgZD0iTTI3MC4zMTkgMjAyQzI5Mi44NjYgMTk1LjU0OSAzMTQuMTk5IDE5NS41NDkgMzM0LjMxOSAyMDJDMzQxLjMxOSAyMzMuOTM3IDM1OC4zMjggMjQ2LjYxMyAzNjEuMzE5IDI5NS41NzlDMzI3LjMxOSAzMTIuNDczIDI4NS4zMTkgMjgzLjUzIDI1MC4zMTkgMzAwLjAwNUMyNDAuMzE5IDI3Ni45NjEgMjU0LjMxOSAyMjEuNDY0IDI3MC4zMTkgMjAyWiIgY2xpcFJ1bGU9ImV2ZW5vZGQiIGZpbGxSdWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iI0VEQjc5NSIgZD0iTTM2Ny4zMTkgMTYyLjMxMUw0MDYuODAyIDE1Ni45MjVDNDE0LjcgMTUyLjUzMiA0MjEuOTY2IDE0OS41NTggNDI4LjU5OSAxNDguMDAzQzQzMC40NjYgMTQ3Ljk0OCA0MzMuNDM2IDE0OC42MjcgNDI5LjAxMiAxNTIuMzE1QzQyNC41ODggMTU2LjAwMyA0MjAuMDk5IDE2MC4wODMgNDIwLjg4NyAxNjIuMDUxQzQyMS42NzUgMTY0LjAyIDQyNS43OSAxNjMuMjg3IDQyNi40NzEgMTY2LjMxNUM0MjYuOTI2IDE2OC4zMzMgNDIwLjI0OCAxNjguNjYxIDQwNi40NCAxNjcuMjk5TDM3NC40MDMgMTgwTDM2Ny4zMTkgMTYyLjMxMVpNMjQzLjI4OCAxNzEuNDVMMjY1LjE4NiAxNzEuNTMyQzI0MS4xNzUgMjI1LjU2NiAyMjguNjU1IDI1My44NTcgMjI3LjYyNyAyNTYuNDA2QzIyNS4zMTMgMjYyLjE0IDIzMC4yMDkgMjcwLjg3NCAyMzIuMzAzIDI3NS41NjdDMjI1LjQ4MyAyNzguNjE5IDIyNi4yMSAyNjcuMzE3IDIxNy42MDcgMjcxLjMxOUMyMDkuNzU0IDI3NC45NzMgMjAzLjc4IDI4MS41OTIgMTk0LjcwOCAyNzUuOTk0QzE5My41OTIgMjc1LjMwNiAxOTIuMzcgMjcyLjcxNSAxOTUuMzIzIDI3MC42OUMyMDIuNjgxIDI2NS42NDUgMjEzLjI4NCAyNTYuODE1IDIxNC43MTcgMjUzLjkwOEMyMTYuNjcgMjQ5Ljk0NSAyMjYuMTk0IDIyMi40NTkgMjQzLjI4OCAxNzEuNDVaIiBjbGlwUnVsZT0iZXZlbm9kZCIgZmlsbFJ1bGU9ImV2ZW5vZGQiLz48cGF0aCBmaWxsPSIjRUVFIiBkPSJNMzAzLjI2OCAxMDJMMzIwLjQxMyAxMDMuMTQyQzMyNC42MzUgMTQxLjM0MyAzNDcuNjM1IDE2NS40NzMgMzk5LjEzIDE1Ny4zMDRMNDA1Ljk3MSAyMDYuNDk5QzM1Ny44NDEgMjEyLjcxOSAzMTUuNjMyIDE5My40NSAzMDYuOTgxIDE0MS4yNzhDMzA0Ljc0MiAxMjcuNzczIDMwMi45NzMgMTEzLjcxOCAzMDMuMjY4IDEwMloiIGNsaXBSdWxlPSJldmVub2RkIiBmaWxsUnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0yOTQuODA5IDk3LjAxNTlMMzIwLjc4NiAxMDIuOTY1QzMyMC43ODYgMTQ3LjY0NCAzMzUuMDE5IDE3Ni4xNSAzNDIuMzE5IDIwOUgyNzIuMTYyQzI3MS4xNzQgMjIwLjM1MSAyNzAuNTY3IDIzMi4wMTggMjcwLjI1MSAyNDRIMjE3LjcyQzIyOS42MjQgMTgwLjY2NCAyNTQuNzQ5IDEzMS42NjQgMjkzLjA5NCA5N0gyOTQuNzk2TDI5NC44MDkgOTcuMDE1OVoiIGNsaXBSdWxlPSJldmVub2RkIiBmaWxsUnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiNFRUUiIGQ9Ik0yODMuMjMxIDE0NS4yNTlDMjgxLjQyMyAxNzMuMTAxIDI4Mi40ODYgMTk0LjM0NyAyODYuNDIxIDIwOUgyNzIuMTYyQzI3NC4xMiAxODYuNTE0IDI3Ny41NzUgMTY1LjI2NyAyODMuMjMxIDE0NS4yNTlWMTQ1LjI1OVoiIGNsaXBSdWxlPSJldmVub2RkIiBmaWxsUnVsZT0iZXZlbm9kZCIvPjxwYXRoIHN0cm9rZT0iI0Y5RjlGOSIgZD0iTTQyMCAxODRDNDM4LjE3NCAyMDguOTM5IDQ3My4wNDcgMjg3Ljc3MiA0NjcuMTQ0IDQwMy41OTJDNDY5Ljc0IDM3My45NTcgNDgxLjY1NiAzMTUuMzY2IDUwOC41NDggMzE4LjA4N0M1MzUuNDQxIDMyMC44MDggNTMxLjUwNSA0MDEuMTYzIDUyNi4xNzYgNDQxQzUzMi4wNTIgMzg1LjI5MiA1NTIuMzM0IDM1NS4wODcgNTczLjUgMzUxIiBzdHJva2VEYXNoYXJyYXk9IjEwIDE1IiBzdHJva2VMaW5lY2FwPSJyb3VuZCIgc3Ryb2tlV2lkdGg9IjQiLz48L3N2Zz4=\"","export default \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2ODciIGhlaWdodD0iNDIxIiBmaWxsPSJub25lIiB2aWV3Qm94PSIwIDAgNjg3IDQyMSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMDUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTQwLjA1MTQgMTA5LjkxNEMyNi44OTU1IDExMi4zNjYgMTguMjE3OSAxMjUuMDE4IDIwLjY2OTUgMTM4LjE3NEMyMy4xMjEgMTUxLjMzIDM1Ljc3MzMgMTYwLjAwNyA0OC45MjkyIDE1Ny41NTZMNjcuMDU0OSAxNTQuMTc4QzYyLjAwOCAxNTkuNjA5IDU5LjUwOTcgMTY3LjI3OCA2MC45NzIyIDE3NS4xMjdDNjMuNDIzNyAxODguMjgzIDc2LjA3NiAxOTYuOTYgODkuMjMxOSAxOTQuNTA5TDIxOC4yNzkgMTcwLjQ2MkMyMTguMzA1IDE3MC42MTcgMjE4LjMzMyAxNzAuNzczIDIxOC4zNjIgMTcwLjkyOUMyMTkuODI0IDE3OC43NzggMjI0LjkxNyAxODUuMDMyIDIzMS41ODIgMTg4LjI4MUwyMjMuNjYzIDE4OS43NTdDMjEwLjUwNyAxOTIuMjA4IDIwMS44MyAyMDQuODYxIDIwNC4yODEgMjE4LjAxNkMyMDYuNzMzIDIzMS4xNzIgMjE5LjM4NSAyMzkuODUgMjMyLjU0MSAyMzcuMzk4TDYwOC42NTggMTY3LjMxMUM2MjEuODE0IDE2NC44NiA2MzAuNDkyIDE1Mi4yMDggNjI4LjA0IDEzOS4wNTJDNjI2LjU3OCAxMzEuMjAzIDYyMS40ODUgMTI0Ljk0OSA2MTQuODIxIDEyMS43TDYyNy40ODkgMTE5LjMzOUM2NDAuNjQ1IDExNi44ODggNjQ5LjMyMiAxMDQuMjM2IDY0Ni44NzEgOTEuMDc5N0M2NDQuNDE5IDc3LjkyMzggNjMxLjc2NyA2OS4yNDYyIDYxOC42MTEgNzEuNjk3N0wzOTMuMDIgMTEzLjczNUMzOTIuOTk0IDExMy41NzkgMzkyLjk2NiAxMTMuNDIzIDM5Mi45MzcgMTEzLjI2N0MzOTEuNDc1IDEwNS40MTkgMzg2LjM4MiA5OS4xNjQzIDM3OS43MTcgOTUuOTE1Nkw0MDEuNjE5IDkxLjgzNDNDNDE0Ljc3NSA4OS4zODI4IDQyMy40NTMgNzYuNzMwNSA0MjEuMDAxIDYzLjU3NDZDNDE4LjU1IDUwLjQxODcgNDA1Ljg5NyA0MS43NDExIDM5Mi43NDIgNDQuMTkyN0w0MC4wNTE0IDEwOS45MTRaTTU5LjE0NiAyOTguMjI0QzU2LjY5NDUgMjg1LjA2OCA2NS4zNzIxIDI3Mi40MTYgNzguNTI4IDI2OS45NjRMNDY0LjQ4MyAxOTguMDQ0QzQ3Ny42MzkgMTk1LjU5MiA0OTAuMjkyIDIwNC4yNyA0OTIuNzQzIDIxNy40MjZDNDk1LjE5NSAyMzAuNTgyIDQ4Ni41MTcgMjQzLjIzNCA0NzMuMzYxIDI0NS42ODVMNDYyLjMwOSAyNDcuNzQ1QzQ2My41OTkgMjQ4LjM3NCA0NjQuODMgMjQ5LjExNSA0NjUuOTg3IDI0OS45NTlMNTk5LjczMSAyMjUuMDM3QzYxMi44ODcgMjIyLjU4NSA2MjUuNTM5IDIzMS4yNjMgNjI3Ljk5MSAyNDQuNDE5QzYyOS40NTMgMjUyLjI2NyA2MjYuOTU1IDI1OS45MzcgNjIxLjkwOCAyNjUuMzY4TDYyNC42MDEgMjY0Ljg2NkM2MzcuNzU3IDI2Mi40MTQgNjUwLjQxIDI3MS4wOTIgNjUyLjg2MSAyODQuMjQ4QzY1NS4zMTMgMjk3LjQwNCA2NDYuNjM1IDMxMC4wNTYgNjMzLjQ3OSAzMTIuNTA3TDIzMi41NjEgMzg3LjIxNkMyMTkuNDA1IDM4OS42NjcgMjA2Ljc1MiAzODAuOTkgMjA0LjMwMSAzNjcuODM0QzIwMS44NDkgMzU0LjY3OCAyMTAuNTI3IDM0Mi4wMjYgMjIzLjY4MyAzMzkuNTc0TDI1Mi45NTggMzM0LjExOUMyNTEuNjY4IDMzMy40OSAyNTAuNDM3IDMzMi43NDkgMjQ5LjI3OSAzMzEuOTA1TDcwLjgyMDUgMzY1LjE1OUM1Ny42NjQ2IDM2Ny42MTEgNDUuMDEyMyAzNTguOTMzIDQyLjU2MDggMzQ1Ljc3N0M0MC4xMDkzIDMzMi42MjEgNDguNzg2OSAzMTkuOTY5IDYxLjk0MjggMzE3LjUxOEw3Mi4zNjU3IDMxNS41NzVDNjUuNzAxNCAzMTIuMzI3IDYwLjYwODUgMzA2LjA3MiA1OS4xNDYgMjk4LjIyNFoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxnIGZpbHRlcj0idXJsKCNmaWx0ZXIwX2QpIj48cGF0aCBmaWxsPSIjOUU5RTlFIiBkPSJNNTY2Ljc5NSA3Ni4wMjg4SDEyNC44NDJDMTE5LjYwNCA3Ni4wMjg4IDExNS4zNTggODAuMjcgMTE1LjM1OCA4NS41MDE4VjExMy45MjFDMTE1LjM1OCAxMTkuMTUzIDExOS42MDQgMTIzLjM5NCAxMjQuODQyIDEyMy4zOTRINTY2Ljc5NUM1NzIuMDMzIDEyMy4zOTQgNTc2LjI3OSAxMTkuMTUzIDU3Ni4yNzkgMTEzLjkyMVY4NS41MDE4QzU3Ni4yNzkgODAuMjcgNTcyLjAzMyA3Ni4wMjg4IDU2Ni43OTUgNzYuMDI4OFoiLz48bWFzayBpZD0ibWFzazAiIHdpZHRoPSI0NjIiIGhlaWdodD0iMjc3IiB4PSIxMTUiIHk9Ijc2IiBtYXNrLXR5cGU9ImFscGhhIiBtYXNrVW5pdHM9InVzZXJTcGFjZU9uVXNlIj48cGF0aCBmaWxsPSIjNDA0MDQwIiBkPSJNNTY2Ljc5NSA3Ni4wMjg4SDEyNC44NDJDMTE5LjYwNCA3Ni4wMjg4IDExNS4zNTggODAuMjcgMTE1LjM1OCA4NS41MDE4VjM0My4xNjdDMTE1LjM1OCAzNDguMzk5IDExOS42MDQgMzUyLjY0IDEyNC44NDIgMzUyLjY0SDU2Ni43OTVDNTcyLjAzMyAzNTIuNjQgNTc2LjI3OSAzNDguMzk5IDU3Ni4yNzkgMzQzLjE2N1Y4NS41MDE4QzU3Ni4yNzkgODAuMjcgNTcyLjAzMyA3Ni4wMjg4IDU2Ni43OTUgNzYuMDI4OFoiLz48L21hc2s+PGcgbWFzaz0idXJsKCNtYXNrMCkiPjxwYXRoIGZpbGw9IiNFRUUiIGQ9Ik01ODMuODY2IDEwMi41NTNIMTE1LjM1OFYzNjUuOTAySDU4My44NjZWMTAyLjU1M1oiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJNNTIzLjE2OSAxODQuMDIxSDE4Ny40MzZDMTg1LjM0MSAxODQuMDIxIDE4My42NDMgMTg1LjcxNyAxODMuNjQzIDE4Ny44MUMxODMuNjQzIDE4OS45MDMgMTg1LjM0MSAxOTEuNTk5IDE4Ny40MzYgMTkxLjU5OUg1MjMuMTY5QzUyNS4yNjQgMTkxLjU5OSA1MjYuOTYyIDE4OS45MDMgNTI2Ljk2MiAxODcuODFDNTI2Ljk2MiAxODUuNzE3IDUyNS4yNjQgMTg0LjAyMSA1MjMuMTY5IDE4NC4wMjFaIi8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTM5NC4xODcgMjAxLjA3MkgxODcuNDM2QzE4NS4zNDEgMjAxLjA3MiAxODMuNjQzIDIwMi43NjkgMTgzLjY0MyAyMDQuODYxQzE4My42NDMgMjA2Ljk1NCAxODUuMzQxIDIwOC42NTEgMTg3LjQzNiAyMDguNjUxSDM5NC4xODdDMzk2LjI4MiAyMDguNjUxIDM5Ny45OCAyMDYuOTU0IDM5Ny45OCAyMDQuODYxQzM5Ny45OCAyMDIuNzY5IDM5Ni4yODIgMjAxLjA3MiAzOTQuMTg3IDIwMS4wNzJaIi8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTI3NC42ODkgMTQ5LjkxOEgxODcuNDM2QzE4NS4zNDEgMTQ5LjkxOCAxODMuNjQzIDE1MS42MTUgMTgzLjY0MyAxNTMuNzA3QzE4My42NDMgMTU1LjggMTg1LjM0MSAxNTcuNDk3IDE4Ny40MzYgMTU3LjQ5N0gyNzQuNjg5QzI3Ni43ODQgMTU3LjQ5NyAyNzguNDgyIDE1NS44IDI3OC40ODIgMTUzLjcwN0MyNzguNDgyIDE1MS42MTUgMjc2Ljc4NCAxNDkuOTE4IDI3NC42ODkgMTQ5LjkxOFoiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMjEwLjE5OCAxMTUuODE1SDE0OS41QzE0Ny40MDUgMTE1LjgxNSAxNDUuNzA3IDExNy41MTIgMTQ1LjcwNyAxMTkuNjA1QzE0NS43MDcgMTIxLjY5NyAxNDcuNDA1IDEyMy4zOTQgMTQ5LjUgMTIzLjM5NEgyMTAuMTk4QzIxMi4yOTMgMTIzLjM5NCAyMTMuOTkxIDEyMS42OTcgMjEzLjk5MSAxMTkuNjA1QzIxMy45OTEgMTE3LjUxMiAyMTIuMjkzIDExNS44MTUgMjEwLjE5OCAxMTUuODE1WiIvPjxwYXRoIGZpbGw9IiNGOEY4RjgiIGQ9Ik0xMzIuNDI5IDExOS42MDVDMTMyLjQyOSAxMTcuNTEyIDEzMC43MzEgMTE1LjgxNSAxMjguNjM2IDExNS44MTVDMTI2LjU0IDExNS44MTUgMTI0Ljg0MiAxMTcuNTEyIDEyNC44NDIgMTE5LjYwNUMxMjQuODQyIDEyMS42OTcgMTI2LjU0IDEyMy4zOTQgMTI4LjYzNiAxMjMuMzk0QzEzMC43MzEgMTIzLjM5NCAxMzIuNDI5IDEyMS42OTcgMTMyLjQyOSAxMTkuNjA1WiIvPjxwYXRoIGZpbGw9IiNGOEY4RjgiIGQ9Ik0xMzIuNDI5IDEzNi42NTZDMTMyLjQyOSAxMzQuNTYzIDEzMC43MzEgMTMyLjg2NyAxMjguNjM2IDEzMi44NjdDMTI2LjU0IDEzMi44NjcgMTI0Ljg0MiAxMzQuNTYzIDEyNC44NDIgMTM2LjY1NkMxMjQuODQyIDEzOC43NDkgMTI2LjU0IDE0MC40NDUgMTI4LjYzNiAxNDAuNDQ1QzEzMC43MzEgMTQwLjQ0NSAxMzIuNDI5IDEzOC43NDkgMTMyLjQyOSAxMzYuNjU2WiIvPjxwYXRoIGZpbGw9IiNGOEY4RjgiIGQ9Ik0xMzIuNDI5IDE1My43MDdDMTMyLjQyOSAxNTEuNjE1IDEzMC43MzEgMTQ5LjkxOCAxMjguNjM2IDE0OS45MThDMTI2LjU0IDE0OS45MTggMTI0Ljg0MiAxNTEuNjE1IDEyNC44NDIgMTUzLjcwN0MxMjQuODQyIDE1NS44IDEyNi41NCAxNTcuNDk3IDEyOC42MzYgMTU3LjQ5N0MxMzAuNzMxIDE1Ny40OTcgMTMyLjQyOSAxNTUuOCAxMzIuNDI5IDE1My43MDdaIi8+PHBhdGggZmlsbD0iI0Y4RjhGOCIgZD0iTTEzMi40MjkgMTcwLjc1OUMxMzIuNDI5IDE2OC42NjYgMTMwLjczMSAxNjYuOTY5IDEyOC42MzYgMTY2Ljk2OUMxMjYuNTQgMTY2Ljk2OSAxMjQuODQyIDE2OC42NjYgMTI0Ljg0MiAxNzAuNzU5QzEyNC44NDIgMTcyLjg1MSAxMjYuNTQgMTc0LjU0OCAxMjguNjM2IDE3NC41NDhDMTMwLjczMSAxNzQuNTQ4IDEzMi40MjkgMTcyLjg1MSAxMzIuNDI5IDE3MC43NTlaIi8+PHBhdGggZmlsbD0iI0Y4RjhGOCIgZD0iTTEzMi40MjkgMTg5LjcwNUMxMzIuNDI5IDE4Ny42MTIgMTMwLjczMSAxODUuOTE2IDEyOC42MzYgMTg1LjkxNkMxMjYuNTQgMTg1LjkxNiAxMjQuODQyIDE4Ny42MTIgMTI0Ljg0MiAxODkuNzA1QzEyNC44NDIgMTkxLjc5NyAxMjYuNTQgMTkzLjQ5NCAxMjguNjM2IDE5My40OTRDMTMwLjczMSAxOTMuNDk0IDEzMi40MjkgMTkxLjc5NyAxMzIuNDI5IDE4OS43MDVaIi8+PHBhdGggZmlsbD0iI0Y4RjhGOCIgZD0iTTEzMi40MjkgMjA0Ljg2MUMxMzIuNDI5IDIwMi43NjkgMTMwLjczMSAyMDEuMDcyIDEyOC42MzYgMjAxLjA3MkMxMjYuNTQgMjAxLjA3MiAxMjQuODQyIDIwMi43NjkgMTI0Ljg0MiAyMDQuODYxQzEyNC44NDIgMjA2Ljk1NCAxMjYuNTQgMjA4LjY1MSAxMjguNjM2IDIwOC42NTFDMTMwLjczMSAyMDguNjUxIDEzMi40MjkgMjA2Ljk1NCAxMzIuNDI5IDIwNC44NjFaIi8+PHBhdGggZmlsbD0iI0Y4RjhGOCIgZD0iTTEzMi40MjkgMjIxLjkxM0MxMzIuNDI5IDIxOS44MiAxMzAuNzMxIDIxOC4xMjQgMTI4LjYzNiAyMTguMTI0QzEyNi41NCAyMTguMTI0IDEyNC44NDIgMjE5LjgyIDEyNC44NDIgMjIxLjkxM0MxMjQuODQyIDIyNC4wMDUgMTI2LjU0IDIyNS43MDIgMTI4LjYzNiAyMjUuNzAyQzEzMC43MzEgMjI1LjcwMiAxMzIuNDI5IDIyNC4wMDUgMTMyLjQyOSAyMjEuOTEzWiIvPjxwYXRoIGZpbGw9IiNGOEY4RjgiIGQ9Ik0xMzIuNDI5IDIzOC45NjRDMTMyLjQyOSAyMzYuODcyIDEzMC43MzEgMjM1LjE3NSAxMjguNjM2IDIzNS4xNzVDMTI2LjU0IDIzNS4xNzUgMTI0Ljg0MiAyMzYuODcyIDEyNC44NDIgMjM4Ljk2NEMxMjQuODQyIDI0MS4wNTcgMTI2LjU0IDI0Mi43NTMgMTI4LjYzNiAyNDIuNzUzQzEzMC43MzEgMjQyLjc1MyAxMzIuNDI5IDI0MS4wNTcgMTMyLjQyOSAyMzguOTY0WiIvPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik01MjMuMTY5IDE2Ni45NjlIMTg3LjQzNkMxODUuMzQxIDE2Ni45NjkgMTgzLjY0MyAxNjguNjY2IDE4My42NDMgMTcwLjc1OUMxODMuNjQzIDE3Mi44NTEgMTg1LjM0MSAxNzQuNTQ4IDE4Ny40MzYgMTc0LjU0OEg1MjMuMTY5QzUyNS4yNjQgMTc0LjU0OCA1MjYuOTYyIDE3Mi44NTEgNTI2Ljk2MiAxNzAuNzU5QzUyNi45NjIgMTY4LjY2NiA1MjUuMjY0IDE2Ni45NjkgNTIzLjE2OSAxNjYuOTY5WiIvPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0yMDguMzAxIDIzNS4xNzVIMTQ5LjVDMTQ3LjQwNSAyMzUuMTc1IDE0NS43MDcgMjM2Ljg3MiAxNDUuNzA3IDIzOC45NjRDMTQ1LjcwNyAyNDEuMDU3IDE0Ny40MDUgMjQyLjc1MyAxNDkuNSAyNDIuNzUzSDIwOC4zMDFDMjEwLjM5NiAyNDIuNzUzIDIxMi4wOTQgMjQxLjA1NyAyMTIuMDk0IDIzOC45NjRDMjEyLjA5NCAyMzYuODcyIDIxMC4zOTYgMjM1LjE3NSAyMDguMzAxIDIzNS4xNzVaIi8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTMzNS4zODYgMjE4LjEyNEgxNjguNDY4QzE2Ni4zNzMgMjE4LjEyNCAxNjQuNjc1IDIxOS44MiAxNjQuNjc1IDIyMS45MTNDMTY0LjY3NSAyMjQuMDA1IDE2Ni4zNzMgMjI1LjcwMiAxNjguNDY4IDIyNS43MDJIMzM1LjM4NkMzMzcuNDgxIDIyNS43MDIgMzM5LjE4IDIyNC4wMDUgMzM5LjE4IDIyMS45MTNDMzM5LjE4IDIxOS44MiAzMzcuNDgxIDIxOC4xMjQgMzM1LjM4NiAyMTguMTI0WiIvPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0yNDYuMjM3IDEzMi44NjdIMTY4LjQ2OEMxNjYuMzczIDEzMi44NjcgMTY0LjY3NSAxMzQuNTYzIDE2NC42NzUgMTM2LjY1NkMxNjQuNjc1IDEzOC43NDkgMTY2LjM3MyAxNDAuNDQ1IDE2OC40NjggMTQwLjQ0NUgyNDYuMjM3QzI0OC4zMzIgMTQwLjQ0NSAyNTAuMDMgMTM4Ljc0OSAyNTAuMDMgMTM2LjY1NkMyNTAuMDMgMTM0LjU2MyAyNDguMzMyIDEzMi44NjcgMjQ2LjIzNyAxMzIuODY3WiIvPjxwYXRoIGZpbGw9IiNEOUQ5RDkiIGQ9Ik0xMjguNjM2IDkzLjA3NzFDMTMwLjczMSA5My4wNzcxIDEzMi40MjkgOTEuMzgxMyAxMzIuNDI5IDg5LjI4OTRDMTMyLjQyOSA4Ny4xOTc1IDEzMC43MzEgODUuNTAxNyAxMjguNjM2IDg1LjUwMTdDMTI2LjU0IDg1LjUwMTcgMTI0Ljg0MiA4Ny4xOTc1IDEyNC44NDIgODkuMjg5NEMxMjQuODQyIDkxLjM4MTMgMTI2LjU0IDkzLjA3NzEgMTI4LjYzNiA5My4wNzcxWiIgb3BhY2l0eT0iLjQiLz48cGF0aCBmaWxsPSIjRDlEOUQ5IiBkPSJNMTQyLjEyIDkzLjA3NzFDMTQ0LjIxNSA5My4wNzcxIDE0NS45MTMgOTEuMzgxMyAxNDUuOTEzIDg5LjI4OTRDMTQ1LjkxMyA4Ny4xOTc1IDE0NC4yMTUgODUuNTAxNyAxNDIuMTIgODUuNTAxN0MxNDAuMDI1IDg1LjUwMTcgMTM4LjMyNiA4Ny4xOTc1IDEzOC4zMjYgODkuMjg5NEMxMzguMzI2IDkxLjM4MTMgMTQwLjAyNSA5My4wNzcxIDE0Mi4xMiA5My4wNzcxWiIgb3BhY2l0eT0iLjQiLz48cGF0aCBmaWxsPSIjRDlEOUQ5IiBkPSJNMTU1LjE5MSA5My4wNzcxQzE1Ny4yODYgOTMuMDc3MSAxNTguOTg0IDkxLjM4MTMgMTU4Ljk4NCA4OS4yODk0QzE1OC45ODQgODcuMTk3NSAxNTcuMjg2IDg1LjUwMTcgMTU1LjE5MSA4NS41MDE3QzE1My4wOTYgODUuNTAxNyAxNTEuMzk3IDg3LjE5NzUgMTUxLjM5NyA4OS4yODk0QzE1MS4zOTcgOTEuMzgxMyAxNTMuMDk2IDkzLjA3NzEgMTU1LjE5MSA5My4wNzcxWiIgb3BhY2l0eT0iLjMiLz48L2c+PC9nPjxkZWZzPjxmaWx0ZXIgaWQ9ImZpbHRlcjBfZCIgd2lkdGg9IjUwMC45MjEiIGhlaWdodD0iMzE2LjYxMSIgeD0iOTcuMzU4IiB5PSI2MC4wMjkiIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycz0ic1JHQiIgZmlsdGVyVW5pdHM9InVzZXJTcGFjZU9uVXNlIj48ZmVGbG9vZCBmbG9vZC1vcGFjaXR5PSIwIiByZXN1bHQ9IkJhY2tncm91bmRJbWFnZUZpeCIvPjxmZUNvbG9yTWF0cml4IGluPSJTb3VyY2VBbHBoYSIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDEyNyAwIi8+PGZlT2Zmc2V0IGR4PSIyIiBkeT0iNCIvPjxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjEwIi8+PGZlQ29sb3JNYXRyaXggdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAuMjUgMCIvPjxmZUJsZW5kIGluMj0iQmFja2dyb3VuZEltYWdlRml4IiBtb2RlPSJub3JtYWwiIHJlc3VsdD0iZWZmZWN0MV9kcm9wU2hhZG93Ii8+PGZlQmxlbmQgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iZWZmZWN0MV9kcm9wU2hhZG93IiBtb2RlPSJub3JtYWwiIHJlc3VsdD0ic2hhcGUiLz48L2ZpbHRlcj48L2RlZnM+PC9zdmc+\"","export default \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNjciIGhlaWdodD0iMTcyIiBmaWxsPSJub25lIiB2aWV3Qm94PSIwIDAgMjY3IDE3MiI+PGcgZmlsdGVyPSJ1cmwoI2ZpbHRlcjBfZCkiPjxyZWN0IHdpZHRoPSIxMzkiIGhlaWdodD0iMTA0LjkwNiIgeD0iMTAiIHk9IjUwLjE2NSIgZmlsbD0iI0VFRSIgcng9IjUiLz48L2c+PG1hc2sgaWQ9Im1hc2swIiB3aWR0aD0iMTIxIiBoZWlnaHQ9Ijk4IiB4PSIxOSIgeT0iNTgiIG1hc2stdHlwZT0iYWxwaGEiIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiPjxyZWN0IHdpZHRoPSI5LjE3OSIgaGVpZ2h0PSI3MC4xNTYiIHg9IjE5LjgzNSIgeT0iODUuNTcxIiBmaWxsPSIjZmZmIiByeD0iNC41OSIvPjxyZWN0IHdpZHRoPSI5LjE3OSIgaGVpZ2h0PSI3OC42NzkiIHg9IjM4LjE5NCIgeT0iNzcuMDQ3IiBmaWxsPSIjZmZmIiByeD0iNC41OSIvPjxyZWN0IHdpZHRoPSI5LjE3OSIgaGVpZ2h0PSI5Ny42OTMiIHg9IjU2LjU1MiIgeT0iNTguMDMzIiBmaWxsPSIjZmZmIiByeD0iNC41OSIvPjxyZWN0IHdpZHRoPSI5LjE3OSIgaGVpZ2h0PSI4MS45NTciIHg9Ijc0LjkxIiB5PSI3My43NjkiIGZpbGw9IiNmZmYiIHJ4PSI0LjU5Ii8+PHJlY3Qgd2lkdGg9IjkuMTc5IiBoZWlnaHQ9IjYwLjMyMSIgeD0iOTMuMjY5IiB5PSI5NS40MDYiIGZpbGw9IiNmZmYiIHJ4PSI0LjU5Ii8+PHJlY3Qgd2lkdGg9IjkuMTc5IiBoZWlnaHQ9Ijc0LjA5IiB4PSIxMTEuNjI3IiB5PSI4MS42MzciIGZpbGw9IiNmZmYiIHJ4PSI0LjU5Ii8+PHJlY3Qgd2lkdGg9IjkuMTc5IiBoZWlnaHQ9IjkzLjEwNCIgeD0iMTI5Ljk4NiIgeT0iNjIuNjIzIiBmaWxsPSIjZmZmIiByeD0iNC41OSIvPjwvbWFzaz48ZyBtYXNrPSJ1cmwoI21hc2swKSI+PHJlY3Qgd2lkdGg9IjEzOSIgaGVpZ2h0PSIxMDAuMzE2IiB4PSIxMC42NTYiIHk9IjUwLjE2NSIgZmlsbD0iI0M0QzRDNCIvPjwvZz48ZyBmaWx0ZXI9InVybCgjZmlsdGVyMV9kKSI+PHJlY3Qgd2lkdGg9IjE0NCIgaGVpZ2h0PSIxMDguNjc5IiB4PSIxMDkiIHk9IjgiIGZpbGw9IiNFRUUiIHJ4PSI1Ii8+PC9nPjxwYXRoIGZpbGw9IiNEOUQ5RDkiIGQ9Ik0xNzMuODUgNjIuMTE5MkMxNDQuNjA3IDM3LjMyMTUgMTI5Ljk5MyA2NS4xOTkxIDEyMC4wNzcgODAuNTk4NFYxMDYuNTg1SDI0MS45MjNWMjUuNzM4NEMyMDguMTcyIDI0LjU4MzQgMjEyLjU2OSA5NC45NTM4IDE3My44NSA2Mi4xMTkyWiIvPjxwYXRoIHN0cm9rZT0iIzlFOUU5RSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBkPSJNMTIwLjA3NyA4MC41OTg0QzEyOS45OTMgNjUuMTk5MSAxNDQuNjA3IDM3LjMyMTUgMTczLjg1IDYyLjExOTJDMjEyLjU2OSA5NC45NTM5IDIwOC4xNzIgMjQuNTgzNCAyNDEuOTIzIDI1LjczODQiLz48ZGVmcz48ZmlsdGVyIGlkPSJmaWx0ZXIwX2QiIHdpZHRoPSIxNjMiIGhlaWdodD0iMTI4LjkwNiIgeD0iMCIgeT0iNDIuMTY1IiBjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnM9InNSR0IiIGZpbHRlclVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PGZlRmxvb2QgZmxvb2Qtb3BhY2l0eT0iMCIgcmVzdWx0PSJCYWNrZ3JvdW5kSW1hZ2VGaXgiLz48ZmVDb2xvck1hdHJpeCBpbj0iU291cmNlQWxwaGEiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAxMjcgMCIvPjxmZU9mZnNldCBkeD0iMiIgZHk9IjQiLz48ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSI2Ii8+PGZlQ29sb3JNYXRyaXggdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAuMjUgMCIvPjxmZUJsZW5kIGluMj0iQmFja2dyb3VuZEltYWdlRml4IiBtb2RlPSJub3JtYWwiIHJlc3VsdD0iZWZmZWN0MV9kcm9wU2hhZG93Ii8+PGZlQmxlbmQgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iZWZmZWN0MV9kcm9wU2hhZG93IiBtb2RlPSJub3JtYWwiIHJlc3VsdD0ic2hhcGUiLz48L2ZpbHRlcj48ZmlsdGVyIGlkPSJmaWx0ZXIxX2QiIHdpZHRoPSIxNjgiIGhlaWdodD0iMTMyLjY3OSIgeD0iOTkiIHk9IjAiIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycz0ic1JHQiIgZmlsdGVyVW5pdHM9InVzZXJTcGFjZU9uVXNlIj48ZmVGbG9vZCBmbG9vZC1vcGFjaXR5PSIwIiByZXN1bHQ9IkJhY2tncm91bmRJbWFnZUZpeCIvPjxmZUNvbG9yTWF0cml4IGluPSJTb3VyY2VBbHBoYSIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDEyNyAwIi8+PGZlT2Zmc2V0IGR4PSIyIiBkeT0iNCIvPjxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjYiLz48ZmVDb2xvck1hdHJpeCB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMC4yNSAwIi8+PGZlQmxlbmQgaW4yPSJCYWNrZ3JvdW5kSW1hZ2VGaXgiIG1vZGU9Im5vcm1hbCIgcmVzdWx0PSJlZmZlY3QxX2Ryb3BTaGFkb3ciLz48ZmVCbGVuZCBpbj0iU291cmNlR3JhcGhpYyIgaW4yPSJlZmZlY3QxX2Ryb3BTaGFkb3ciIG1vZGU9Im5vcm1hbCIgcmVzdWx0PSJzaGFwZSIvPjwvZmlsdGVyPjwvZGVmcz48L3N2Zz4=\"","export default \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2OTMiIGhlaWdodD0iNDI1IiBmaWxsPSJub25lIiB2aWV3Qm94PSIwIDAgNjkzIDQyNSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMDUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTQwLjQzODcgMTEwLjk3N0MyNy4xNTU2IDExMy40NTIgMTguMzk0MSAxMjYuMjI3IDIwLjg2OTMgMTM5LjUxQzIzLjM0NDUgMTUyLjc5MyAzNi4xMTkyIDE2MS41NTUgNDkuNDAyMyAxNTkuMDc5TDY3LjcwMzYgMTU1LjY2OUM2Mi42MDc4IDE2MS4xNTMgNjAuMDg1NCAxNjguODk2IDYxLjU2MiAxNzYuODJDNjQuMDM3MiAxOTAuMTAzIDc2LjgxMTggMTk4Ljg2NSA5MC4wOTQ5IDE5Ni4zOUwyMjAuMzkgMTcyLjExQzIyMC40MTYgMTcyLjI2NyAyMjAuNDQ0IDE3Mi40MjUgMjIwLjQ3MyAxNzIuNTgyQzIyMS45NSAxODAuNTA3IDIyNy4wOTIgMTg2LjgyMiAyMzMuODIxIDE5MC4xMDJMMjI1LjgyNiAxOTEuNTkyQzIxMi41NDIgMTk0LjA2NyAyMDMuNzgxIDIwNi44NDEgMjA2LjI1NiAyMjAuMTI1QzIwOC43MzEgMjMzLjQwOCAyMjEuNTA2IDI0Mi4xNjkgMjM0Ljc4OSAyMzkuNjk0TDYxNC41NDQgMTY4LjkyOUM2MjcuODI3IDE2Ni40NTQgNjM2LjU4OCAxNTMuNjc5IDYzNC4xMTMgMTQwLjM5NkM2MzIuNjM2IDEzMi40NzIgNjI3LjQ5NCAxMjYuMTU3IDYyMC43NjUgMTIyLjg3N0w2MzMuNTU2IDEyMC40OTNDNjQ2LjgzOSAxMTguMDE4IDY1NS42MDEgMTA1LjI0NCA2NTMuMTI2IDkxLjk2MDRDNjUwLjY1IDc4LjY3NzMgNjM3Ljg3NiA2OS45MTU4IDYyNC41OTMgNzIuMzkxMUwzOTYuODIgMTE0LjgzNUMzOTYuNzk0IDExNC42NzggMzk2Ljc2NiAxMTQuNTIgMzk2LjczNyAxMTQuMzYzQzM5NS4yNiAxMDYuNDM4IDM5MC4xMTggMTAwLjEyMyAzODMuMzg5IDk2Ljg0MzFMNDA1LjUwMyA5Mi43MjI0QzQxOC43ODYgOTAuMjQ3MSA0MjcuNTQ3IDc3LjQ3MjUgNDI1LjA3MiA2NC4xODk0QzQyMi41OTcgNTAuOTA2MyA0MDkuODIyIDQyLjE0NDggMzk2LjUzOSA0NC42Mkw0MC40Mzg3IDExMC45NzdaTTU5LjcxOCAzMDEuMTA3QzU3LjI0MjggMjg3LjgyNCA2Ni4wMDQzIDI3NS4wNSA3OS4yODc0IDI3Mi41NzRMNDY4Ljk3NSAxOTkuOTU5QzQ4Mi4yNTggMTk3LjQ4NCA0OTUuMDMyIDIwNi4yNDUgNDk3LjUwOCAyMTkuNTI4QzQ5OS45ODMgMjMyLjgxMSA0OTEuMjIxIDI0NS41ODYgNDc3LjkzOCAyNDguMDYxTDQ2Ni43NzkgMjUwLjE0MUM0NjguMDgyIDI1MC43NzYgNDY5LjMyNSAyNTEuNTI0IDQ3MC40OTMgMjUyLjM3Nkw2MDUuNTMgMjI3LjIxM0M2MTguODEzIDIyNC43MzggNjMxLjU4OCAyMzMuNDk5IDYzNC4wNjMgMjQ2Ljc4MkM2MzUuNTQgMjU0LjcwNyA2MzMuMDE3IDI2Mi40NSA2MjcuOTIyIDI2Ny45MzRMNjMwLjY0MSAyNjcuNDI3QzY0My45MjQgMjY0Ljk1MiA2NTYuNjk5IDI3My43MTMgNjU5LjE3NCAyODYuOTk2QzY2MS42NDkgMzAwLjI3OSA2NTIuODg4IDMxMy4wNTQgNjM5LjYwNCAzMTUuNTI5TDIzNC44MDkgMzkwLjk2QzIyMS41MjYgMzkzLjQzNSAyMDguNzUxIDM4NC42NzQgMjA2LjI3NiAzNzEuMzkxQzIwMy44MDEgMzU4LjEwOCAyMTIuNTYzIDM0NS4zMzMgMjI1Ljg0NiAzNDIuODU4TDI1NS40MDQgMzM3LjM1QzI1NC4xMDEgMzM2LjcxNSAyNTIuODU4IDMzNS45NjYgMjUxLjY5IDMzNS4xMTRMNzEuNTA1MyAzNjguNjlDNTguMjIyMiAzNzEuMTY1IDQ1LjQ0NzYgMzYyLjQwNCA0Mi45NzIzIDM0OS4xMjFDNDAuNDk3MSAzMzUuODM4IDQ5LjI1ODYgMzIzLjA2MyA2Mi41NDE3IDMyMC41ODhMNzMuMDY1NSAzMTguNjI3QzY2LjMzNjcgMzE1LjM0NyA2MS4xOTQ2IDMwOS4wMzIgNTkuNzE4IDMwMS4xMDdaIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48ZyBmaWx0ZXI9InVybCgjZmlsdGVyMF9kKSI+PHBhdGggZmlsbD0iIzlFOUU5RSIgZD0iTTU2Ny40MzcgNzBIMTI1LjQ4NEMxMjAuMjQ2IDcwIDExNiA3NC4yNDEyIDExNiA3OS40NzNWMTA3Ljg5MkMxMTYgMTEzLjEyNCAxMjAuMjQ2IDExNy4zNjUgMTI1LjQ4NCAxMTcuMzY1SDU2Ny40MzdDNTcyLjY3NSAxMTcuMzY1IDU3Ni45MjEgMTEzLjEyNCA1NzYuOTIxIDEwNy44OTJWNzkuNDczQzU3Ni45MjEgNzQuMjQxMiA1NzIuNjc1IDcwIDU2Ny40MzcgNzBaIi8+PG1hc2sgaWQ9Im1hc2swIiB3aWR0aD0iNDYxIiBoZWlnaHQ9IjI3NyIgeD0iMTE2IiB5PSI3MCIgbWFzay10eXBlPSJhbHBoYSIgbWFza1VuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZmlsbD0iIzQwNDA0MCIgZD0iTTU2Ny40MzcgNzBIMTI1LjQ4NEMxMjAuMjQ2IDcwIDExNiA3NC4yNDEyIDExNiA3OS40NzNWMzM3LjEzOEMxMTYgMzQyLjM3IDEyMC4yNDYgMzQ2LjYxMSAxMjUuNDg0IDM0Ni42MTFINTY3LjQzN0M1NzIuNjc1IDM0Ni42MTEgNTc2LjkyMSAzNDIuMzcgNTc2LjkyMSAzMzcuMTM4Vjc5LjQ3M0M1NzYuOTIxIDc0LjI0MTIgNTcyLjY3NSA3MCA1NjcuNDM3IDcwWiIvPjwvbWFzaz48ZyBtYXNrPSJ1cmwoI21hc2swKSI+PHBhdGggZmlsbD0iI0VFRSIgZD0iTTU3NyA5Ni41MjQ0SDExNlYzNDdINTc3Vjk2LjUyNDRaIi8+PHBhdGggZmlsbD0iI0Q5RDlEOSIgZD0iTTEyOS4yNzggODcuMDQ4M0MxMzEuMzczIDg3LjA0ODMgMTMzLjA3MSA4NS4zNTI1IDEzMy4wNzEgODMuMjYwNkMxMzMuMDcxIDgxLjE2ODcgMTMxLjM3MyA3OS40NzI5IDEyOS4yNzggNzkuNDcyOUMxMjcuMTgyIDc5LjQ3MjkgMTI1LjQ4NCA4MS4xNjg3IDEyNS40ODQgODMuMjYwNkMxMjUuNDg0IDg1LjM1MjUgMTI3LjE4MiA4Ny4wNDgzIDEyOS4yNzggODcuMDQ4M1oiIG9wYWNpdHk9Ii40Ii8+PHBhdGggZmlsbD0iI0Q5RDlEOSIgZD0iTTE0Mi43NjIgODcuMDQ4M0MxNDQuODU3IDg3LjA0ODMgMTQ2LjU1NSA4NS4zNTI1IDE0Ni41NTUgODMuMjYwNkMxNDYuNTU1IDgxLjE2ODcgMTQ0Ljg1NyA3OS40NzI5IDE0Mi43NjIgNzkuNDcyOUMxNDAuNjY3IDc5LjQ3MjkgMTM4Ljk2OCA4MS4xNjg3IDEzOC45NjggODMuMjYwNkMxMzguOTY4IDg1LjM1MjUgMTQwLjY2NyA4Ny4wNDgzIDE0Mi43NjIgODcuMDQ4M1oiIG9wYWNpdHk9Ii40Ii8+PHBhdGggZmlsbD0iI0Q5RDlEOSIgZD0iTTE1NS44MzMgODcuMDQ4M0MxNTcuOTI4IDg3LjA0ODMgMTU5LjYyNiA4NS4zNTI1IDE1OS42MjYgODMuMjYwNkMxNTkuNjI2IDgxLjE2ODcgMTU3LjkyOCA3OS40NzI5IDE1NS44MzMgNzkuNDcyOUMxNTMuNzM4IDc5LjQ3MjkgMTUyLjAzOSA4MS4xNjg3IDE1Mi4wMzkgODMuMjYwNkMxNTIuMDM5IDg1LjM1MjUgMTUzLjczOCA4Ny4wNDgzIDE1NS44MzMgODcuMDQ4M1oiIG9wYWNpdHk9Ii4zIi8+PHJlY3Qgd2lkdGg9IjI3IiBoZWlnaHQ9IjI1MSIgeD0iMTE2IiB5PSI5NiIgZmlsbD0iIzYxNjE2MSIvPjxyZWN0IHdpZHRoPSI0MzQiIGhlaWdodD0iMzEiIHg9IjE0MyIgeT0iOTYiIGZpbGw9IiNEOUQ5RDkiLz48cmVjdCB3aWR0aD0iNjAiIGhlaWdodD0iNyIgeD0iMTUzIiB5PSIxMzYiIGZpbGw9IiNmZmYiIHJ4PSIzLjUiLz48cmVjdCB3aWR0aD0iMTE4IiBoZWlnaHQ9IjciIHg9IjE1MyIgeT0iMTQ4IiBmaWxsPSIjZmZmIiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9IjUyIiBoZWlnaHQ9IjE2IiB4PSI1MTUiIHk9IjEzNiIgZmlsbD0iI0JEQkRCRCIgcng9IjIiLz48cmVjdCB3aWR0aD0iMTIxIiBoZWlnaHQ9Ijk0IiB4PSIxNTQuNSIgeT0iMTY2LjUiIHN0cm9rZT0iI0Q5RDlEOSIgc3Ryb2tlLWRhc2hhcnJheT0iNSA1IiBzdHJva2Utd2lkdGg9IjMiIHJ4PSIzLjUiLz48cmVjdCB3aWR0aD0iMTI4IiBoZWlnaHQ9Ijk0IiB4PSIyOTIuNSIgeT0iMTY2LjUiIHN0cm9rZT0iI0Q5RDlEOSIgc3Ryb2tlLWRhc2hhcnJheT0iNSA1IiBzdHJva2Utd2lkdGg9IjMiIHJ4PSIzLjUiLz48cmVjdCB3aWR0aD0iMTI4IiBoZWlnaHQ9Ijk0IiB4PSI0MzcuNSIgeT0iMTY2LjUiIHN0cm9rZT0iI0Q5RDlEOSIgc3Ryb2tlLWRhc2hhcnJheT0iNSA1IiBzdHJva2Utd2lkdGg9IjMiIHJ4PSIzLjUiLz48cmVjdCB3aWR0aD0iMTk3IiBoZWlnaHQ9Ijc4IiB4PSIxNTQuNSIgeT0iMjc2LjUiIHN0cm9rZT0iI0Q5RDlEOSIgc3Ryb2tlLWRhc2hhcnJheT0iNSA1IiBzdHJva2Utd2lkdGg9IjMiIHJ4PSIzLjUiLz48cmVjdCB3aWR0aD0iMTk3IiBoZWlnaHQ9Ijc4IiB4PSIzNjguNSIgeT0iMjc2LjUiIHN0cm9rZT0iI0Q5RDlEOSIgc3Ryb2tlLWRhc2hhcnJheT0iNSA1IiBzdHJva2Utd2lkdGg9IjMiIHJ4PSIzLjUiLz48L2c+PC9nPjxkZWZzPjxmaWx0ZXIgaWQ9ImZpbHRlcjBfZCIgd2lkdGg9IjUwMC45MjEiIGhlaWdodD0iMzE2LjYxMSIgeD0iOTgiIHk9IjU0IiBjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnM9InNSR0IiIGZpbHRlclVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PGZlRmxvb2QgZmxvb2Qtb3BhY2l0eT0iMCIgcmVzdWx0PSJCYWNrZ3JvdW5kSW1hZ2VGaXgiLz48ZmVDb2xvck1hdHJpeCBpbj0iU291cmNlQWxwaGEiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAxMjcgMCIvPjxmZU9mZnNldCBkeD0iMiIgZHk9IjQiLz48ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIxMCIvPjxmZUNvbG9yTWF0cml4IHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwLjI1IDAiLz48ZmVCbGVuZCBpbjI9IkJhY2tncm91bmRJbWFnZUZpeCIgbW9kZT0ibm9ybWFsIiByZXN1bHQ9ImVmZmVjdDFfZHJvcFNoYWRvdyIvPjxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9ImVmZmVjdDFfZHJvcFNoYWRvdyIgbW9kZT0ibm9ybWFsIiByZXN1bHQ9InNoYXBlIi8+PC9maWx0ZXI+PC9kZWZzPjwvc3ZnPg==\"","export default \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2OTMiIGhlaWdodD0iNDI1IiBmaWxsPSJub25lIiB2aWV3Qm94PSIwIDAgNjkzIDQyNSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMDUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTQwLjQzODcgMTEwLjk3N0MyNy4xNTU2IDExMy40NTIgMTguMzk0MSAxMjYuMjI3IDIwLjg2OTMgMTM5LjUxQzIzLjM0NDUgMTUyLjc5MyAzNi4xMTkyIDE2MS41NTUgNDkuNDAyMyAxNTkuMDc5TDY3LjcwMzYgMTU1LjY2OUM2Mi42MDc4IDE2MS4xNTMgNjAuMDg1NCAxNjguODk2IDYxLjU2MiAxNzYuODJDNjQuMDM3MiAxOTAuMTAzIDc2LjgxMTggMTk4Ljg2NSA5MC4wOTQ5IDE5Ni4zOUwyMjAuMzkgMTcyLjExQzIyMC40MTYgMTcyLjI2NyAyMjAuNDQ0IDE3Mi40MjUgMjIwLjQ3MyAxNzIuNTgyQzIyMS45NSAxODAuNTA3IDIyNy4wOTIgMTg2LjgyMiAyMzMuODIxIDE5MC4xMDJMMjI1LjgyNiAxOTEuNTkyQzIxMi41NDIgMTk0LjA2NyAyMDMuNzgxIDIwNi44NDEgMjA2LjI1NiAyMjAuMTI1QzIwOC43MzEgMjMzLjQwOCAyMjEuNTA2IDI0Mi4xNjkgMjM0Ljc4OSAyMzkuNjk0TDYxNC41NDQgMTY4LjkyOUM2MjcuODI3IDE2Ni40NTQgNjM2LjU4OCAxNTMuNjc5IDYzNC4xMTMgMTQwLjM5NkM2MzIuNjM2IDEzMi40NzIgNjI3LjQ5NCAxMjYuMTU3IDYyMC43NjUgMTIyLjg3N0w2MzMuNTU2IDEyMC40OTNDNjQ2LjgzOSAxMTguMDE4IDY1NS42MDEgMTA1LjI0NCA2NTMuMTI2IDkxLjk2MDRDNjUwLjY1IDc4LjY3NzMgNjM3Ljg3NiA2OS45MTU4IDYyNC41OTMgNzIuMzkxMUwzOTYuODIgMTE0LjgzNUMzOTYuNzk0IDExNC42NzggMzk2Ljc2NiAxMTQuNTIgMzk2LjczNyAxMTQuMzYzQzM5NS4yNiAxMDYuNDM4IDM5MC4xMTggMTAwLjEyMyAzODMuMzg5IDk2Ljg0MzFMNDA1LjUwMyA5Mi43MjI0QzQxOC43ODYgOTAuMjQ3MSA0MjcuNTQ3IDc3LjQ3MjUgNDI1LjA3MiA2NC4xODk0QzQyMi41OTcgNTAuOTA2MyA0MDkuODIyIDQyLjE0NDggMzk2LjUzOSA0NC42Mkw0MC40Mzg3IDExMC45NzdaTTU5LjcxOCAzMDEuMTA3QzU3LjI0MjggMjg3LjgyNCA2Ni4wMDQzIDI3NS4wNSA3OS4yODc0IDI3Mi41NzRMNDY4Ljk3NSAxOTkuOTU5QzQ4Mi4yNTggMTk3LjQ4NCA0OTUuMDMyIDIwNi4yNDUgNDk3LjUwOCAyMTkuNTI4QzQ5OS45ODMgMjMyLjgxMSA0OTEuMjIxIDI0NS41ODYgNDc3LjkzOCAyNDguMDYxTDQ2Ni43NzkgMjUwLjE0MUM0NjguMDgyIDI1MC43NzYgNDY5LjMyNSAyNTEuNTI0IDQ3MC40OTMgMjUyLjM3Nkw2MDUuNTMgMjI3LjIxM0M2MTguODEzIDIyNC43MzggNjMxLjU4OCAyMzMuNDk5IDYzNC4wNjMgMjQ2Ljc4MkM2MzUuNTQgMjU0LjcwNyA2MzMuMDE3IDI2Mi40NSA2MjcuOTIyIDI2Ny45MzRMNjMwLjY0MSAyNjcuNDI3QzY0My45MjQgMjY0Ljk1MiA2NTYuNjk5IDI3My43MTMgNjU5LjE3NCAyODYuOTk2QzY2MS42NDkgMzAwLjI3OSA2NTIuODg4IDMxMy4wNTQgNjM5LjYwNCAzMTUuNTI5TDIzNC44MDkgMzkwLjk2QzIyMS41MjYgMzkzLjQzNSAyMDguNzUxIDM4NC42NzQgMjA2LjI3NiAzNzEuMzkxQzIwMy44MDEgMzU4LjEwOCAyMTIuNTYzIDM0NS4zMzMgMjI1Ljg0NiAzNDIuODU4TDI1NS40MDQgMzM3LjM1QzI1NC4xMDEgMzM2LjcxNSAyNTIuODU4IDMzNS45NjYgMjUxLjY5IDMzNS4xMTRMNzEuNTA1MyAzNjguNjlDNTguMjIyMiAzNzEuMTY1IDQ1LjQ0NzYgMzYyLjQwNCA0Mi45NzIzIDM0OS4xMjFDNDAuNDk3MSAzMzUuODM4IDQ5LjI1ODYgMzIzLjA2MyA2Mi41NDE3IDMyMC41ODhMNzMuMDY1NSAzMTguNjI3QzY2LjMzNjcgMzE1LjM0NyA2MS4xOTQ2IDMwOS4wMzIgNTkuNzE4IDMwMS4xMDdaIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48ZyBmaWx0ZXI9InVybCgjZmlsdGVyMF9kKSI+PHJlY3Qgd2lkdGg9IjQ2MSIgaGVpZ2h0PSIyODYiIHg9IjEyMiIgeT0iNzAiIGZpbGw9IiNGOEY4RjgiIHJ4PSIxMCIvPjxyZWN0IHdpZHRoPSI1NSIgaGVpZ2h0PSI3IiB4PSIxNTAiIHk9Ijk2IiBmaWxsPSIjRDlEOUQ5IiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9IjQyIiBoZWlnaHQ9IjciIHg9IjE1MCIgeT0iMTM1IiBmaWxsPSIjQkRCREJEIiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9IjY1IiBoZWlnaHQ9IjciIHg9IjE1MCIgeT0iMTc0IiBmaWxsPSIjQkRCREJEIiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9IjYwIiBoZWlnaHQ9IjciIHg9IjE1MCIgeT0iMjEzIiBmaWxsPSIjQkRCREJEIiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9Ijg0IiBoZWlnaHQ9IjciIHg9IjE1MCIgeT0iMjUyIiBmaWxsPSIjQkRCREJEIiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9IjQyIiBoZWlnaHQ9IjciIHg9IjE1MCIgeT0iMjkxIiBmaWxsPSIjQkRCREJEIiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9IjY1IiBoZWlnaHQ9IjciIHg9IjE1MCIgeT0iMzMwIiBmaWxsPSIjQkRCREJEIiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9IjM1IiBoZWlnaHQ9IjciIHg9IjI4MiIgeT0iOTYiIGZpbGw9IiNEOUQ5RDkiIHJ4PSIzLjUiLz48cmVjdCB3aWR0aD0iMTAyIiBoZWlnaHQ9IjciIHg9IjI4MiIgeT0iMTM1IiBmaWxsPSIjQkRCREJEIiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9Ijc3IiBoZWlnaHQ9IjciIHg9IjI4MiIgeT0iMTc0IiBmaWxsPSIjQkRCREJEIiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9IjkzIiBoZWlnaHQ9IjciIHg9IjI4MiIgeT0iMjEzIiBmaWxsPSIjQkRCREJEIiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9IjQyIiBoZWlnaHQ9IjciIHg9IjI4MiIgeT0iMjUyIiBmaWxsPSIjQkRCREJEIiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9IjY5IiBoZWlnaHQ9IjciIHg9IjI4MiIgeT0iMjkxIiBmaWxsPSIjQkRCREJEIiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9Ijk3IiBoZWlnaHQ9IjciIHg9IjI4MiIgeT0iMzMwIiBmaWxsPSIjQkRCREJEIiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9IjkyIiBoZWlnaHQ9IjciIHg9IjQyMiIgeT0iOTYiIGZpbGw9IiNEOUQ5RDkiIHJ4PSIzLjUiLz48cmVjdCB3aWR0aD0iNjIiIGhlaWdodD0iNyIgeD0iNDIyIiB5PSIxMzUiIGZpbGw9IiNCREJEQkQiIHJ4PSIzLjUiLz48cmVjdCB3aWR0aD0iMjEiIGhlaWdodD0iNyIgeD0iNDIyIiB5PSIxNzQiIGZpbGw9IiNCREJEQkQiIHJ4PSIzLjUiLz48cmVjdCB3aWR0aD0iMzkiIGhlaWdodD0iNyIgeD0iNDIyIiB5PSIyMTMiIGZpbGw9IiNCREJEQkQiIHJ4PSIzLjUiLz48cmVjdCB3aWR0aD0iMTEyIiBoZWlnaHQ9IjciIHg9IjQyMiIgeT0iMjUyIiBmaWxsPSIjQkRCREJEIiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9IjY1IiBoZWlnaHQ9IjciIHg9IjQyMiIgeT0iMjkxIiBmaWxsPSIjQkRCREJEIiByeD0iMy41Ii8+PHJlY3Qgd2lkdGg9IjMwIiBoZWlnaHQ9IjciIHg9IjQyMiIgeT0iMzMwIiBmaWxsPSIjQkRCREJEIiByeD0iMy41Ii8+PGxpbmUgeDE9IjEzOCIgeDI9IjU2NyIgeTE9IjExOC41IiB5Mj0iMTE4LjUiIHN0cm9rZT0iI0VFRSIvPjxsaW5lIHgxPSIxMzgiIHgyPSI1NjciIHkxPSIxNTcuNSIgeTI9IjE1Ny41IiBzdHJva2U9IiNFRUUiLz48bGluZSB4MT0iMTM4IiB4Mj0iNTY3IiB5MT0iMTk2LjUiIHkyPSIxOTYuNSIgc3Ryb2tlPSIjRUVFIi8+PGxpbmUgeDE9IjEzOCIgeDI9IjU2NyIgeTE9IjIzNS41IiB5Mj0iMjM1LjUiIHN0cm9rZT0iI0VFRSIvPjxsaW5lIHgxPSIxMzgiIHgyPSI1NjciIHkxPSIyNzQuNSIgeTI9IjI3NC41IiBzdHJva2U9IiNFRUUiLz48bGluZSB4MT0iMTM4IiB4Mj0iNTY3IiB5MT0iMzEzLjUiIHkyPSIzMTMuNSIgc3Ryb2tlPSIjRUVFIi8+PC9nPjxkZWZzPjxmaWx0ZXIgaWQ9ImZpbHRlcjBfZCIgd2lkdGg9IjQ4NSIgaGVpZ2h0PSIzMTAiIHg9IjExMiIgeT0iNjIiIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycz0ic1JHQiIgZmlsdGVyVW5pdHM9InVzZXJTcGFjZU9uVXNlIj48ZmVGbG9vZCBmbG9vZC1vcGFjaXR5PSIwIiByZXN1bHQ9IkJhY2tncm91bmRJbWFnZUZpeCIvPjxmZUNvbG9yTWF0cml4IGluPSJTb3VyY2VBbHBoYSIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDEyNyAwIi8+PGZlT2Zmc2V0IGR4PSIyIiBkeT0iNCIvPjxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjYiLz48ZmVDb2xvck1hdHJpeCB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMC4yNSAwIi8+PGZlQmxlbmQgaW4yPSJCYWNrZ3JvdW5kSW1hZ2VGaXgiIG1vZGU9Im5vcm1hbCIgcmVzdWx0PSJlZmZlY3QxX2Ryb3BTaGFkb3ciLz48ZmVCbGVuZCBpbj0iU291cmNlR3JhcGhpYyIgaW4yPSJlZmZlY3QxX2Ryb3BTaGFkb3ciIG1vZGU9Im5vcm1hbCIgcmVzdWx0PSJzaGFwZSIvPjwvZmlsdGVyPjwvZGVmcz48L3N2Zz4=\"","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.applySubschema = exports.Type = void 0;\nconst validate_1 = require(\"./validate\");\nconst util_1 = require(\"./util\");\nconst codegen_1 = require(\"./codegen\");\nvar Type;\n(function (Type) {\n    Type[Type[\"Num\"] = 0] = \"Num\";\n    Type[Type[\"Str\"] = 1] = \"Str\";\n})(Type = exports.Type || (exports.Type = {}));\nfunction applySubschema(it, appl, valid) {\n    const subschema = getSubschema(it, appl);\n    extendSubschemaData(subschema, it, appl);\n    extendSubschemaMode(subschema, appl);\n    const nextContext = { ...it, ...subschema, items: undefined, props: undefined };\n    validate_1.subschemaCode(nextContext, valid);\n    return nextContext;\n}\nexports.applySubschema = applySubschema;\nfunction getSubschema(it, { keyword, schemaProp, schema, schemaPath, errSchemaPath, topSchemaRef }) {\n    if (keyword !== undefined && schema !== undefined) {\n        throw new Error('both \"keyword\" and \"schema\" passed, only one allowed');\n    }\n    if (keyword !== undefined) {\n        const sch = it.schema[keyword];\n        return schemaProp === undefined\n            ? {\n                schema: sch,\n                schemaPath: codegen_1._ `${it.schemaPath}${codegen_1.getProperty(keyword)}`,\n                errSchemaPath: `${it.errSchemaPath}/${keyword}`,\n            }\n            : {\n                schema: sch[schemaProp],\n                schemaPath: codegen_1._ `${it.schemaPath}${codegen_1.getProperty(keyword)}${codegen_1.getProperty(schemaProp)}`,\n                errSchemaPath: `${it.errSchemaPath}/${keyword}/${util_1.escapeFragment(schemaProp)}`,\n            };\n    }\n    if (schema !== undefined) {\n        if (schemaPath === undefined || errSchemaPath === undefined || topSchemaRef === undefined) {\n            throw new Error('\"schemaPath\", \"errSchemaPath\" and \"topSchemaRef\" are required with \"schema\"');\n        }\n        return {\n            schema,\n            schemaPath,\n            topSchemaRef,\n            errSchemaPath,\n        };\n    }\n    throw new Error('either \"keyword\" or \"schema\" must be passed');\n}\nfunction extendSubschemaData(subschema, it, { dataProp, dataPropType: dpType, data, dataTypes, propertyName }) {\n    if (data !== undefined && dataProp !== undefined) {\n        throw new Error('both \"data\" and \"dataProp\" passed, only one allowed');\n    }\n    const { gen } = it;\n    if (dataProp !== undefined) {\n        const { errorPath, dataPathArr, opts } = it;\n        const nextData = gen.let(\"data\", codegen_1._ `${it.data}${codegen_1.getProperty(dataProp)}`, true);\n        dataContextProps(nextData);\n        subschema.errorPath = codegen_1.str `${errorPath}${getErrorPath(dataProp, dpType, opts.jsPropertySyntax)}`;\n        subschema.parentDataProperty = codegen_1._ `${dataProp}`;\n        subschema.dataPathArr = [...dataPathArr, subschema.parentDataProperty];\n    }\n    if (data !== undefined) {\n        const nextData = data instanceof codegen_1.Name ? data : gen.let(\"data\", data, true); // replaceable if used once?\n        dataContextProps(nextData);\n        if (propertyName !== undefined)\n            subschema.propertyName = propertyName;\n        // TODO something is possibly wrong here with not changing parentDataProperty and not appending dataPathArr\n    }\n    if (dataTypes)\n        subschema.dataTypes = dataTypes;\n    function dataContextProps(_nextData) {\n        subschema.data = _nextData;\n        subschema.dataLevel = it.dataLevel + 1;\n        subschema.dataTypes = [];\n        it.definedProperties = new Set();\n        subschema.parentData = it.data;\n        subschema.dataNames = [...it.dataNames, _nextData];\n    }\n}\nfunction extendSubschemaMode(subschema, { jtdDiscriminator, jtdMetadata, compositeRule, createErrors, allErrors }) {\n    if (compositeRule !== undefined)\n        subschema.compositeRule = compositeRule;\n    if (createErrors !== undefined)\n        subschema.createErrors = createErrors;\n    if (allErrors !== undefined)\n        subschema.allErrors = allErrors;\n    subschema.jtdDiscriminator = jtdDiscriminator; // not inherited\n    subschema.jtdMetadata = jtdMetadata; // not inherited\n}\nfunction getErrorPath(dataProp, dataPropType, jsPropertySyntax) {\n    // let path\n    if (dataProp instanceof codegen_1.Name) {\n        const isNumber = dataPropType === Type.Num;\n        return jsPropertySyntax\n            ? isNumber\n                ? codegen_1._ `\"[\" + ${dataProp} + \"]\"`\n                : codegen_1._ `\"['\" + ${dataProp} + \"']\"`\n            : isNumber\n                ? codegen_1._ `\"/\" + ${dataProp}`\n                : codegen_1._ `\"/\" + ${dataProp}.replace(/~/g, \"~0\").replace(/\\\\//g, \"~1\")`; // TODO maybe use global escapePointer\n    }\n    return jsPropertySyntax ? codegen_1.getProperty(dataProp).toString() : \"/\" + util_1.escapeJsonPointer(dataProp);\n}\n//# sourceMappingURL=subschema.js.map","import { createPlugin, createComponentExtension, useApi, Progress, ResponseErrorPanel, InfoCard, Avatar } from '@backstage/core';\nimport { RELATION_MEMBER_OF, ENTITY_DEFAULT_NAMESPACE, RELATION_PARENT_OF, RELATION_CHILD_OF } from '@backstage/catalog-model';\nimport { useEntity, catalogApiRef, entityRouteParams, getEntityRelations, EntityRefLinks, isOwnerOf } from '@backstage/plugin-catalog-react';\nimport { makeStyles, createStyles, Grid, Box, Typography, Link, List, ListItem, ListItemIcon, Tooltip, ListItemText } from '@material-ui/core';\nimport Pagination from '@material-ui/lab/Pagination';\nimport React from 'react';\nimport { Link as Link$1, generatePath } from 'react-router-dom';\nimport { useAsync } from 'react-use';\nimport AccountTreeIcon from '@material-ui/icons/AccountTree';\nimport EmailIcon from '@material-ui/icons/Email';\nimport GroupIcon from '@material-ui/icons/Group';\nimport Alert from '@material-ui/lab/Alert';\nimport PersonIcon from '@material-ui/icons/Person';\nimport { genPageTheme } from '@backstage/theme';\n\nconst orgPlugin = createPlugin({\n  id: \"org\"\n});\nconst EntityGroupProfileCard = orgPlugin.provide(createComponentExtension({\n  component: {\n    lazy: () => import('./esm/index-60886877.esm.js').then((m) => m.GroupProfileCard)\n  }\n}));\nconst EntityMembersListCard = orgPlugin.provide(createComponentExtension({\n  component: {\n    lazy: () => import('./esm/index-60886877.esm.js').then((m) => m.MembersListCard)\n  }\n}));\nconst EntityOwnershipCard = orgPlugin.provide(createComponentExtension({\n  component: {\n    lazy: () => import('./esm/index-60886877.esm.js').then((m) => m.OwnershipCard)\n  }\n}));\nconst EntityUserProfileCard = orgPlugin.provide(createComponentExtension({\n  component: {\n    lazy: () => import('./esm/index-60886877.esm.js').then((m) => m.UserProfileCard)\n  }\n}));\n\nconst useStyles = makeStyles((theme) => createStyles({\n  card: {\n    border: `1px solid ${theme.palette.divider}`,\n    boxShadow: theme.shadows[2],\n    borderRadius: \"4px\",\n    overflow: \"visible\",\n    position: \"relative\",\n    margin: theme.spacing(4, 1, 1),\n    flex: \"1\",\n    minWidth: \"0px\"\n  }\n}));\nconst MemberComponent = ({member}) => {\n  var _a;\n  const classes = useStyles();\n  const {\n    metadata: {name: metaName},\n    spec: {profile}\n  } = member;\n  const displayName = (_a = profile == null ? void 0 : profile.displayName) != null ? _a : metaName;\n  return /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    container: true,\n    xs: 12,\n    sm: 6,\n    md: 4,\n    xl: 2\n  }, /* @__PURE__ */ React.createElement(Box, {\n    className: classes.card\n  }, /* @__PURE__ */ React.createElement(Box, {\n    display: \"flex\",\n    flexDirection: \"column\",\n    m: 3,\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  }, /* @__PURE__ */ React.createElement(Avatar, {\n    displayName,\n    picture: profile == null ? void 0 : profile.picture,\n    customStyles: {\n      position: \"absolute\",\n      top: \"-2rem\"\n    }\n  }), /* @__PURE__ */ React.createElement(Box, {\n    pt: 2,\n    textAlign: \"center\"\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"h5\"\n  }, /* @__PURE__ */ React.createElement(Link, {\n    component: Link$1,\n    to: generatePath(`/catalog/:namespace/user/${metaName}`, entityRouteParams(member))\n  }, displayName)), /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"caption\"\n  }, profile == null ? void 0 : profile.email)))));\n};\nconst MembersListCard = (_props) => {\n  var _a;\n  const {entity: groupEntity} = useEntity();\n  const {\n    metadata: {name: groupName, namespace: grpNamespace},\n    spec: {profile}\n  } = groupEntity;\n  const catalogApi = useApi(catalogApiRef);\n  const displayName = (_a = profile == null ? void 0 : profile.displayName) != null ? _a : groupName;\n  const groupNamespace = grpNamespace || ENTITY_DEFAULT_NAMESPACE;\n  const [page, setPage] = React.useState(1);\n  const pageChange = (_, pageIndex) => {\n    setPage(pageIndex);\n  };\n  const pageSize = 50;\n  const {loading, error, value: members} = useAsync(async () => {\n    const membersList = await catalogApi.getEntities({\n      filter: {kind: \"User\"}\n    });\n    const groupMembersList = membersList.items.filter((member) => {\n      var _a2;\n      return (_a2 = member == null ? void 0 : member.relations) == null ? void 0 : _a2.some((r) => r.type === RELATION_MEMBER_OF && r.target.name.toLocaleLowerCase(\"en-US\") === groupName.toLocaleLowerCase(\"en-US\") && r.target.namespace.toLocaleLowerCase(\"en-US\") === groupNamespace.toLocaleLowerCase(\"en-US\"));\n    });\n    return groupMembersList;\n  }, [catalogApi, groupEntity]);\n  if (loading) {\n    return /* @__PURE__ */ React.createElement(Progress, null);\n  } else if (error) {\n    return /* @__PURE__ */ React.createElement(ResponseErrorPanel, {\n      error\n    });\n  }\n  const nbPages = Math.ceil(((members == null ? void 0 : members.length) || 0) / pageSize);\n  const paginationLabel = nbPages < 2 ? \"\" : `, page ${page} of ${nbPages}`;\n  const pagination = /* @__PURE__ */ React.createElement(Pagination, {\n    count: nbPages,\n    page,\n    onChange: pageChange,\n    showFirstButton: true,\n    showLastButton: true\n  });\n  return /* @__PURE__ */ React.createElement(Grid, {\n    item: true\n  }, /* @__PURE__ */ React.createElement(InfoCard, {\n    title: `Members (${(members == null ? void 0 : members.length) || 0}${paginationLabel})`,\n    subheader: `of ${displayName}`,\n    actions: pagination\n  }, /* @__PURE__ */ React.createElement(Grid, {\n    container: true,\n    spacing: 3\n  }, members && members.length > 0 ? members.slice(pageSize * (page - 1), pageSize * page).map((member) => /* @__PURE__ */ React.createElement(MemberComponent, {\n    member,\n    key: member.metadata.uid\n  })) : /* @__PURE__ */ React.createElement(Box, {\n    p: 2\n  }, /* @__PURE__ */ React.createElement(Typography, null, \"This group has no members.\")))));\n};\n\nconst CardTitle = ({title}) => /* @__PURE__ */ React.createElement(Box, {\n  display: \"flex\",\n  alignItems: \"center\"\n}, /* @__PURE__ */ React.createElement(GroupIcon, {\n  fontSize: \"inherit\"\n}), /* @__PURE__ */ React.createElement(Box, {\n  ml: 1\n}, title));\nconst GroupProfileCard = ({\n  variant\n}) => {\n  var _a;\n  const {entity: group} = useEntity();\n  if (!group) {\n    return /* @__PURE__ */ React.createElement(Alert, {\n      severity: \"error\"\n    }, \"Group not found\");\n  }\n  const {\n    metadata: {name, description},\n    spec: {profile}\n  } = group;\n  const childRelations = getEntityRelations(group, RELATION_PARENT_OF, {\n    kind: \"Group\"\n  });\n  const parentRelations = getEntityRelations(group, RELATION_CHILD_OF, {\n    kind: \"group\"\n  });\n  const displayName = (_a = profile == null ? void 0 : profile.displayName) != null ? _a : name;\n  const emailHref = (profile == null ? void 0 : profile.email) ? `mailto:${profile.email}` : void 0;\n  return /* @__PURE__ */ React.createElement(InfoCard, {\n    title: /* @__PURE__ */ React.createElement(CardTitle, {\n      title: displayName\n    }),\n    subheader: description,\n    variant\n  }, /* @__PURE__ */ React.createElement(Grid, {\n    container: true,\n    spacing: 3\n  }, /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 2,\n    xl: 1\n  }, /* @__PURE__ */ React.createElement(Avatar, {\n    displayName,\n    picture: profile == null ? void 0 : profile.picture\n  })), /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    md: 10,\n    xl: 11\n  }, /* @__PURE__ */ React.createElement(List, null, (profile == null ? void 0 : profile.email) && /* @__PURE__ */ React.createElement(ListItem, null, /* @__PURE__ */ React.createElement(ListItemIcon, null, /* @__PURE__ */ React.createElement(Tooltip, {\n    title: \"Email\"\n  }, /* @__PURE__ */ React.createElement(EmailIcon, null))), /* @__PURE__ */ React.createElement(ListItemText, null, /* @__PURE__ */ React.createElement(Link, {\n    href: emailHref\n  }, profile.email))), parentRelations.length ? /* @__PURE__ */ React.createElement(ListItem, null, /* @__PURE__ */ React.createElement(ListItemIcon, null, /* @__PURE__ */ React.createElement(Tooltip, {\n    title: \"Parent Group\"\n  }, /* @__PURE__ */ React.createElement(AccountTreeIcon, null))), /* @__PURE__ */ React.createElement(ListItemText, null, /* @__PURE__ */ React.createElement(EntityRefLinks, {\n    entityRefs: parentRelations,\n    defaultKind: \"Group\"\n  }))) : null, childRelations.length ? /* @__PURE__ */ React.createElement(ListItem, null, /* @__PURE__ */ React.createElement(ListItemIcon, null, /* @__PURE__ */ React.createElement(Tooltip, {\n    title: \"Child Groups\"\n  }, /* @__PURE__ */ React.createElement(GroupIcon, null))), /* @__PURE__ */ React.createElement(ListItemText, null, /* @__PURE__ */ React.createElement(EntityRefLinks, {\n    entityRefs: childRelations,\n    defaultKind: \"Group\"\n  }))) : null))));\n};\n\nconst CardTitle$1 = ({title}) => title ? /* @__PURE__ */ React.createElement(Box, {\n  display: \"flex\",\n  alignItems: \"center\"\n}, /* @__PURE__ */ React.createElement(PersonIcon, {\n  fontSize: \"inherit\"\n}), /* @__PURE__ */ React.createElement(Box, {\n  ml: 1\n}, title)) : null;\nconst UserProfileCard = ({\n  variant\n}) => {\n  var _a;\n  const {entity: user} = useEntity();\n  if (!user) {\n    return /* @__PURE__ */ React.createElement(Alert, {\n      severity: \"error\"\n    }, \"User not found\");\n  }\n  const {\n    metadata: {name: metaName},\n    spec: {profile}\n  } = user;\n  const displayName = (_a = profile == null ? void 0 : profile.displayName) != null ? _a : metaName;\n  const emailHref = (profile == null ? void 0 : profile.email) ? `mailto:${profile.email}` : void 0;\n  const memberOfRelations = getEntityRelations(user, RELATION_MEMBER_OF, {\n    kind: \"Group\"\n  });\n  return /* @__PURE__ */ React.createElement(InfoCard, {\n    title: /* @__PURE__ */ React.createElement(CardTitle$1, {\n      title: displayName\n    }),\n    variant\n  }, /* @__PURE__ */ React.createElement(Grid, {\n    container: true,\n    spacing: 3,\n    alignItems: \"flex-start\"\n  }, /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 2,\n    xl: 1\n  }, /* @__PURE__ */ React.createElement(Avatar, {\n    displayName,\n    picture: profile == null ? void 0 : profile.picture\n  })), /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    md: 10,\n    xl: 11\n  }, /* @__PURE__ */ React.createElement(List, null, (profile == null ? void 0 : profile.email) && /* @__PURE__ */ React.createElement(ListItem, null, /* @__PURE__ */ React.createElement(ListItemIcon, null, /* @__PURE__ */ React.createElement(Tooltip, {\n    title: \"Email\"\n  }, /* @__PURE__ */ React.createElement(EmailIcon, null))), /* @__PURE__ */ React.createElement(ListItemText, null, /* @__PURE__ */ React.createElement(Link, {\n    href: emailHref\n  }, profile.email))), /* @__PURE__ */ React.createElement(ListItem, null, /* @__PURE__ */ React.createElement(ListItemIcon, null, /* @__PURE__ */ React.createElement(Tooltip, {\n    title: \"Member of\"\n  }, /* @__PURE__ */ React.createElement(GroupIcon, null))), /* @__PURE__ */ React.createElement(ListItemText, null, /* @__PURE__ */ React.createElement(EntityRefLinks, {\n    entityRefs: memberOfRelations,\n    defaultKind: \"Group\"\n  })))))));\n};\n\nconst createPageTheme = (theme, shapeKey, colorsKey) => {\n  const {colors} = theme.getPageTheme({themeId: colorsKey});\n  const {shape} = theme.getPageTheme({themeId: shapeKey});\n  return genPageTheme(colors, shape).backgroundImage;\n};\nconst useStyles$1 = makeStyles((theme) => createStyles({\n  card: {\n    border: `1px solid ${theme.palette.divider}`,\n    boxShadow: theme.shadows[2],\n    borderRadius: \"4px\",\n    padding: theme.spacing(2),\n    color: \"#fff\",\n    transition: `${theme.transitions.duration.standard}ms`,\n    \"&:hover\": {\n      boxShadow: theme.shadows[4]\n    }\n  },\n  bold: {\n    fontWeight: theme.typography.fontWeightBold\n  },\n  service: {\n    background: createPageTheme(theme, \"home\", \"service\")\n  },\n  website: {\n    background: createPageTheme(theme, \"home\", \"website\")\n  },\n  library: {\n    background: createPageTheme(theme, \"home\", \"library\")\n  },\n  documentation: {\n    background: createPageTheme(theme, \"home\", \"documentation\")\n  },\n  api: {\n    background: createPageTheme(theme, \"home\", \"home\")\n  },\n  tool: {\n    background: createPageTheme(theme, \"home\", \"tool\")\n  }\n}));\nconst countEntitiesBy = (entities, kind, type) => entities.filter((e) => {\n  var _a;\n  return e.kind === kind && (type ? ((_a = e == null ? void 0 : e.spec) == null ? void 0 : _a.type) === type : true);\n}).length;\nconst EntityCountTile = ({\n  counter,\n  className,\n  name\n}) => {\n  const classes = useStyles$1();\n  return /* @__PURE__ */ React.createElement(Box, {\n    className: `${classes.card} ${classes[className]}`,\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    className: classes.bold,\n    variant: \"h6\"\n  }, counter), /* @__PURE__ */ React.createElement(Typography, {\n    className: classes.bold,\n    variant: \"h6\"\n  }, name));\n};\nconst OwnershipCard = ({\n  variant\n}) => {\n  const {entity} = useEntity();\n  const catalogApi = useApi(catalogApiRef);\n  const {\n    loading,\n    error,\n    value: componentsWithCounters\n  } = useAsync(async () => {\n    const kinds = [\"Component\", \"API\"];\n    const entitiesList = await catalogApi.getEntities({\n      filter: {\n        kind: kinds\n      },\n      fields: [\n        \"kind\",\n        \"metadata.name\",\n        \"metadata.namespace\",\n        \"spec.type\",\n        \"relations\"\n      ]\n    });\n    const ownedEntitiesList = entitiesList.items.filter((component) => isOwnerOf(entity, component));\n    return [\n      {\n        counter: countEntitiesBy(ownedEntitiesList, \"Component\", \"service\"),\n        className: \"service\",\n        name: \"Services\"\n      },\n      {\n        counter: countEntitiesBy(ownedEntitiesList, \"Component\", \"documentation\"),\n        className: \"documentation\",\n        name: \"Documentation\"\n      },\n      {\n        counter: countEntitiesBy(ownedEntitiesList, \"API\"),\n        className: \"api\",\n        name: \"APIs\"\n      },\n      {\n        counter: countEntitiesBy(ownedEntitiesList, \"Component\", \"library\"),\n        className: \"library\",\n        name: \"Libraries\"\n      },\n      {\n        counter: countEntitiesBy(ownedEntitiesList, \"Component\", \"website\"),\n        className: \"website\",\n        name: \"Websites\"\n      },\n      {\n        counter: countEntitiesBy(ownedEntitiesList, \"Component\", \"tool\"),\n        className: \"tool\",\n        name: \"Tools\"\n      }\n    ];\n  }, [catalogApi, entity]);\n  if (loading) {\n    return /* @__PURE__ */ React.createElement(Progress, null);\n  } else if (error) {\n    return /* @__PURE__ */ React.createElement(ResponseErrorPanel, {\n      error\n    });\n  }\n  return /* @__PURE__ */ React.createElement(InfoCard, {\n    title: \"Ownership\",\n    variant\n  }, /* @__PURE__ */ React.createElement(Grid, {\n    container: true\n  }, componentsWithCounters == null ? void 0 : componentsWithCounters.map((c) => /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    md: 6,\n    lg: 4,\n    key: c.name\n  }, /* @__PURE__ */ React.createElement(EntityCountTile, {\n    counter: c.counter,\n    className: c.className,\n    name: c.name\n  })))));\n};\n\nexport { EntityGroupProfileCard, EntityMembersListCard, EntityOwnershipCard, EntityUserProfileCard, GroupProfileCard, MembersListCard, OwnershipCard, UserProfileCard, orgPlugin, orgPlugin as plugin };\n//# sourceMappingURL=index.esm.js.map\n","import { createApiRef, createRouteRef, createPlugin, createApiFactory, configApiRef, githubAuthApiRef, createRoutableExtension, createComponentExtension, StatusPending, StatusOK, StatusError, StatusWarning, StatusAborted, StatusRunning, useApi, useRouteRefParams, Breadcrumbs, Link, errorApiRef, EmptyState, Table as Table$1, MissingAnnotationEmptyState, InfoCard, StructuredMetadataTable } from '@backstage/core';\nimport { readGitHubIntegrationConfigs } from '@backstage/integration';\nimport { Octokit } from '@octokit/rest';\nimport React, { Suspense, useState, useEffect } from 'react';\nimport { useEntity } from '@backstage/plugin-catalog-react';\nimport { Routes, Route } from 'react-router';\nimport { makeStyles, Accordion, AccordionSummary, Typography, CircularProgress, Tooltip, Zoom, Modal, Fade, LinearProgress, Box, TableContainer, Paper, Table, TableBody, TableRow, TableCell, Link as Link$1, AccordionDetails, ListItemText, Button, IconButton } from '@material-ui/core';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport ExternalLinkIcon from '@material-ui/icons/Launch';\nimport moment from 'moment';\nimport { useAsync, useAsyncRetry } from 'react-use';\nimport DescriptionIcon from '@material-ui/icons/Description';\nimport RetryIcon from '@material-ui/icons/Replay';\nimport GitHubIcon from '@material-ui/icons/GitHub';\nimport { Link as Link$2, generatePath } from 'react-router-dom';\nimport SyncIcon from '@material-ui/icons/Sync';\n\nconst githubActionsApiRef = createApiRef({\n  id: \"plugin.githubactions.service\",\n  description: \"Used by the GitHub Actions plugin to make requests\"\n});\n\nclass GithubActionsClient {\n  constructor(options) {\n    this.configApi = options.configApi;\n    this.githubAuthApi = options.githubAuthApi;\n  }\n  async getOctokit(hostname) {\n    var _a;\n    const token = await this.githubAuthApi.getAccessToken([\"repo\"]);\n    const configs = readGitHubIntegrationConfigs((_a = this.configApi.getOptionalConfigArray(\"integrations.github\")) != null ? _a : []);\n    const githubIntegrationConfig = configs.find((v) => v.host === hostname);\n    const baseUrl = githubIntegrationConfig == null ? void 0 : githubIntegrationConfig.apiBaseUrl;\n    return new Octokit({auth: token, baseUrl});\n  }\n  async reRunWorkflow({\n    hostname,\n    owner,\n    repo,\n    runId\n  }) {\n    const octokit = await this.getOctokit(hostname);\n    return octokit.actions.reRunWorkflow({\n      owner,\n      repo,\n      run_id: runId\n    });\n  }\n  async listWorkflowRuns({\n    hostname,\n    owner,\n    repo,\n    pageSize = 100,\n    page = 0,\n    branch\n  }) {\n    const octokit = await this.getOctokit(hostname);\n    const workflowRuns = await octokit.actions.listWorkflowRunsForRepo({\n      owner,\n      repo,\n      per_page: pageSize,\n      page,\n      ...branch ? {branch} : {}\n    });\n    return workflowRuns.data;\n  }\n  async getWorkflow({\n    hostname,\n    owner,\n    repo,\n    id\n  }) {\n    const octokit = await this.getOctokit(hostname);\n    const workflow = await octokit.actions.getWorkflow({\n      owner,\n      repo,\n      workflow_id: id\n    });\n    return workflow.data;\n  }\n  async getWorkflowRun({\n    hostname,\n    owner,\n    repo,\n    id\n  }) {\n    const octokit = await this.getOctokit(hostname);\n    const run = await octokit.actions.getWorkflowRun({\n      owner,\n      repo,\n      run_id: id\n    });\n    return run.data;\n  }\n  async downloadJobLogsForWorkflowRun({\n    hostname,\n    owner,\n    repo,\n    runId\n  }) {\n    const octokit = await this.getOctokit(hostname);\n    const workflow = await octokit.actions.downloadJobLogsForWorkflowRun({\n      owner,\n      repo,\n      job_id: runId\n    });\n    return workflow.data;\n  }\n}\n\nvar BuildStatus;\n(function(BuildStatus2) {\n  BuildStatus2[BuildStatus2[\"success\"] = 0] = \"success\";\n  BuildStatus2[BuildStatus2[\"failure\"] = 1] = \"failure\";\n  BuildStatus2[BuildStatus2[\"pending\"] = 2] = \"pending\";\n  BuildStatus2[BuildStatus2[\"running\"] = 3] = \"running\";\n})(BuildStatus || (BuildStatus = {}));\n\nconst rootRouteRef = createRouteRef({\n  path: \"\",\n  title: \"GitHub Actions\"\n});\nconst buildRouteRef = createRouteRef({\n  path: \":id\",\n  params: [\"id\"],\n  title: \"GitHub Actions Workflow Run\"\n});\nconst githubActionsPlugin = createPlugin({\n  id: \"github-actions\",\n  apis: [\n    createApiFactory({\n      api: githubActionsApiRef,\n      deps: {configApi: configApiRef, githubAuthApi: githubAuthApiRef},\n      factory: ({configApi, githubAuthApi}) => new GithubActionsClient({configApi, githubAuthApi})\n    })\n  ],\n  routes: {\n    entityContent: rootRouteRef\n  }\n});\nconst EntityGithubActionsContent = githubActionsPlugin.provide(createRoutableExtension({\n  component: () => Promise.resolve().then(function () { return Router$1; }).then((m) => m.Router),\n  mountPoint: rootRouteRef\n}));\nconst EntityLatestGithubActionRunCard = githubActionsPlugin.provide(createComponentExtension({\n  component: {\n    lazy: () => import('./esm/index-510c99e1.esm.js').then((m) => m.LatestWorkflowRunCard)\n  }\n}));\nconst EntityLatestGithubActionsForBranchCard = githubActionsPlugin.provide(createComponentExtension({\n  component: {\n    lazy: () => import('./esm/index-510c99e1.esm.js').then((m) => m.LatestWorkflowsForBranchCard)\n  }\n}));\nconst EntityRecentGithubActionsRunsCard = githubActionsPlugin.provide(createComponentExtension({\n  component: {\n    lazy: () => import('./esm/index-510c99e1.esm.js').then((m) => m.RecentWorkflowRunsCard)\n  }\n}));\n\nconst GITHUB_ACTIONS_ANNOTATION = \"github.com/project-slug\";\nconst useProjectName = (entity) => {\n  const {value, loading, error} = useAsync(async () => {\n    var _a, _b;\n    return (_b = (_a = entity == null ? void 0 : entity.metadata.annotations) == null ? void 0 : _a[GITHUB_ACTIONS_ANNOTATION]) != null ? _b : \"\";\n  });\n  return {value, loading, error};\n};\n\nconst WorkflowRunStatus = ({\n  status,\n  conclusion\n}) => {\n  if (status === void 0)\n    return null;\n  switch (status.toLocaleLowerCase(\"en-US\")) {\n    case \"queued\":\n      return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(StatusPending, null), \" Queued\");\n    case \"in_progress\":\n      return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(StatusRunning, null), \" In progress\");\n    case \"completed\":\n      switch (conclusion == null ? void 0 : conclusion.toLocaleLowerCase(\"en-US\")) {\n        case \"skipped\":\n          return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(StatusAborted, null), \" Aborted\");\n        case \"timed_out\":\n          return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(StatusWarning, null), \" Timed out\");\n        case \"failure\":\n          return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(StatusError, null), \" Error\");\n        default:\n          return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(StatusOK, null), \" Completed\");\n      }\n    default:\n      return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(StatusPending, null), \" Pending\");\n  }\n};\n\nconst useWorkflowRunJobs = (jobsUrl) => {\n  const jobs = useAsync(async () => {\n    if (jobsUrl === void 0) {\n      return {\n        total_count: 0,\n        jobs: []\n      };\n    }\n    const data = await fetch(jobsUrl).then((d) => d.json());\n    return data;\n  }, [jobsUrl]);\n  return jobs;\n};\n\nconst useWorkflowRunsDetails = ({\n  hostname,\n  owner,\n  repo\n}) => {\n  const api = useApi(githubActionsApiRef);\n  const {id} = useRouteRefParams(buildRouteRef);\n  const details = useAsync(async () => {\n    return repo && owner ? api.getWorkflowRun({\n      hostname,\n      owner,\n      repo,\n      id: parseInt(id, 10)\n    }) : Promise.reject(\"No repo/owner provided\");\n  }, [repo, owner, id]);\n  return details;\n};\n\nconst useDownloadWorkflowRunLogs = ({\n  hostname,\n  owner,\n  repo,\n  id\n}) => {\n  const api = useApi(githubActionsApiRef);\n  const details = useAsync(async () => {\n    return repo && owner ? api.downloadJobLogsForWorkflowRun({\n      hostname,\n      owner,\n      repo,\n      runId: parseInt(id, 10)\n    }) : Promise.reject(\"No repo/owner provided\");\n  }, [repo, owner, id]);\n  return details;\n};\n\nconst LazyLog = React.lazy(() => import('react-lazylog/build/LazyLog'));\nconst LinePart = React.lazy(() => import('react-lazylog/build/LinePart'));\nconst useStyles = makeStyles(() => ({\n  button: {\n    order: -1,\n    marginRight: 0,\n    marginLeft: \"-20px\"\n  },\n  modal: {\n    display: \"flex\",\n    alignItems: \"center\",\n    width: \"85%\",\n    height: \"85%\",\n    justifyContent: \"center\",\n    margin: \"auto\"\n  },\n  normalLog: {\n    height: \"75vh\",\n    width: \"100%\"\n  },\n  modalLog: {\n    height: \"100%\",\n    width: \"100%\"\n  }\n}));\nconst DisplayLog = ({\n  jobLogs,\n  className\n}) => {\n  return /* @__PURE__ */ React.createElement(Suspense, {\n    fallback: /* @__PURE__ */ React.createElement(LinearProgress, null)\n  }, /* @__PURE__ */ React.createElement(\"div\", {\n    className\n  }, /* @__PURE__ */ React.createElement(LazyLog, {\n    text: jobLogs != null ? jobLogs : \"No Values Found\",\n    extraLines: 1,\n    caseInsensitive: true,\n    enableSearch: true,\n    formatPart: (line) => {\n      if (line.toLocaleLowerCase().includes(\"error\") || line.toLocaleLowerCase().includes(\"failed\") || line.toLocaleLowerCase().includes(\"failure\")) {\n        return /* @__PURE__ */ React.createElement(LinePart, {\n          style: {color: \"red\"},\n          part: {text: line}\n        });\n      }\n      return line;\n    }\n  })));\n};\nconst WorkflowRunLogs = ({\n  entity,\n  runId,\n  inProgress\n}) => {\n  var _a;\n  const config = useApi(configApiRef);\n  const classes = useStyles();\n  const projectName = useProjectName(entity);\n  const hostname = readGitHubIntegrationConfigs((_a = config.getOptionalConfigArray(\"integrations.github\")) != null ? _a : [])[0].host;\n  const [owner, repo] = projectName.value ? projectName.value.split(\"/\") : [];\n  const jobLogs = useDownloadWorkflowRunLogs({\n    hostname,\n    owner,\n    repo,\n    id: runId\n  });\n  const [open, setOpen] = React.useState(false);\n  const handleOpen = () => {\n    setOpen(true);\n  };\n  const handleClose = () => {\n    setOpen(false);\n  };\n  return /* @__PURE__ */ React.createElement(Accordion, {\n    TransitionProps: {unmountOnExit: true},\n    disabled: inProgress\n  }, /* @__PURE__ */ React.createElement(AccordionSummary, {\n    expandIcon: /* @__PURE__ */ React.createElement(ExpandMoreIcon, null),\n    \"aria-controls\": `panel-${name}-content`,\n    id: `panel-${name}-header`,\n    IconButtonProps: {\n      className: classes.button\n    }\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"button\"\n  }, jobLogs.loading ? /* @__PURE__ */ React.createElement(CircularProgress, null) : \"Job Log\"), /* @__PURE__ */ React.createElement(Tooltip, {\n    title: \"Open Log\",\n    TransitionComponent: Zoom,\n    arrow: true\n  }, /* @__PURE__ */ React.createElement(DescriptionIcon, {\n    onClick: (event) => {\n      event.stopPropagation();\n      handleOpen();\n    },\n    style: {marginLeft: \"auto\"}\n  })), /* @__PURE__ */ React.createElement(Modal, {\n    className: classes.modal,\n    onClick: (event) => event.stopPropagation(),\n    open,\n    onClose: handleClose\n  }, /* @__PURE__ */ React.createElement(Fade, {\n    in: open\n  }, /* @__PURE__ */ React.createElement(DisplayLog, {\n    jobLogs: jobLogs.value || void 0,\n    className: classes.modalLog\n  })))), jobLogs.value && /* @__PURE__ */ React.createElement(DisplayLog, {\n    jobLogs: jobLogs.value || void 0,\n    className: classes.normalLog\n  }));\n};\n\nconst useStyles$1 = makeStyles((theme) => ({\n  root: {\n    maxWidth: 720,\n    margin: theme.spacing(2)\n  },\n  title: {\n    padding: theme.spacing(1, 0, 2, 0)\n  },\n  table: {\n    padding: theme.spacing(1)\n  },\n  accordionDetails: {\n    padding: 0\n  },\n  button: {\n    order: -1,\n    marginRight: 0,\n    marginLeft: \"-20px\"\n  },\n  externalLinkIcon: {\n    fontSize: \"inherit\",\n    verticalAlign: \"bottom\"\n  }\n}));\nconst getElapsedTime = (start, end) => {\n  const diff = moment(moment(end || moment()).diff(moment(start)));\n  const timeElapsed = diff.format(\"m [minutes] s [seconds]\");\n  return timeElapsed;\n};\nconst StepView = ({step}) => {\n  var _a;\n  return /* @__PURE__ */ React.createElement(TableRow, null, /* @__PURE__ */ React.createElement(TableCell, null, /* @__PURE__ */ React.createElement(ListItemText, {\n    primary: step.name,\n    secondary: getElapsedTime(step.started_at, step.completed_at)\n  })), /* @__PURE__ */ React.createElement(TableCell, null, /* @__PURE__ */ React.createElement(WorkflowRunStatus, {\n    status: step.status.toLocaleUpperCase(\"en-US\"),\n    conclusion: (_a = step.conclusion) == null ? void 0 : _a.toLocaleUpperCase(\"en-US\")\n  })));\n};\nconst JobListItem = ({\n  job,\n  className,\n  entity\n}) => {\n  const classes = useStyles$1();\n  return /* @__PURE__ */ React.createElement(Accordion, {\n    TransitionProps: {unmountOnExit: true},\n    className\n  }, /* @__PURE__ */ React.createElement(AccordionSummary, {\n    expandIcon: /* @__PURE__ */ React.createElement(ExpandMoreIcon, null),\n    \"aria-controls\": `panel-${name}-content`,\n    id: `panel-${name}-header`,\n    IconButtonProps: {\n      className: classes.button\n    }\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"button\"\n  }, job.name, \" (\", getElapsedTime(job.started_at, job.completed_at), \")\")), /* @__PURE__ */ React.createElement(AccordionDetails, {\n    className: classes.accordionDetails\n  }, /* @__PURE__ */ React.createElement(TableContainer, null, /* @__PURE__ */ React.createElement(Table, null, job.steps.map((step) => /* @__PURE__ */ React.createElement(StepView, {\n    key: step.number,\n    step\n  }))))), job.status === \"queued\" || job.status === \"in_progress\" ? /* @__PURE__ */ React.createElement(WorkflowRunLogs, {\n    runId: job.id,\n    inProgress: true,\n    entity\n  }) : /* @__PURE__ */ React.createElement(WorkflowRunLogs, {\n    runId: job.id,\n    inProgress: false,\n    entity\n  }));\n};\nconst JobsList = ({jobs, entity}) => {\n  const classes = useStyles$1();\n  return /* @__PURE__ */ React.createElement(Box, null, jobs && jobs.total_count > 0 && jobs.jobs.map((job) => /* @__PURE__ */ React.createElement(JobListItem, {\n    key: job.id,\n    job,\n    className: job.status !== \"success\" ? classes.failed : classes.success,\n    entity\n  })));\n};\nconst WorkflowRunDetails = ({entity}) => {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p, _q;\n  const config = useApi(configApiRef);\n  const projectName = useProjectName(entity);\n  const hostname = readGitHubIntegrationConfigs((_a = config.getOptionalConfigArray(\"integrations.github\")) != null ? _a : [])[0].host;\n  const [owner, repo] = projectName.value ? projectName.value.split(\"/\") : [];\n  const details = useWorkflowRunsDetails({hostname, owner, repo});\n  const jobs = useWorkflowRunJobs((_b = details.value) == null ? void 0 : _b.jobs_url);\n  const error = projectName.error || projectName.value && details.error;\n  const classes = useStyles$1();\n  if (error) {\n    return /* @__PURE__ */ React.createElement(Typography, {\n      variant: \"h6\",\n      color: \"error\"\n    }, \"Failed to load build, \", error.message);\n  } else if (projectName.loading || details.loading) {\n    return /* @__PURE__ */ React.createElement(LinearProgress, null);\n  }\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.root\n  }, /* @__PURE__ */ React.createElement(Box, {\n    mb: 3\n  }, /* @__PURE__ */ React.createElement(Breadcrumbs, {\n    \"aria-label\": \"breadcrumb\"\n  }, /* @__PURE__ */ React.createElement(Link, {\n    to: \"..\"\n  }, \"Workflow runs\"), /* @__PURE__ */ React.createElement(Typography, null, \"Workflow run details\"))), /* @__PURE__ */ React.createElement(TableContainer, {\n    component: Paper,\n    className: classes.table\n  }, /* @__PURE__ */ React.createElement(Table, null, /* @__PURE__ */ React.createElement(TableBody, null, /* @__PURE__ */ React.createElement(TableRow, null, /* @__PURE__ */ React.createElement(TableCell, null, /* @__PURE__ */ React.createElement(Typography, {\n    noWrap: true\n  }, \"Branch\")), /* @__PURE__ */ React.createElement(TableCell, null, (_c = details.value) == null ? void 0 : _c.head_branch)), /* @__PURE__ */ React.createElement(TableRow, null, /* @__PURE__ */ React.createElement(TableCell, null, /* @__PURE__ */ React.createElement(Typography, {\n    noWrap: true\n  }, \"Message\")), /* @__PURE__ */ React.createElement(TableCell, null, (_e = (_d = details.value) == null ? void 0 : _d.head_commit) == null ? void 0 : _e.message)), /* @__PURE__ */ React.createElement(TableRow, null, /* @__PURE__ */ React.createElement(TableCell, null, /* @__PURE__ */ React.createElement(Typography, {\n    noWrap: true\n  }, \"Commit ID\")), /* @__PURE__ */ React.createElement(TableCell, null, (_g = (_f = details.value) == null ? void 0 : _f.head_commit) == null ? void 0 : _g.id)), /* @__PURE__ */ React.createElement(TableRow, null, /* @__PURE__ */ React.createElement(TableCell, null, /* @__PURE__ */ React.createElement(Typography, {\n    noWrap: true\n  }, \"Workflow\")), /* @__PURE__ */ React.createElement(TableCell, null, (_h = details.value) == null ? void 0 : _h.name)), /* @__PURE__ */ React.createElement(TableRow, null, /* @__PURE__ */ React.createElement(TableCell, null, /* @__PURE__ */ React.createElement(Typography, {\n    noWrap: true\n  }, \"Status\")), /* @__PURE__ */ React.createElement(TableCell, null, /* @__PURE__ */ React.createElement(WorkflowRunStatus, {\n    status: ((_i = details.value) == null ? void 0 : _i.status) || void 0,\n    conclusion: ((_j = details.value) == null ? void 0 : _j.conclusion) || void 0\n  }))), /* @__PURE__ */ React.createElement(TableRow, null, /* @__PURE__ */ React.createElement(TableCell, null, /* @__PURE__ */ React.createElement(Typography, {\n    noWrap: true\n  }, \"Author\")), /* @__PURE__ */ React.createElement(TableCell, null, `${(_m = (_l = (_k = details.value) == null ? void 0 : _k.head_commit) == null ? void 0 : _l.author) == null ? void 0 : _m.name} (${(_p = (_o = (_n = details.value) == null ? void 0 : _n.head_commit) == null ? void 0 : _o.author) == null ? void 0 : _p.email})`)), /* @__PURE__ */ React.createElement(TableRow, null, /* @__PURE__ */ React.createElement(TableCell, null, /* @__PURE__ */ React.createElement(Typography, {\n    noWrap: true\n  }, \"Links\")), /* @__PURE__ */ React.createElement(TableCell, null, ((_q = details.value) == null ? void 0 : _q.html_url) && /* @__PURE__ */ React.createElement(Link$1, {\n    target: \"_blank\",\n    href: details.value.html_url\n  }, \"Workflow runs on GitHub\", \" \", /* @__PURE__ */ React.createElement(ExternalLinkIcon, {\n    className: classes.externalLinkIcon\n  })))), /* @__PURE__ */ React.createElement(TableRow, null, /* @__PURE__ */ React.createElement(TableCell, {\n    colSpan: 2\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    noWrap: true\n  }, \"Jobs\"), jobs.loading ? /* @__PURE__ */ React.createElement(CircularProgress, null) : /* @__PURE__ */ React.createElement(JobsList, {\n    jobs: jobs.value,\n    entity\n  })))))));\n};\n\nfunction useWorkflowRuns({\n  hostname,\n  owner,\n  repo,\n  branch,\n  initialPageSize = 5\n}) {\n  const api = useApi(githubActionsApiRef);\n  const errorApi = useApi(errorApiRef);\n  const [total, setTotal] = useState(0);\n  const [page, setPage] = useState(0);\n  const [pageSize, setPageSize] = useState(initialPageSize);\n  const {loading, value: runs, retry, error} = useAsyncRetry(async () => {\n    const workflowRunsData = await api.listWorkflowRuns({\n      hostname,\n      owner,\n      repo,\n      pageSize,\n      page: page + 1,\n      branch\n    });\n    setTotal(workflowRunsData.total_count);\n    return workflowRunsData.workflow_runs.map((run) => {\n      var _a, _b;\n      return {\n        workflowName: run.name,\n        message: run.head_commit.message,\n        id: `${run.id}`,\n        onReRunClick: async () => {\n          try {\n            await api.reRunWorkflow({\n              hostname,\n              owner,\n              repo,\n              runId: run.id\n            });\n          } catch (e) {\n            errorApi.post(e);\n          }\n        },\n        source: {\n          branchName: run.head_branch,\n          commit: {\n            hash: run.head_commit.id,\n            url: (_b = (_a = run.head_repository) == null ? void 0 : _a.branches_url) == null ? void 0 : _b.replace(\"{/branch}\", run.head_branch)\n          }\n        },\n        status: run.status,\n        conclusion: run.conclusion,\n        url: run.url,\n        githubUrl: run.html_url\n      };\n    });\n  }, [page, pageSize, repo, owner]);\n  return [\n    {\n      page,\n      pageSize,\n      loading,\n      runs,\n      projectName: `${owner}/${repo}`,\n      total,\n      error\n    },\n    {\n      runs,\n      setPage,\n      setPageSize,\n      retry\n    }\n  ];\n}\n\nconst generatedColumns = [\n  {\n    title: \"ID\",\n    field: \"id\",\n    type: \"numeric\",\n    width: \"150px\"\n  },\n  {\n    title: \"Message\",\n    field: \"message\",\n    highlight: true,\n    render: (row) => /* @__PURE__ */ React.createElement(Link$1, {\n      component: Link$2,\n      to: generatePath(buildRouteRef.path, {id: row.id})\n    }, row.message)\n  },\n  {\n    title: \"Source\",\n    render: (row) => {\n      var _a, _b;\n      return /* @__PURE__ */ React.createElement(Typography, {\n        variant: \"body2\",\n        noWrap: true\n      }, /* @__PURE__ */ React.createElement(\"p\", null, (_a = row.source) == null ? void 0 : _a.branchName), /* @__PURE__ */ React.createElement(\"p\", null, (_b = row.source) == null ? void 0 : _b.commit.hash));\n    }\n  },\n  {\n    title: \"Workflow\",\n    field: \"workflowName\"\n  },\n  {\n    title: \"Status\",\n    width: \"150px\",\n    render: (row) => /* @__PURE__ */ React.createElement(Box, {\n      display: \"flex\",\n      alignItems: \"center\"\n    }, /* @__PURE__ */ React.createElement(WorkflowRunStatus, {\n      status: row.status,\n      conclusion: row.conclusion\n    }))\n  },\n  {\n    title: \"Actions\",\n    render: (row) => /* @__PURE__ */ React.createElement(Tooltip, {\n      title: \"Rerun workflow\"\n    }, /* @__PURE__ */ React.createElement(IconButton, {\n      onClick: row.onReRunClick\n    }, /* @__PURE__ */ React.createElement(RetryIcon, null))),\n    width: \"10%\"\n  }\n];\nconst WorkflowRunsTableView = ({\n  projectName,\n  loading,\n  pageSize,\n  page,\n  retry,\n  runs,\n  onChangePage,\n  onChangePageSize,\n  total\n}) => {\n  return /* @__PURE__ */ React.createElement(Table$1, {\n    isLoading: loading,\n    options: {paging: true, pageSize, padding: \"dense\"},\n    totalCount: total,\n    page,\n    actions: [\n      {\n        icon: () => /* @__PURE__ */ React.createElement(SyncIcon, null),\n        tooltip: \"Reload workflow runs\",\n        isFreeAction: true,\n        onClick: () => retry()\n      }\n    ],\n    data: runs != null ? runs : [],\n    onChangePage,\n    onChangeRowsPerPage: onChangePageSize,\n    style: {width: \"100%\"},\n    title: /* @__PURE__ */ React.createElement(Box, {\n      display: \"flex\",\n      alignItems: \"center\"\n    }, /* @__PURE__ */ React.createElement(GitHubIcon, null), /* @__PURE__ */ React.createElement(Box, {\n      mr: 1\n    }), /* @__PURE__ */ React.createElement(Typography, {\n      variant: \"h6\"\n    }, projectName)),\n    columns: generatedColumns\n  });\n};\nconst WorkflowRunsTable = ({\n  entity,\n  branch\n}) => {\n  var _a;\n  const config = useApi(configApiRef);\n  const {value: projectName, loading} = useProjectName(entity);\n  const hostname = readGitHubIntegrationConfigs((_a = config.getOptionalConfigArray(\"integrations.github\")) != null ? _a : [])[0].host;\n  const [owner, repo] = (projectName != null ? projectName : \"/\").split(\"/\");\n  const [\n    {runs, ...tableProps},\n    {retry, setPage, setPageSize}\n  ] = useWorkflowRuns({\n    hostname,\n    owner,\n    repo,\n    branch\n  });\n  const githubHost = hostname || \"github.com\";\n  return !runs ? /* @__PURE__ */ React.createElement(EmptyState, {\n    missing: \"data\",\n    title: \"No Workflow Data\",\n    description: \"This component has GitHub Actions enabled, but no data was found. Have you created any Workflows? Click the button below to create a new Workflow.\",\n    action: /* @__PURE__ */ React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      href: `https://${githubHost}/${projectName}/actions/new`\n    }, \"Create new Workflow\")\n  }) : /* @__PURE__ */ React.createElement(WorkflowRunsTableView, {\n    ...tableProps,\n    runs,\n    loading: loading || tableProps.loading,\n    retry,\n    onChangePageSize: setPageSize,\n    onChangePage: setPage\n  });\n};\n\nconst isGithubActionsAvailable = (entity) => {\n  var _a;\n  return Boolean((_a = entity.metadata.annotations) == null ? void 0 : _a[GITHUB_ACTIONS_ANNOTATION]);\n};\nconst Router = (_props) => {\n  const {entity} = useEntity();\n  if (!isGithubActionsAvailable(entity)) {\n    return /* @__PURE__ */ React.createElement(MissingAnnotationEmptyState, {\n      annotation: GITHUB_ACTIONS_ANNOTATION\n    });\n  }\n  return /* @__PURE__ */ React.createElement(Routes, null, /* @__PURE__ */ React.createElement(Route, {\n    path: `/${rootRouteRef.path}`,\n    element: /* @__PURE__ */ React.createElement(WorkflowRunsTable, {\n      entity\n    })\n  }), /* @__PURE__ */ React.createElement(Route, {\n    path: `/${buildRouteRef.path}`,\n    element: /* @__PURE__ */ React.createElement(WorkflowRunDetails, {\n      entity\n    })\n  }), \")\");\n};\n\nvar Router$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  isGithubActionsAvailable: isGithubActionsAvailable,\n  Router: Router\n});\n\nconst useStyles$2 = makeStyles({\n  externalLinkIcon: {\n    fontSize: \"inherit\",\n    verticalAlign: \"bottom\"\n  }\n});\nconst WidgetContent = ({\n  error,\n  loading,\n  lastRun,\n  branch\n}) => {\n  const classes = useStyles$2();\n  if (error)\n    return /* @__PURE__ */ React.createElement(Typography, null, \"Couldn't fetch latest \", branch, \" run\");\n  if (loading)\n    return /* @__PURE__ */ React.createElement(LinearProgress, null);\n  return /* @__PURE__ */ React.createElement(StructuredMetadataTable, {\n    metadata: {\n      status: /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(WorkflowRunStatus, {\n        status: lastRun.status,\n        conclusion: lastRun.conclusion\n      })),\n      message: lastRun.message,\n      url: /* @__PURE__ */ React.createElement(Link$1, {\n        href: lastRun.githubUrl,\n        target: \"_blank\"\n      }, \"See more on GitHub\", \" \", /* @__PURE__ */ React.createElement(ExternalLinkIcon, {\n        className: classes.externalLinkIcon\n      }))\n    }\n  });\n};\nconst LatestWorkflowRunCard = ({\n  branch = \"master\",\n  variant\n}) => {\n  var _a, _b, _c, _d;\n  const {entity} = useEntity();\n  const config = useApi(configApiRef);\n  const errorApi = useApi(errorApiRef);\n  const hostname = readGitHubIntegrationConfigs((_a = config.getOptionalConfigArray(\"integrations.github\")) != null ? _a : [])[0].host;\n  const [owner, repo] = ((_c = (_b = entity == null ? void 0 : entity.metadata.annotations) == null ? void 0 : _b[GITHUB_ACTIONS_ANNOTATION]) != null ? _c : \"/\").split(\"/\");\n  const [{runs, loading, error}] = useWorkflowRuns({\n    hostname,\n    owner,\n    repo,\n    branch\n  });\n  const lastRun = (_d = runs == null ? void 0 : runs[0]) != null ? _d : {};\n  useEffect(() => {\n    if (error) {\n      errorApi.post(error);\n    }\n  }, [error, errorApi]);\n  return /* @__PURE__ */ React.createElement(InfoCard, {\n    title: `Last ${branch} build`,\n    variant\n  }, /* @__PURE__ */ React.createElement(WidgetContent, {\n    error,\n    loading,\n    branch,\n    lastRun\n  }));\n};\nconst LatestWorkflowsForBranchCard = ({\n  branch = \"master\",\n  variant\n}) => {\n  const {entity} = useEntity();\n  return /* @__PURE__ */ React.createElement(InfoCard, {\n    title: `Last ${branch} build`,\n    variant\n  }, /* @__PURE__ */ React.createElement(WorkflowRunsTable, {\n    branch,\n    entity\n  }));\n};\n\nconst firstLine = (message) => message.split(\"\\n\")[0];\nconst RecentWorkflowRunsCard = ({\n  branch,\n  dense = false,\n  limit = 5,\n  variant\n}) => {\n  var _a, _b, _c;\n  const {entity} = useEntity();\n  const config = useApi(configApiRef);\n  const errorApi = useApi(errorApiRef);\n  const hostname = readGitHubIntegrationConfigs((_a = config.getOptionalConfigArray(\"integrations.github\")) != null ? _a : [])[0].host;\n  const [owner, repo] = ((_c = (_b = entity == null ? void 0 : entity.metadata.annotations) == null ? void 0 : _b[GITHUB_ACTIONS_ANNOTATION]) != null ? _c : \"/\").split(\"/\");\n  const [{runs = [], loading, error}] = useWorkflowRuns({\n    hostname,\n    owner,\n    repo,\n    branch,\n    initialPageSize: limit\n  });\n  useEffect(() => {\n    if (error) {\n      errorApi.post(error);\n    }\n  }, [error, errorApi]);\n  const githubHost = hostname || \"github.com\";\n  return /* @__PURE__ */ React.createElement(InfoCard, {\n    title: \"Recent Workflow Runs\",\n    subheader: branch ? `Branch: ${branch}` : \"All Branches\",\n    noPadding: true,\n    variant\n  }, !runs.length ? /* @__PURE__ */ React.createElement(\"div\", {\n    style: {textAlign: \"center\"}\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"body1\"\n  }, \"This component has GitHub Actions enabled, but no workflows were found.\"), /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"body2\"\n  }, /* @__PURE__ */ React.createElement(Link, {\n    to: `https://${githubHost}/${owner}/${repo}/actions/new`\n  }, \"Create a new workflow\"))) : /* @__PURE__ */ React.createElement(Table$1, {\n    isLoading: loading,\n    options: {\n      search: false,\n      paging: false,\n      padding: dense ? \"dense\" : \"default\",\n      toolbar: false\n    },\n    columns: [\n      {\n        title: \"Commit Message\",\n        field: \"message\",\n        render: (data) => /* @__PURE__ */ React.createElement(Link, {\n          component: Link$2,\n          to: generatePath(\"./ci-cd/:id\", {id: data.id})\n        }, firstLine(data.message))\n      },\n      {title: \"Branch\", field: \"source.branchName\"},\n      {title: \"Status\", field: \"status\", render: WorkflowRunStatus}\n    ],\n    data: runs\n  }));\n};\n\nexport { BuildStatus, EntityGithubActionsContent, EntityLatestGithubActionRunCard, EntityLatestGithubActionsForBranchCard, EntityRecentGithubActionsRunsCard, GITHUB_ACTIONS_ANNOTATION, GithubActionsClient, LatestWorkflowRunCard, LatestWorkflowsForBranchCard, RecentWorkflowRunsCard, Router, githubActionsApiRef, githubActionsPlugin, isGithubActionsAvailable, isGithubActionsAvailable as isPluginApplicableToEntity, githubActionsPlugin as plugin };\n//# sourceMappingURL=index.esm.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.reportTypeError = exports.checkDataTypes = exports.checkDataType = exports.coerceAndCheckDataType = exports.getJSONTypes = exports.getSchemaTypes = exports.DataType = void 0;\nconst rules_1 = require(\"../rules\");\nconst applicability_1 = require(\"./applicability\");\nconst errors_1 = require(\"../errors\");\nconst codegen_1 = require(\"../codegen\");\nconst util_1 = require(\"../util\");\nvar DataType;\n(function (DataType) {\n    DataType[DataType[\"Correct\"] = 0] = \"Correct\";\n    DataType[DataType[\"Wrong\"] = 1] = \"Wrong\";\n})(DataType = exports.DataType || (exports.DataType = {}));\nfunction getSchemaTypes(schema) {\n    const types = getJSONTypes(schema.type);\n    const hasNull = types.includes(\"null\");\n    if (hasNull) {\n        if (schema.nullable === false)\n            throw new Error(\"type: null contradicts nullable: false\");\n    }\n    else {\n        if (!types.length && schema.nullable !== undefined) {\n            throw new Error('\"nullable\" cannot be used without \"type\"');\n        }\n        if (schema.nullable === true)\n            types.push(\"null\");\n    }\n    return types;\n}\nexports.getSchemaTypes = getSchemaTypes;\nfunction getJSONTypes(ts) {\n    const types = Array.isArray(ts) ? ts : ts ? [ts] : [];\n    if (types.every(rules_1.isJSONType))\n        return types;\n    throw new Error(\"type must be JSONType or JSONType[]: \" + types.join(\",\"));\n}\nexports.getJSONTypes = getJSONTypes;\nfunction coerceAndCheckDataType(it, types) {\n    const { gen, data, opts } = it;\n    const coerceTo = coerceToTypes(types, opts.coerceTypes);\n    const checkTypes = types.length > 0 &&\n        !(coerceTo.length === 0 && types.length === 1 && applicability_1.schemaHasRulesForType(it, types[0]));\n    if (checkTypes) {\n        const wrongType = checkDataTypes(types, data, opts.strict, DataType.Wrong);\n        gen.if(wrongType, () => {\n            if (coerceTo.length)\n                coerceData(it, types, coerceTo);\n            else\n                reportTypeError(it);\n        });\n    }\n    return checkTypes;\n}\nexports.coerceAndCheckDataType = coerceAndCheckDataType;\nconst COERCIBLE = new Set([\"string\", \"number\", \"integer\", \"boolean\", \"null\"]);\nfunction coerceToTypes(types, coerceTypes) {\n    return coerceTypes\n        ? types.filter((t) => COERCIBLE.has(t) || (coerceTypes === \"array\" && t === \"array\"))\n        : [];\n}\nfunction coerceData(it, types, coerceTo) {\n    const { gen, data, opts } = it;\n    const dataType = gen.let(\"dataType\", codegen_1._ `typeof ${data}`);\n    const coerced = gen.let(\"coerced\", codegen_1._ `undefined`);\n    if (opts.coerceTypes === \"array\") {\n        gen.if(codegen_1._ `${dataType} == 'object' && Array.isArray(${data}) && ${data}.length == 1`, () => gen\n            .assign(data, codegen_1._ `${data}[0]`)\n            .assign(dataType, codegen_1._ `typeof ${data}`)\n            .if(checkDataTypes(types, data, opts.strict), () => gen.assign(coerced, data)));\n    }\n    gen.if(codegen_1._ `${coerced} !== undefined`);\n    for (const t of coerceTo) {\n        if (COERCIBLE.has(t) || (t === \"array\" && opts.coerceTypes === \"array\")) {\n            coerceSpecificType(t);\n        }\n    }\n    gen.else();\n    reportTypeError(it);\n    gen.endIf();\n    gen.if(codegen_1._ `${coerced} !== undefined`, () => {\n        gen.assign(data, coerced);\n        assignParentData(it, coerced);\n    });\n    function coerceSpecificType(t) {\n        switch (t) {\n            case \"string\":\n                gen\n                    .elseIf(codegen_1._ `${dataType} == \"number\" || ${dataType} == \"boolean\"`)\n                    .assign(coerced, codegen_1._ `\"\" + ${data}`)\n                    .elseIf(codegen_1._ `${data} === null`)\n                    .assign(coerced, codegen_1._ `\"\"`);\n                return;\n            case \"number\":\n                gen\n                    .elseIf(codegen_1._ `${dataType} == \"boolean\" || ${data} === null\n              || (${dataType} == \"string\" && ${data} && ${data} == +${data})`)\n                    .assign(coerced, codegen_1._ `+${data}`);\n                return;\n            case \"integer\":\n                gen\n                    .elseIf(codegen_1._ `${dataType} === \"boolean\" || ${data} === null\n              || (${dataType} === \"string\" && ${data} && ${data} == +${data} && !(${data} % 1))`)\n                    .assign(coerced, codegen_1._ `+${data}`);\n                return;\n            case \"boolean\":\n                gen\n                    .elseIf(codegen_1._ `${data} === \"false\" || ${data} === 0 || ${data} === null`)\n                    .assign(coerced, false)\n                    .elseIf(codegen_1._ `${data} === \"true\" || ${data} === 1`)\n                    .assign(coerced, true);\n                return;\n            case \"null\":\n                gen.elseIf(codegen_1._ `${data} === \"\" || ${data} === 0 || ${data} === false`);\n                gen.assign(coerced, null);\n                return;\n            case \"array\":\n                gen\n                    .elseIf(codegen_1._ `${dataType} === \"string\" || ${dataType} === \"number\"\n              || ${dataType} === \"boolean\" || ${data} === null`)\n                    .assign(coerced, codegen_1._ `[${data}]`);\n        }\n    }\n}\nfunction assignParentData({ gen, parentData, parentDataProperty }, expr) {\n    // TODO use gen.property\n    gen.if(codegen_1._ `${parentData} !== undefined`, () => gen.assign(codegen_1._ `${parentData}[${parentDataProperty}]`, expr));\n}\nfunction checkDataType(dataType, data, strictNums, correct = DataType.Correct) {\n    const EQ = correct === DataType.Correct ? codegen_1.operators.EQ : codegen_1.operators.NEQ;\n    let cond;\n    switch (dataType) {\n        case \"null\":\n            return codegen_1._ `${data} ${EQ} null`;\n        case \"array\":\n            cond = codegen_1._ `Array.isArray(${data})`;\n            break;\n        case \"object\":\n            cond = codegen_1._ `${data} && typeof ${data} == \"object\" && !Array.isArray(${data})`;\n            break;\n        case \"integer\":\n            cond = numCond(codegen_1._ `!(${data} % 1) && !isNaN(${data})`);\n            break;\n        case \"number\":\n            cond = numCond();\n            break;\n        default:\n            return codegen_1._ `typeof ${data} ${EQ} ${dataType}`;\n    }\n    return correct === DataType.Correct ? cond : codegen_1.not(cond);\n    function numCond(_cond = codegen_1.nil) {\n        return codegen_1.and(codegen_1._ `typeof ${data} == \"number\"`, _cond, strictNums ? codegen_1._ `isFinite(${data})` : codegen_1.nil);\n    }\n}\nexports.checkDataType = checkDataType;\nfunction checkDataTypes(dataTypes, data, strictNums, correct) {\n    if (dataTypes.length === 1) {\n        return checkDataType(dataTypes[0], data, strictNums, correct);\n    }\n    let cond;\n    const types = util_1.toHash(dataTypes);\n    if (types.array && types.object) {\n        const notObj = codegen_1._ `typeof ${data} != \"object\"`;\n        cond = types.null ? notObj : codegen_1._ `!${data} || ${notObj}`;\n        delete types.null;\n        delete types.array;\n        delete types.object;\n    }\n    else {\n        cond = codegen_1.nil;\n    }\n    if (types.number)\n        delete types.integer;\n    for (const t in types)\n        cond = codegen_1.and(cond, checkDataType(t, data, strictNums, correct));\n    return cond;\n}\nexports.checkDataTypes = checkDataTypes;\nconst typeError = {\n    message: ({ schema }) => codegen_1.str `should be ${schema}`,\n    params: ({ schema, schemaValue }) => typeof schema == \"string\" ? codegen_1._ `{type: ${schema}}` : codegen_1._ `{type: ${schemaValue}}`,\n};\nfunction reportTypeError(it) {\n    const cxt = getTypeErrorContext(it);\n    errors_1.reportError(cxt, typeError);\n}\nexports.reportTypeError = reportTypeError;\nfunction getTypeErrorContext(it) {\n    const { gen, data, schema } = it;\n    const schemaCode = util_1.schemaRefOrVal(it, schema, \"type\");\n    return {\n        gen,\n        keyword: \"type\",\n        data,\n        schema: schema.type,\n        schemaCode,\n        schemaValue: schemaCode,\n        parentSchema: schema,\n        params: {},\n        it,\n    };\n}\n//# sourceMappingURL=dataType.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.or = exports.and = exports.not = exports.CodeGen = exports.operators = exports.varKinds = exports.ValueScopeName = exports.ValueScope = exports.Scope = exports.Name = exports.stringify = exports.getProperty = exports.nil = exports.strConcat = exports.str = exports._ = void 0;\nconst code_1 = require(\"./code\");\nconst scope_1 = require(\"./scope\");\nvar code_2 = require(\"./code\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return code_2._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return code_2.str; } });\nObject.defineProperty(exports, \"strConcat\", { enumerable: true, get: function () { return code_2.strConcat; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return code_2.nil; } });\nObject.defineProperty(exports, \"getProperty\", { enumerable: true, get: function () { return code_2.getProperty; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return code_2.stringify; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return code_2.Name; } });\nvar scope_2 = require(\"./scope\");\nObject.defineProperty(exports, \"Scope\", { enumerable: true, get: function () { return scope_2.Scope; } });\nObject.defineProperty(exports, \"ValueScope\", { enumerable: true, get: function () { return scope_2.ValueScope; } });\nObject.defineProperty(exports, \"ValueScopeName\", { enumerable: true, get: function () { return scope_2.ValueScopeName; } });\nObject.defineProperty(exports, \"varKinds\", { enumerable: true, get: function () { return scope_2.varKinds; } });\nexports.operators = {\n    GT: new code_1._Code(\">\"),\n    GTE: new code_1._Code(\">=\"),\n    LT: new code_1._Code(\"<\"),\n    LTE: new code_1._Code(\"<=\"),\n    EQ: new code_1._Code(\"===\"),\n    NEQ: new code_1._Code(\"!==\"),\n    NOT: new code_1._Code(\"!\"),\n    OR: new code_1._Code(\"||\"),\n    AND: new code_1._Code(\"&&\"),\n    ADD: new code_1._Code(\"+\"),\n};\nclass Node {\n    optimizeNodes() {\n        return this;\n    }\n    optimizeNames(_names, _constants) {\n        return this;\n    }\n}\nclass Def extends Node {\n    constructor(varKind, name, rhs) {\n        super();\n        this.varKind = varKind;\n        this.name = name;\n        this.rhs = rhs;\n    }\n    render({ es5, _n }) {\n        const varKind = es5 ? scope_1.varKinds.var : this.varKind;\n        const rhs = this.rhs === undefined ? \"\" : ` = ${this.rhs}`;\n        return `${varKind} ${this.name}${rhs};` + _n;\n    }\n    optimizeNames(names, constants) {\n        if (!names[this.name.str])\n            return;\n        if (this.rhs)\n            this.rhs = optimizeExpr(this.rhs, names, constants);\n        return this;\n    }\n    get names() {\n        return this.rhs instanceof code_1._CodeOrName ? this.rhs.names : {};\n    }\n}\nclass Assign extends Node {\n    constructor(lhs, rhs, sideEffects) {\n        super();\n        this.lhs = lhs;\n        this.rhs = rhs;\n        this.sideEffects = sideEffects;\n    }\n    render({ _n }) {\n        return `${this.lhs} = ${this.rhs};` + _n;\n    }\n    optimizeNames(names, constants) {\n        if (this.lhs instanceof code_1.Name && !names[this.lhs.str] && !this.sideEffects)\n            return;\n        this.rhs = optimizeExpr(this.rhs, names, constants);\n        return this;\n    }\n    get names() {\n        const names = this.lhs instanceof code_1.Name ? {} : { ...this.lhs.names };\n        return addExprNames(names, this.rhs);\n    }\n}\nclass AssignOp extends Assign {\n    constructor(lhs, op, rhs, sideEffects) {\n        super(lhs, rhs, sideEffects);\n        this.op = op;\n    }\n    render({ _n }) {\n        return `${this.lhs} ${this.op}= ${this.rhs};` + _n;\n    }\n}\nclass Label extends Node {\n    constructor(label) {\n        super();\n        this.label = label;\n        this.names = {};\n    }\n    render({ _n }) {\n        return `${this.label}:` + _n;\n    }\n}\nclass Break extends Node {\n    constructor(label) {\n        super();\n        this.label = label;\n        this.names = {};\n    }\n    render({ _n }) {\n        const label = this.label ? ` ${this.label}` : \"\";\n        return `break${label};` + _n;\n    }\n}\nclass Throw extends Node {\n    constructor(error) {\n        super();\n        this.error = error;\n    }\n    render({ _n }) {\n        return `throw ${this.error};` + _n;\n    }\n    get names() {\n        return this.error.names;\n    }\n}\nclass AnyCode extends Node {\n    constructor(code) {\n        super();\n        this.code = code;\n    }\n    render({ _n }) {\n        return `${this.code};` + _n;\n    }\n    optimizeNodes() {\n        return `${this.code}` ? this : undefined;\n    }\n    optimizeNames(names, constants) {\n        this.code = optimizeExpr(this.code, names, constants);\n        return this;\n    }\n    get names() {\n        return this.code instanceof code_1._CodeOrName ? this.code.names : {};\n    }\n}\nclass ParentNode extends Node {\n    constructor(nodes = []) {\n        super();\n        this.nodes = nodes;\n    }\n    render(opts) {\n        return this.nodes.reduce((code, n) => code + n.render(opts), \"\");\n    }\n    optimizeNodes() {\n        const { nodes } = this;\n        let i = nodes.length;\n        while (i--) {\n            const n = nodes[i].optimizeNodes();\n            if (Array.isArray(n))\n                nodes.splice(i, 1, ...n);\n            else if (n)\n                nodes[i] = n;\n            else\n                nodes.splice(i, 1);\n        }\n        return nodes.length > 0 ? this : undefined;\n    }\n    optimizeNames(names, constants) {\n        const { nodes } = this;\n        let i = nodes.length;\n        while (i--) {\n            // iterating backwards improves 1-pass optimization\n            const n = nodes[i];\n            if (n.optimizeNames(names, constants))\n                continue;\n            subtractNames(names, n.names);\n            nodes.splice(i, 1);\n        }\n        return nodes.length > 0 ? this : undefined;\n    }\n    get names() {\n        return this.nodes.reduce((names, n) => addNames(names, n.names), {});\n    }\n}\nclass BlockNode extends ParentNode {\n    render(opts) {\n        return \"{\" + opts._n + super.render(opts) + \"}\" + opts._n;\n    }\n}\nclass Root extends ParentNode {\n}\nclass Else extends BlockNode {\n}\nElse.kind = \"else\";\nclass If extends BlockNode {\n    constructor(condition, nodes) {\n        super(nodes);\n        this.condition = condition;\n    }\n    render(opts) {\n        let code = `if(${this.condition})` + super.render(opts);\n        if (this.else)\n            code += \"else \" + this.else.render(opts);\n        return code;\n    }\n    optimizeNodes() {\n        super.optimizeNodes();\n        const cond = this.condition;\n        if (cond === true)\n            return this.nodes; // else is ignored here\n        let e = this.else;\n        if (e) {\n            const ns = e.optimizeNodes();\n            e = this.else = Array.isArray(ns) ? new Else(ns) : ns;\n        }\n        if (e) {\n            if (cond === false)\n                return e instanceof If ? e : e.nodes;\n            if (this.nodes.length)\n                return this;\n            return new If(not(cond), e instanceof If ? [e] : e.nodes);\n        }\n        if (cond === false || !this.nodes.length)\n            return undefined;\n        return this;\n    }\n    optimizeNames(names, constants) {\n        var _a;\n        this.else = (_a = this.else) === null || _a === void 0 ? void 0 : _a.optimizeNames(names, constants);\n        if (!(super.optimizeNames(names, constants) || this.else))\n            return;\n        this.condition = optimizeExpr(this.condition, names, constants);\n        return this;\n    }\n    get names() {\n        const names = super.names;\n        addExprNames(names, this.condition);\n        if (this.else)\n            addNames(names, this.else.names);\n        return names;\n    }\n}\nIf.kind = \"if\";\nclass For extends BlockNode {\n}\nFor.kind = \"for\";\nclass ForLoop extends For {\n    constructor(iteration) {\n        super();\n        this.iteration = iteration;\n    }\n    render(opts) {\n        return `for(${this.iteration})` + super.render(opts);\n    }\n    optimizeNames(names, constants) {\n        if (!super.optimizeNames(names, constants))\n            return;\n        this.iteration = optimizeExpr(this.iteration, names, constants);\n        return this;\n    }\n    get names() {\n        return addNames(super.names, this.iteration.names);\n    }\n}\nclass ForRange extends For {\n    constructor(varKind, name, from, to) {\n        super();\n        this.varKind = varKind;\n        this.name = name;\n        this.from = from;\n        this.to = to;\n    }\n    render(opts) {\n        const varKind = opts.es5 ? scope_1.varKinds.var : this.varKind;\n        const { name, from, to } = this;\n        return `for(${varKind} ${name}=${from}; ${name}<${to}; ${name}++)` + super.render(opts);\n    }\n    get names() {\n        const names = addExprNames(super.names, this.from);\n        return addExprNames(names, this.to);\n    }\n}\nclass ForIter extends For {\n    constructor(loop, varKind, name, iterable) {\n        super();\n        this.loop = loop;\n        this.varKind = varKind;\n        this.name = name;\n        this.iterable = iterable;\n    }\n    render(opts) {\n        return `for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})` + super.render(opts);\n    }\n    optimizeNames(names, constants) {\n        if (!super.optimizeNames(names, constants))\n            return;\n        this.iterable = optimizeExpr(this.iterable, names, constants);\n        return this;\n    }\n    get names() {\n        return addNames(super.names, this.iterable.names);\n    }\n}\nclass Func extends BlockNode {\n    constructor(name, args, async) {\n        super();\n        this.name = name;\n        this.args = args;\n        this.async = async;\n    }\n    render(opts) {\n        const _async = this.async ? \"async \" : \"\";\n        return `${_async}function ${this.name}(${this.args})` + super.render(opts);\n    }\n}\nFunc.kind = \"func\";\nclass Return extends ParentNode {\n    render(opts) {\n        return \"return \" + super.render(opts);\n    }\n}\nReturn.kind = \"return\";\nclass Try extends BlockNode {\n    render(opts) {\n        let code = \"try\" + super.render(opts);\n        if (this.catch)\n            code += this.catch.render(opts);\n        if (this.finally)\n            code += this.finally.render(opts);\n        return code;\n    }\n    optimizeNodes() {\n        var _a, _b;\n        super.optimizeNodes();\n        (_a = this.catch) === null || _a === void 0 ? void 0 : _a.optimizeNodes();\n        (_b = this.finally) === null || _b === void 0 ? void 0 : _b.optimizeNodes();\n        return this;\n    }\n    optimizeNames(names, constants) {\n        var _a, _b;\n        super.optimizeNames(names, constants);\n        (_a = this.catch) === null || _a === void 0 ? void 0 : _a.optimizeNames(names, constants);\n        (_b = this.finally) === null || _b === void 0 ? void 0 : _b.optimizeNames(names, constants);\n        return this;\n    }\n    get names() {\n        const names = super.names;\n        if (this.catch)\n            addNames(names, this.catch.names);\n        if (this.finally)\n            addNames(names, this.finally.names);\n        return names;\n    }\n}\nclass Catch extends BlockNode {\n    constructor(error) {\n        super();\n        this.error = error;\n    }\n    render(opts) {\n        return `catch(${this.error})` + super.render(opts);\n    }\n}\nCatch.kind = \"catch\";\nclass Finally extends BlockNode {\n    render(opts) {\n        return \"finally\" + super.render(opts);\n    }\n}\nFinally.kind = \"finally\";\nclass CodeGen {\n    constructor(extScope, opts = {}) {\n        this._values = {};\n        this._blockStarts = [];\n        this._constants = {};\n        this.opts = { ...opts, _n: opts.lines ? \"\\n\" : \"\" };\n        this._extScope = extScope;\n        this._scope = new scope_1.Scope({ parent: extScope });\n        this._nodes = [new Root()];\n    }\n    toString() {\n        return this._root.render(this.opts);\n    }\n    // returns unique name in the internal scope\n    name(prefix) {\n        return this._scope.name(prefix);\n    }\n    // reserves unique name in the external scope\n    scopeName(prefix) {\n        return this._extScope.name(prefix);\n    }\n    // reserves unique name in the external scope and assigns value to it\n    scopeValue(prefixOrName, value) {\n        const name = this._extScope.value(prefixOrName, value);\n        const vs = this._values[name.prefix] || (this._values[name.prefix] = new Set());\n        vs.add(name);\n        return name;\n    }\n    getScopeValue(prefix, keyOrRef) {\n        return this._extScope.getValue(prefix, keyOrRef);\n    }\n    // return code that assigns values in the external scope to the names that are used internally\n    // (same names that were returned by gen.scopeName or gen.scopeValue)\n    scopeRefs(scopeName) {\n        return this._extScope.scopeRefs(scopeName, this._values);\n    }\n    scopeCode() {\n        return this._extScope.scopeCode(this._values);\n    }\n    _def(varKind, nameOrPrefix, rhs, constant) {\n        const name = this._scope.toName(nameOrPrefix);\n        if (rhs !== undefined && constant)\n            this._constants[name.str] = rhs;\n        this._leafNode(new Def(varKind, name, rhs));\n        return name;\n    }\n    // `const` declaration (`var` in es5 mode)\n    const(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.const, nameOrPrefix, rhs, _constant);\n    }\n    // `let` declaration with optional assignment (`var` in es5 mode)\n    let(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.let, nameOrPrefix, rhs, _constant);\n    }\n    // `var` declaration with optional assignment\n    var(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.var, nameOrPrefix, rhs, _constant);\n    }\n    // assignment code\n    assign(lhs, rhs, sideEffects) {\n        return this._leafNode(new Assign(lhs, rhs, sideEffects));\n    }\n    // `+=` code\n    add(lhs, rhs) {\n        return this._leafNode(new AssignOp(lhs, exports.operators.ADD, rhs));\n    }\n    // appends passed SafeExpr to code or executes Block\n    code(c) {\n        if (typeof c == \"function\")\n            c();\n        else if (c !== code_1.nil)\n            this._leafNode(new AnyCode(c));\n        return this;\n    }\n    // returns code for object literal for the passed argument list of key-value pairs\n    object(...keyValues) {\n        const code = [\"{\"];\n        for (const [key, value] of keyValues) {\n            if (code.length > 1)\n                code.push(\",\");\n            code.push(key);\n            if (key !== value || this.opts.es5) {\n                code.push(\":\");\n                code_1.addCodeArg(code, value);\n            }\n        }\n        code.push(\"}\");\n        return new code_1._Code(code);\n    }\n    // `if` clause (or statement if `thenBody` and, optionally, `elseBody` are passed)\n    if(condition, thenBody, elseBody) {\n        this._blockNode(new If(condition));\n        if (thenBody && elseBody) {\n            this.code(thenBody).else().code(elseBody).endIf();\n        }\n        else if (thenBody) {\n            this.code(thenBody).endIf();\n        }\n        else if (elseBody) {\n            throw new Error('CodeGen: \"else\" body without \"then\" body');\n        }\n        return this;\n    }\n    // `else if` clause - invalid without `if` or after `else` clauses\n    elseIf(condition) {\n        return this._elseNode(new If(condition));\n    }\n    // `else` clause - only valid after `if` or `else if` clauses\n    else() {\n        return this._elseNode(new Else());\n    }\n    // end `if` statement (needed if gen.if was used only with condition)\n    endIf() {\n        return this._endBlockNode(If, Else);\n    }\n    _for(node, forBody) {\n        this._blockNode(node);\n        if (forBody)\n            this.code(forBody).endFor();\n        return this;\n    }\n    // a generic `for` clause (or statement if `forBody` is passed)\n    for(iteration, forBody) {\n        return this._for(new ForLoop(iteration), forBody);\n    }\n    // `for` statement for a range of values\n    forRange(nameOrPrefix, from, to, forBody, varKind = this.opts.es5 ? scope_1.varKinds.var : scope_1.varKinds.let) {\n        const name = this._scope.toName(nameOrPrefix);\n        return this._for(new ForRange(varKind, name, from, to), () => forBody(name));\n    }\n    // `for-of` statement (in es5 mode replace with a normal for loop)\n    forOf(nameOrPrefix, iterable, forBody, varKind = scope_1.varKinds.const) {\n        const name = this._scope.toName(nameOrPrefix);\n        if (this.opts.es5) {\n            const arr = iterable instanceof code_1.Name ? iterable : this.var(\"_arr\", iterable);\n            return this.forRange(\"_i\", 0, code_1._ `${arr}.length`, (i) => {\n                this.var(name, code_1._ `${arr}[${i}]`);\n                forBody(name);\n            });\n        }\n        return this._for(new ForIter(\"of\", varKind, name, iterable), () => forBody(name));\n    }\n    // `for-in` statement.\n    // With option `ownProperties` replaced with a `for-of` loop for object keys\n    forIn(nameOrPrefix, obj, forBody, varKind = this.opts.es5 ? scope_1.varKinds.var : scope_1.varKinds.const) {\n        if (this.opts.ownProperties) {\n            return this.forOf(nameOrPrefix, code_1._ `Object.keys(${obj})`, forBody);\n        }\n        const name = this._scope.toName(nameOrPrefix);\n        return this._for(new ForIter(\"in\", varKind, name, obj), () => forBody(name));\n    }\n    // end `for` loop\n    endFor() {\n        return this._endBlockNode(For);\n    }\n    // `label` statement\n    label(label) {\n        return this._leafNode(new Label(label));\n    }\n    // `break` statement\n    break(label) {\n        return this._leafNode(new Break(label));\n    }\n    // `return` statement\n    return(value) {\n        const node = new Return();\n        this._blockNode(node);\n        this.code(value);\n        if (node.nodes.length !== 1)\n            throw new Error('CodeGen: \"return\" should have one node');\n        return this._endBlockNode(Return);\n    }\n    // `try` statement\n    try(tryBody, catchCode, finallyCode) {\n        if (!catchCode && !finallyCode)\n            throw new Error('CodeGen: \"try\" without \"catch\" and \"finally\"');\n        const node = new Try();\n        this._blockNode(node);\n        this.code(tryBody);\n        if (catchCode) {\n            const error = this.name(\"e\");\n            this._currNode = node.catch = new Catch(error);\n            catchCode(error);\n        }\n        if (finallyCode) {\n            this._currNode = node.finally = new Finally();\n            this.code(finallyCode);\n        }\n        return this._endBlockNode(Catch, Finally);\n    }\n    // `throw` statement\n    throw(error) {\n        return this._leafNode(new Throw(error));\n    }\n    // start self-balancing block\n    block(body, nodeCount) {\n        this._blockStarts.push(this._nodes.length);\n        if (body)\n            this.code(body).endBlock(nodeCount);\n        return this;\n    }\n    // end the current self-balancing block\n    endBlock(nodeCount) {\n        const len = this._blockStarts.pop();\n        if (len === undefined)\n            throw new Error(\"CodeGen: not in self-balancing block\");\n        const toClose = this._nodes.length - len;\n        if (toClose < 0 || (nodeCount !== undefined && toClose !== nodeCount)) {\n            throw new Error(`CodeGen: wrong number of nodes: ${toClose} vs ${nodeCount} expected`);\n        }\n        this._nodes.length = len;\n        return this;\n    }\n    // `function` heading (or definition if funcBody is passed)\n    func(name, args = code_1.nil, async, funcBody) {\n        this._blockNode(new Func(name, args, async));\n        if (funcBody)\n            this.code(funcBody).endFunc();\n        return this;\n    }\n    // end function definition\n    endFunc() {\n        return this._endBlockNode(Func);\n    }\n    optimize(n = 1) {\n        while (n-- > 0) {\n            this._root.optimizeNodes();\n            this._root.optimizeNames(this._root.names, this._constants);\n        }\n    }\n    _leafNode(node) {\n        this._currNode.nodes.push(node);\n        return this;\n    }\n    _blockNode(node) {\n        this._currNode.nodes.push(node);\n        this._nodes.push(node);\n    }\n    _endBlockNode(N1, N2) {\n        const n = this._currNode;\n        if (n instanceof N1 || (N2 && n instanceof N2)) {\n            this._nodes.pop();\n            return this;\n        }\n        throw new Error(`CodeGen: not in block \"${N2 ? `${N1.kind}/${N2.kind}` : N1.kind}\"`);\n    }\n    _elseNode(node) {\n        const n = this._currNode;\n        if (!(n instanceof If)) {\n            throw new Error('CodeGen: \"else\" without \"if\"');\n        }\n        this._currNode = n.else = node;\n        return this;\n    }\n    get _root() {\n        return this._nodes[0];\n    }\n    get _currNode() {\n        const ns = this._nodes;\n        return ns[ns.length - 1];\n    }\n    set _currNode(node) {\n        const ns = this._nodes;\n        ns[ns.length - 1] = node;\n    }\n}\nexports.CodeGen = CodeGen;\nfunction addNames(names, from) {\n    for (const n in from)\n        names[n] = (names[n] || 0) + (from[n] || 0);\n    return names;\n}\nfunction addExprNames(names, from) {\n    return from instanceof code_1._CodeOrName ? addNames(names, from.names) : names;\n}\nfunction optimizeExpr(expr, names, constants) {\n    if (expr instanceof code_1.Name)\n        return replaceName(expr);\n    if (!canOptimize(expr))\n        return expr;\n    return new code_1._Code(expr._items.reduce((items, c) => {\n        if (c instanceof code_1.Name)\n            c = replaceName(c);\n        if (c instanceof code_1._Code)\n            items.push(...c._items);\n        else\n            items.push(c);\n        return items;\n    }, []));\n    function replaceName(n) {\n        const c = constants[n.str];\n        if (c === undefined || names[n.str] !== 1)\n            return n;\n        delete names[n.str];\n        return c;\n    }\n    function canOptimize(e) {\n        return (e instanceof code_1._Code &&\n            e._items.some((c) => c instanceof code_1.Name && names[c.str] === 1 && constants[c.str] !== undefined));\n    }\n}\nfunction subtractNames(names, from) {\n    for (const n in from)\n        names[n] = (names[n] || 0) - (from[n] || 0);\n}\nfunction not(x) {\n    return typeof x == \"boolean\" || typeof x == \"number\" || x === null ? !x : code_1._ `!${par(x)}`;\n}\nexports.not = not;\nconst andCode = mappend(exports.operators.AND);\n// boolean AND (&&) expression with the passed arguments\nfunction and(...args) {\n    return args.reduce(andCode);\n}\nexports.and = and;\nconst orCode = mappend(exports.operators.OR);\n// boolean OR (||) expression with the passed arguments\nfunction or(...args) {\n    return args.reduce(orCode);\n}\nexports.or = or;\nfunction mappend(op) {\n    return (x, y) => (x === code_1.nil ? y : y === code_1.nil ? x : code_1._ `${par(x)} ${op} ${par(y)}`);\n}\nfunction par(x) {\n    return x instanceof code_1.Name ? x : code_1._ `(${x})`;\n}\n//# sourceMappingURL=index.js.map","import { createMuiTheme } from '@material-ui/core';\nimport { darken, lighten } from '@material-ui/core/styles/colorManipulator';\nimport { yellow } from '@material-ui/core/colors';\n\nconst shapes = {\n  wave: `url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='1368' height='400' fill='none'%3e%3cmask id='a' width='1368' height='401' x='0' y='0' maskUnits='userSpaceOnUse'%3e%3cpath fill='url(%23paint0_linear)' d='M437 116C223 116 112 0 112 0h1256v400c-82 0-225-21-282-109-112-175-436-175-649-175z'/%3e%3cpath fill='url(%23paint1_linear)' d='M1368 400V282C891-29 788 40 711 161 608 324 121 372 0 361v39h1368z'/%3e%3cpath fill='url(%23paint2_linear)' d='M1368 244v156H0V94c92-24 198-46 375 0l135 41c176 51 195 109 858 109z'/%3e%3cpath fill='url(%23paint3_linear)' d='M1252 400h116c-14-7-35-14-116-16-663-14-837-128-1013-258l-85-61C98 28 46 8 0 0v400h1252z'/%3e%3c/mask%3e%3cg mask='url(%23a)'%3e%3cpath fill='white' d='M-172-98h1671v601H-172z'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient id='paint0_linear' x1='602' x2='1093.5' y1='-960.5' y2='272' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint1_linear' x1='482' x2='480' y1='1058.5' y2='70.5' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint2_linear' x1='424' x2='446.1' y1='-587.5' y2='274.6' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint3_linear' x1='587' x2='349' y1='-1120.5' y2='341' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e\")`,\n  wave2: `url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='1368' height='400' fill='none'%3e%3cmask id='a' width='1764' height='479' x='-229' y='-6' maskUnits='userSpaceOnUse'%3e%3cpath fill='url(%23paint0_linear)' d='M0 400h1350C1321 336 525 33 179-2c-345-34-395 236-408 402H0z'/%3e%3cpath fill='url(%23paint1_linear)' d='M1378 177v223H0V217s219 75 327 52C436 246 717-35 965 45s254 144 413 132z'/%3e%3cpath fill='url(%23paint2_linear)' d='M26 400l-78-16c-170 205-44-6-137-30l-4-1 4 1 137 30c37-45 89-110 159-201 399-514-45 238 1176-50 275-65 354-39 91 267H26z'/%3e%3c/mask%3e%3cg mask='url(%23a)'%3e%3cpath fill='white' d='M0 0h1368v400H0z'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient id='paint0_linear' x1='431' x2='397.3' y1='-599' y2='372.8' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint1_linear' x1='236.5' x2='446.6' y1='-586' y2='381.5' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint2_linear' x1='851.8' x2='640.4' y1='-867.2' y2='363.7' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e\")`,\n  round: `url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='1368' height='400' fill='none'%3e%3cmask id='a' width='2269' height='1408' x='-610' y='-509' maskUnits='userSpaceOnUse'%3e%3ccircle cx='1212.8' cy='74.8' r='317.5' fill='url(%23paint0_linear)' transform='rotate(-52 1213 75)'/%3e%3ccircle cx='737.8' cy='445.8' r='317.5' fill='url(%23paint1_linear)' transform='rotate(-116 738 446)'/%3e%3ccircle cx='601.8' cy='52.8' r='418.6' fill='url(%23paint2_linear)' transform='rotate(-117 602 53)'/%3e%3ccircle cx='999.8' cy='364' r='389.1' fill='url(%23paint3_linear)' transform='rotate(31 1000 364)'/%3e%3cellipse cx='-109.2' cy='263.5' fill='url(%23paint4_linear)' rx='429.2' ry='465.8' transform='rotate(-85 -109 264)'/%3e%3c/mask%3e%3cg mask='url(%23a)'%3e%3cpath fill='white' d='M0 0h1368v400H0z'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient id='paint0_linear' x1='1301.2' x2='161.4' y1='-1879.7' y2='-969.6' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint1_linear' x1='826.2' x2='-313.6' y1='-1508.7' y2='-598.6' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint2_linear' x1='718.4' x2='-784.3' y1='-2524' y2='-1324.2' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint3_linear' x1='1108.2' x2='-288.6' y1='-2031.1' y2='-915.9' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint4_linear' x1='10.4' x2='-1626.5' y1='-2603.8' y2='-1399.5' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e\")`\n};\nconst colorVariants = {\n  darkGrey: [\"#171717\", \"#383838\"],\n  marineBlue: [\"#006D8F\", \"#0049A1\"],\n  veryBlue: [\"#0027AF\", \"#270094\"],\n  rubyRed: [\"#98002B\", \"#8D1134\"],\n  toastyOrange: [\"#BE2200\", \"#A41D00\"],\n  purpleSky: [\"#8912CA\", \"#3E00EA\"],\n  eveningSea: [\"#00FFF2\", \"#035355\"],\n  teal: [\"#005B4B\"],\n  pinkSea: [\"#C8077A\", \"#C2297D\"]\n};\nfunction genPageTheme(colors, shape) {\n  const gradientColors = colors.length === 1 ? [colors[0], colors[0]] : colors;\n  const gradient = `linear-gradient(90deg, ${gradientColors.join(\", \")})`;\n  const backgroundImage = `${shape},  ${gradient}`;\n  return {colors, shape, backgroundImage};\n}\nconst pageTheme = {\n  home: genPageTheme(colorVariants.teal, shapes.wave),\n  documentation: genPageTheme(colorVariants.pinkSea, shapes.wave2),\n  tool: genPageTheme(colorVariants.purpleSky, shapes.round),\n  service: genPageTheme(colorVariants.marineBlue, shapes.wave),\n  website: genPageTheme(colorVariants.veryBlue, shapes.wave),\n  library: genPageTheme(colorVariants.rubyRed, shapes.wave),\n  other: genPageTheme(colorVariants.darkGrey, shapes.wave),\n  app: genPageTheme(colorVariants.toastyOrange, shapes.wave),\n  apis: genPageTheme(colorVariants.teal, shapes.wave2)\n};\n\nconst DEFAULT_FONT_FAMILY = '\"Helvetica Neue\", Helvetica, Roboto, Arial, sans-serif';\nfunction createThemeOptions(options) {\n  const {\n    palette,\n    fontFamily = DEFAULT_FONT_FAMILY,\n    defaultPageTheme,\n    pageTheme: pageTheme$1 = pageTheme\n  } = options;\n  if (!pageTheme$1[defaultPageTheme]) {\n    throw new Error(`${defaultPageTheme} is not defined in pageTheme.`);\n  }\n  return {\n    palette,\n    props: {\n      MuiGrid: {\n        spacing: 2\n      },\n      MuiSwitch: {\n        color: \"primary\"\n      }\n    },\n    typography: {\n      fontFamily,\n      h5: {\n        fontWeight: 700\n      },\n      h4: {\n        fontWeight: 700,\n        fontSize: 28,\n        marginBottom: 6\n      },\n      h3: {\n        fontSize: 32,\n        fontWeight: 700,\n        marginBottom: 6\n      },\n      h2: {\n        fontSize: 40,\n        fontWeight: 700,\n        marginBottom: 8\n      },\n      h1: {\n        fontSize: 54,\n        fontWeight: 700,\n        marginBottom: 10\n      }\n    },\n    page: pageTheme$1[defaultPageTheme],\n    getPageTheme: ({themeId}) => {\n      var _a;\n      return (_a = pageTheme$1[themeId]) != null ? _a : pageTheme$1[defaultPageTheme];\n    }\n  };\n}\nfunction createThemeOverrides(theme) {\n  return {\n    MuiCssBaseline: {\n      \"@global\": {\n        html: {\n          height: \"100%\",\n          fontFamily: theme.typography.fontFamily\n        },\n        body: {\n          height: \"100%\",\n          fontFamily: theme.typography.fontFamily,\n          \"overscroll-behavior-y\": \"none\"\n        },\n        a: {\n          color: \"inherit\",\n          textDecoration: \"none\"\n        }\n      }\n    },\n    MuiTableRow: {\n      root: {\n        \"&:nth-of-type(odd)\": {\n          backgroundColor: theme.palette.background.default\n        }\n      },\n      hover: {\n        \"&:hover\": {\n          cursor: \"pointer\"\n        }\n      },\n      head: {\n        \"&:nth-of-type(odd)\": {\n          backgroundColor: theme.palette.background.paper\n        }\n      }\n    },\n    MuiTableCell: {\n      root: {\n        wordBreak: \"break-word\",\n        overflow: \"hidden\",\n        verticalAlign: \"middle\",\n        lineHeight: \"1\",\n        margin: 0,\n        padding: theme.spacing(3, 2, 3, 2.5),\n        borderBottom: 0\n      },\n      sizeSmall: {\n        padding: theme.spacing(1.5, 2, 1.5, 2.5)\n      },\n      head: {\n        wordBreak: \"break-word\",\n        overflow: \"hidden\",\n        color: \"rgb(179, 179, 179)\",\n        fontWeight: \"normal\",\n        lineHeight: \"1\"\n      }\n    },\n    MuiTabs: {\n      root: {\n        minHeight: 24\n      }\n    },\n    MuiTab: {\n      root: {\n        color: theme.palette.link,\n        minHeight: 24,\n        textTransform: \"initial\",\n        letterSpacing: \"0.07em\",\n        \"&:hover\": {\n          color: darken(theme.palette.link, 0.3),\n          background: lighten(theme.palette.link, 0.95)\n        },\n        [theme.breakpoints.up(\"md\")]: {\n          minWidth: 120,\n          fontSize: theme.typography.pxToRem(14),\n          fontWeight: 500\n        }\n      },\n      textColorPrimary: {\n        color: theme.palette.link\n      }\n    },\n    MuiTableSortLabel: {\n      root: {\n        color: \"inherit\",\n        \"&:hover\": {\n          color: \"inherit\"\n        },\n        \"&:focus\": {\n          color: \"inherit\"\n        }\n      },\n      active: {\n        fontWeight: \"bold\",\n        color: \"inherit\"\n      }\n    },\n    MuiListItemText: {\n      dense: {\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\"\n      }\n    },\n    MuiButton: {\n      text: {\n        padding: void 0\n      }\n    },\n    MuiChip: {\n      root: {\n        backgroundColor: \"#D9D9D9\",\n        marginRight: theme.spacing(1),\n        marginBottom: theme.spacing(1),\n        color: theme.palette.grey[900]\n      },\n      outlined: {\n        color: theme.palette.text.primary\n      },\n      label: {\n        lineHeight: `${theme.spacing(2.5)}px`,\n        fontWeight: theme.typography.fontWeightMedium,\n        fontSize: `${theme.spacing(1.75)}px`\n      },\n      labelSmall: {\n        fontSize: `${theme.spacing(1.5)}px`\n      },\n      deleteIcon: {\n        color: theme.palette.grey[500],\n        width: `${theme.spacing(3)}px`,\n        height: `${theme.spacing(3)}px`,\n        margin: `0 ${theme.spacing(0.75)}px 0 -${theme.spacing(0.75)}px`\n      },\n      deleteIconSmall: {\n        width: `${theme.spacing(2)}px`,\n        height: `${theme.spacing(2)}px`,\n        margin: `0 ${theme.spacing(0.5)}px 0 -${theme.spacing(0.5)}px`\n      }\n    },\n    MuiCard: {\n      root: {\n        display: \"flex\",\n        flexDirection: \"column\"\n      }\n    },\n    MuiCardHeader: {\n      root: {\n        paddingBottom: 0\n      }\n    },\n    MuiCardContent: {\n      root: {\n        flexGrow: 1,\n        \"&:last-child\": {\n          paddingBottom: void 0\n        }\n      }\n    },\n    MuiCardActions: {\n      root: {\n        justifyContent: \"flex-end\"\n      }\n    }\n  };\n}\nfunction createTheme(options) {\n  const themeOptions = createThemeOptions(options);\n  const baseTheme = createMuiTheme(themeOptions);\n  const overrides = createThemeOverrides(baseTheme);\n  const theme = {...baseTheme, overrides};\n  return theme;\n}\n\nconst lightTheme = createTheme({\n  palette: {\n    type: \"light\",\n    background: {\n      default: \"#F8F8F8\"\n    },\n    status: {\n      ok: \"#1DB954\",\n      warning: \"#FF9800\",\n      error: \"#E22134\",\n      running: \"#2E77D0\",\n      pending: \"#FFED51\",\n      aborted: \"#757575\"\n    },\n    bursts: {\n      fontColor: \"#FEFEFE\",\n      slackChannelText: \"#ddd\",\n      backgroundColor: {\n        default: \"#7C3699\"\n      }\n    },\n    primary: {\n      main: \"#2E77D0\"\n    },\n    banner: {\n      info: \"#2E77D0\",\n      error: \"#E22134\",\n      text: \"#FFFFFF\",\n      link: \"#000000\"\n    },\n    border: \"#E6E6E6\",\n    textContrast: \"#000000\",\n    textVerySubtle: \"#DDD\",\n    textSubtle: \"#6E6E6E\",\n    highlight: \"#FFFBCC\",\n    errorBackground: \"#FFEBEE\",\n    warningBackground: \"#F59B23\",\n    infoBackground: \"#ebf5ff\",\n    errorText: \"#CA001B\",\n    infoText: \"#004e8a\",\n    warningText: \"#000000\",\n    linkHover: \"#2196F3\",\n    link: \"#0A6EBE\",\n    gold: yellow.A700,\n    navigation: {\n      background: \"#171717\",\n      indicator: \"#9BF0E1\",\n      color: \"#b5b5b5\",\n      selectedColor: \"#FFF\"\n    },\n    pinSidebarButton: {\n      icon: \"#181818\",\n      background: \"#BDBDBD\"\n    },\n    tabbar: {\n      indicator: \"#9BF0E1\"\n    }\n  },\n  defaultPageTheme: \"home\",\n  pageTheme\n});\nconst darkTheme = createTheme({\n  palette: {\n    type: \"dark\",\n    background: {\n      default: \"#333333\"\n    },\n    status: {\n      ok: \"#71CF88\",\n      warning: \"#FFB84D\",\n      error: \"#F84C55\",\n      running: \"#3488E3\",\n      pending: \"#FEF071\",\n      aborted: \"#9E9E9E\"\n    },\n    bursts: {\n      fontColor: \"#FEFEFE\",\n      slackChannelText: \"#ddd\",\n      backgroundColor: {\n        default: \"#7C3699\"\n      }\n    },\n    primary: {\n      main: \"#9CC9FF\",\n      dark: \"#82BAFD\"\n    },\n    secondary: {\n      main: \"#FF88B2\"\n    },\n    banner: {\n      info: \"#2E77D0\",\n      error: \"#E22134\",\n      text: \"#FFFFFF\",\n      link: \"#000000\"\n    },\n    border: \"#E6E6E6\",\n    textContrast: \"#FFFFFF\",\n    textVerySubtle: \"#727272\",\n    textSubtle: \"#CCCCCC\",\n    highlight: \"#FFFBCC\",\n    errorBackground: \"#FFEBEE\",\n    warningBackground: \"#F59B23\",\n    infoBackground: \"#ebf5ff\",\n    errorText: \"#CA001B\",\n    infoText: \"#004e8a\",\n    warningText: \"#000000\",\n    linkHover: \"#82BAFD\",\n    link: \"#9CC9FF\",\n    gold: yellow.A700,\n    navigation: {\n      background: \"#424242\",\n      indicator: \"#9BF0E1\",\n      color: \"#b5b5b5\",\n      selectedColor: \"#FFF\"\n    },\n    pinSidebarButton: {\n      icon: \"#404040\",\n      background: \"#BDBDBD\"\n    },\n    tabbar: {\n      indicator: \"#9BF0E1\"\n    }\n  },\n  defaultPageTheme: \"home\",\n  pageTheme\n});\n\nexport { colorVariants, createTheme, createThemeOptions, createThemeOverrides, darkTheme, genPageTheme, lightTheme, pageTheme, shapes };\n//# sourceMappingURL=index.esm.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getData = void 0;\nconst dataType_1 = require(\"./validate/dataType\");\nconst util_1 = require(\"./util\");\nconst errors_1 = require(\"./errors\");\nconst codegen_1 = require(\"./codegen\");\nconst names_1 = require(\"./names\");\nconst subschema_1 = require(\"./subschema\");\nclass KeywordCxt {\n    constructor(it, def, keyword) {\n        validateKeywordUsage(it, def, keyword);\n        this.gen = it.gen;\n        this.allErrors = it.allErrors;\n        this.keyword = keyword;\n        this.data = it.data;\n        this.schema = it.schema[keyword];\n        this.$data = def.$data && it.opts.$data && this.schema && this.schema.$data;\n        this.schemaValue = util_1.schemaRefOrVal(it, this.schema, keyword, this.$data);\n        this.schemaType = def.schemaType;\n        this.parentSchema = it.schema;\n        this.params = {};\n        this.it = it;\n        this.def = def;\n        if (this.$data) {\n            this.schemaCode = it.gen.const(\"vSchema\", getData(this.$data, it));\n        }\n        else {\n            this.schemaCode = this.schemaValue;\n            if (!validSchemaType(this.schema, def.schemaType, def.allowUndefined)) {\n                throw new Error(`${keyword} value must be ${JSON.stringify(def.schemaType)}`);\n            }\n        }\n        if (\"code\" in def ? def.trackErrors : def.errors !== false) {\n            this.errsCount = it.gen.const(\"_errs\", names_1.default.errors);\n        }\n    }\n    result(condition, successAction, failAction) {\n        this.gen.if(codegen_1.not(condition));\n        if (failAction)\n            failAction();\n        else\n            this.error();\n        if (successAction) {\n            this.gen.else();\n            successAction();\n            if (this.allErrors)\n                this.gen.endIf();\n        }\n        else {\n            if (this.allErrors)\n                this.gen.endIf();\n            else\n                this.gen.else();\n        }\n    }\n    pass(condition, failAction) {\n        this.result(condition, undefined, failAction);\n    }\n    fail(condition) {\n        if (condition === undefined) {\n            this.error();\n            if (!this.allErrors)\n                this.gen.if(false); // this branch will be removed by gen.optimize\n            return;\n        }\n        this.gen.if(condition);\n        this.error();\n        if (this.allErrors)\n            this.gen.endIf();\n        else\n            this.gen.else();\n    }\n    fail$data(condition) {\n        if (!this.$data)\n            return this.fail(condition);\n        const { schemaCode } = this;\n        this.fail(codegen_1._ `${schemaCode} !== undefined && (${codegen_1.or(this.invalid$data(), condition)})`);\n    }\n    error(append) {\n        ;\n        (append ? errors_1.reportExtraError : errors_1.reportError)(this, this.def.error);\n    }\n    $dataError() {\n        errors_1.reportError(this, this.def.$dataError || errors_1.keyword$DataError);\n    }\n    reset() {\n        if (this.errsCount === undefined)\n            throw new Error('add \"trackErrors\" to keyword definition');\n        errors_1.resetErrorsCount(this.gen, this.errsCount);\n    }\n    ok(cond) {\n        if (!this.allErrors)\n            this.gen.if(cond);\n    }\n    setParams(obj, assign) {\n        if (assign)\n            Object.assign(this.params, obj);\n        else\n            this.params = obj;\n    }\n    block$data(valid, codeBlock, $dataValid = codegen_1.nil) {\n        this.gen.block(() => {\n            this.check$data(valid, $dataValid);\n            codeBlock();\n        });\n    }\n    check$data(valid = codegen_1.nil, $dataValid = codegen_1.nil) {\n        if (!this.$data)\n            return;\n        const { gen, schemaCode, schemaType, def } = this;\n        gen.if(codegen_1.or(codegen_1._ `${schemaCode} === undefined`, $dataValid));\n        if (valid !== codegen_1.nil)\n            gen.assign(valid, true);\n        if (schemaType.length || def.validateSchema) {\n            gen.elseIf(this.invalid$data());\n            this.$dataError();\n            if (valid !== codegen_1.nil)\n                gen.assign(valid, false);\n        }\n        gen.else();\n    }\n    invalid$data() {\n        const { gen, schemaCode, schemaType, def, it } = this;\n        return codegen_1.or(wrong$DataType(), invalid$DataSchema());\n        function wrong$DataType() {\n            if (schemaType.length) {\n                /* istanbul ignore if */\n                if (!(schemaCode instanceof codegen_1.Name))\n                    throw new Error(\"ajv implementation error\");\n                const st = Array.isArray(schemaType) ? schemaType : [schemaType];\n                return codegen_1._ `${dataType_1.checkDataTypes(st, schemaCode, it.opts.strict, dataType_1.DataType.Wrong)}`;\n            }\n            return codegen_1.nil;\n        }\n        function invalid$DataSchema() {\n            if (def.validateSchema) {\n                const validateSchemaRef = gen.scopeValue(\"validate$data\", { ref: def.validateSchema }); // TODO value.code for standalone\n                return codegen_1._ `!${validateSchemaRef}(${schemaCode})`;\n            }\n            return codegen_1.nil;\n        }\n    }\n    subschema(appl, valid) {\n        return subschema_1.applySubschema(this.it, appl, valid);\n    }\n    mergeEvaluated(schemaCxt, toName) {\n        const { it, gen } = this;\n        if (!it.opts.unevaluated)\n            return;\n        if (it.props !== true && schemaCxt.props !== undefined) {\n            it.props = util_1.mergeEvaluated.props(gen, schemaCxt.props, it.props, toName);\n        }\n        if (it.items !== true && schemaCxt.items !== undefined) {\n            it.items = util_1.mergeEvaluated.items(gen, schemaCxt.items, it.items, toName);\n        }\n    }\n    mergeValidEvaluated(schemaCxt, valid) {\n        const { it, gen } = this;\n        if (it.opts.unevaluated && (it.props !== true || it.items !== true)) {\n            gen.if(valid, () => this.mergeEvaluated(schemaCxt, codegen_1.Name));\n            return true;\n        }\n    }\n}\nexports.default = KeywordCxt;\nfunction validSchemaType(schema, schemaType, allowUndefined = false) {\n    // TODO add tests\n    return (!schemaType.length ||\n        schemaType.some((st) => st === \"array\"\n            ? Array.isArray(schema)\n            : st === \"object\"\n                ? schema && typeof schema == \"object\" && !Array.isArray(schema)\n                : typeof schema == st || (allowUndefined && typeof schema == \"undefined\")));\n}\nfunction validateKeywordUsage({ schema, opts, self }, def, keyword) {\n    /* istanbul ignore if */\n    if (Array.isArray(def.keyword) ? !def.keyword.includes(keyword) : def.keyword !== keyword) {\n        throw new Error(\"ajv implementation error\");\n    }\n    const deps = def.dependencies;\n    if (deps === null || deps === void 0 ? void 0 : deps.some((kwd) => !Object.prototype.hasOwnProperty.call(schema, kwd))) {\n        throw new Error(`parent schema must have dependencies of ${keyword}: ${deps.join(\",\")}`);\n    }\n    if (def.validateSchema) {\n        const valid = def.validateSchema(schema[keyword]);\n        if (!valid) {\n            const msg = \"keyword value is invalid: \" + self.errorsText(def.validateSchema.errors);\n            if (opts.validateSchema === \"log\")\n                self.logger.error(msg);\n            else\n                throw new Error(msg);\n        }\n    }\n}\nconst JSON_POINTER = /^\\/(?:[^~]|~0|~1)*$/;\nconst RELATIVE_JSON_POINTER = /^([0-9]+)(#|\\/(?:[^~]|~0|~1)*)?$/;\nfunction getData($data, { dataLevel, dataNames, dataPathArr }) {\n    let jsonPointer;\n    let data;\n    if ($data === \"\")\n        return names_1.default.rootData;\n    if ($data[0] === \"/\") {\n        if (!JSON_POINTER.test($data))\n            throw new Error(`Invalid JSON-pointer: ${$data}`);\n        jsonPointer = $data;\n        data = names_1.default.rootData;\n    }\n    else {\n        const matches = RELATIVE_JSON_POINTER.exec($data);\n        if (!matches)\n            throw new Error(`Invalid JSON-pointer: ${$data}`);\n        const up = +matches[1];\n        jsonPointer = matches[2];\n        if (jsonPointer === \"#\") {\n            if (up >= dataLevel)\n                throw new Error(errorMsg(\"property/index\", up));\n            return dataPathArr[dataLevel - up];\n        }\n        if (up > dataLevel)\n            throw new Error(errorMsg(\"data\", up));\n        data = dataNames[dataLevel - up];\n        if (!jsonPointer)\n            return data;\n    }\n    let expr = data;\n    const segments = jsonPointer.split(\"/\");\n    for (const segment of segments) {\n        if (segment) {\n            data = codegen_1._ `${data}${codegen_1.getProperty(util_1.unescapeJsonPointer(segment))}`;\n            expr = codegen_1._ `${expr} && ${data}`;\n        }\n    }\n    return expr;\n    function errorMsg(pointerType, up) {\n        return `Cannot access ${pointerType} ${up} levels up, current level is ${dataLevel}`;\n    }\n}\nexports.getData = getData;\n//# sourceMappingURL=context.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extendErrors = exports.resetErrorsCount = exports.reportExtraError = exports.reportError = exports.keyword$DataError = exports.keywordError = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst names_1 = require(\"./names\");\nexports.keywordError = {\n    message: ({ keyword }) => codegen_1.str `should pass \"${keyword}\" keyword validation`,\n};\nexports.keyword$DataError = {\n    message: ({ keyword, schemaType }) => schemaType\n        ? codegen_1.str `\"${keyword}\" keyword must be ${schemaType} ($data)`\n        : codegen_1.str `\"${keyword}\" keyword is invalid ($data)`,\n};\nfunction reportError(cxt, error = exports.keywordError, overrideAllErrors) {\n    const { it } = cxt;\n    const { gen, compositeRule, allErrors } = it;\n    const errObj = errorObjectCode(cxt, error);\n    if (overrideAllErrors !== null && overrideAllErrors !== void 0 ? overrideAllErrors : (compositeRule || allErrors)) {\n        addError(gen, errObj);\n    }\n    else {\n        returnErrors(it, codegen_1._ `[${errObj}]`);\n    }\n}\nexports.reportError = reportError;\nfunction reportExtraError(cxt, error = exports.keywordError) {\n    const { it } = cxt;\n    const { gen, compositeRule, allErrors } = it;\n    const errObj = errorObjectCode(cxt, error);\n    addError(gen, errObj);\n    if (!(compositeRule || allErrors)) {\n        returnErrors(it, names_1.default.vErrors);\n    }\n}\nexports.reportExtraError = reportExtraError;\nfunction resetErrorsCount(gen, errsCount) {\n    gen.assign(names_1.default.errors, errsCount);\n    gen.if(codegen_1._ `${names_1.default.vErrors} !== null`, () => gen.if(errsCount, () => gen.assign(codegen_1._ `${names_1.default.vErrors}.length`, errsCount), () => gen.assign(names_1.default.vErrors, null)));\n}\nexports.resetErrorsCount = resetErrorsCount;\nfunction extendErrors({ gen, keyword, schemaValue, data, errsCount, it, }) {\n    /* istanbul ignore if */\n    if (errsCount === undefined)\n        throw new Error(\"ajv implementation error\");\n    const err = gen.name(\"err\");\n    gen.forRange(\"i\", errsCount, names_1.default.errors, (i) => {\n        gen.const(err, codegen_1._ `${names_1.default.vErrors}[${i}]`);\n        gen.if(codegen_1._ `${err}.dataPath === undefined`, () => gen.assign(codegen_1._ `${err}.dataPath`, codegen_1.strConcat(names_1.default.dataPath, it.errorPath)));\n        gen.assign(codegen_1._ `${err}.schemaPath`, codegen_1.str `${it.errSchemaPath}/${keyword}`);\n        if (it.opts.verbose) {\n            gen.assign(codegen_1._ `${err}.schema`, schemaValue);\n            gen.assign(codegen_1._ `${err}.data`, data);\n        }\n    });\n}\nexports.extendErrors = extendErrors;\nfunction addError(gen, errObj) {\n    const err = gen.const(\"err\", errObj);\n    gen.if(codegen_1._ `${names_1.default.vErrors} === null`, () => gen.assign(names_1.default.vErrors, codegen_1._ `[${err}]`), codegen_1._ `${names_1.default.vErrors}.push(${err})`);\n    gen.code(codegen_1._ `${names_1.default.errors}++`);\n}\nfunction returnErrors(it, errs) {\n    const { gen, validateName, schemaEnv } = it;\n    if (schemaEnv.$async) {\n        gen.throw(codegen_1._ `new ${it.ValidationError}(${errs})`);\n    }\n    else {\n        gen.assign(codegen_1._ `${validateName}.errors`, errs);\n        gen.return(false);\n    }\n}\nconst E = {\n    keyword: new codegen_1.Name(\"keyword\"),\n    schemaPath: new codegen_1.Name(\"schemaPath\"),\n    params: new codegen_1.Name(\"params\"),\n    propertyName: new codegen_1.Name(\"propertyName\"),\n    message: new codegen_1.Name(\"message\"),\n    schema: new codegen_1.Name(\"schema\"),\n    parentSchema: new codegen_1.Name(\"parentSchema\"),\n    // JTD error properties\n    instancePath: new codegen_1.Name(\"instancePath\"),\n};\nfunction errorObjectCode(cxt, error) {\n    const { createErrors, opts } = cxt.it;\n    if (createErrors === false)\n        return codegen_1._ `{}`;\n    return (opts.jtd && !opts.ajvErrors ? jtdErrorObject : ajvErrorObject)(cxt, error);\n}\nfunction jtdErrorObject(cxt, { message }) {\n    const { gen, keyword, it } = cxt;\n    const { errorPath, errSchemaPath, opts } = it;\n    const keyValues = [\n        [E.instancePath, codegen_1.strConcat(names_1.default.dataPath, errorPath)],\n        [E.schemaPath, codegen_1.str `${errSchemaPath}/${keyword}`],\n    ];\n    if (opts.messages) {\n        keyValues.push([E.message, typeof message == \"function\" ? message(cxt) : message]);\n    }\n    return gen.object(...keyValues);\n}\nfunction ajvErrorObject(cxt, error) {\n    const { gen, keyword, data, schemaValue, it } = cxt;\n    const { topSchemaRef, schemaPath, errorPath, errSchemaPath, propertyName, opts } = it;\n    const { params, message } = error;\n    const keyValues = [\n        [E.keyword, keyword],\n        [names_1.default.dataPath, codegen_1.strConcat(names_1.default.dataPath, errorPath)],\n        [E.schemaPath, codegen_1.str `${errSchemaPath}/${keyword}`],\n        [E.params, typeof params == \"function\" ? params(cxt) : params || codegen_1._ `{}`],\n    ];\n    if (propertyName)\n        keyValues.push([E.propertyName, propertyName]);\n    if (opts.messages) {\n        keyValues.push([E.message, typeof message == \"function\" ? message(cxt) : message]);\n    }\n    if (opts.verbose) {\n        keyValues.push([E.schema, schemaValue], [E.parentSchema, codegen_1._ `${topSchemaRef}${schemaPath}`], [names_1.default.data, data]);\n    }\n    return gen.object(...keyValues);\n}\n//# sourceMappingURL=errors.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getSchemaRefs = exports.resolveUrl = exports.normalizeId = exports._getFullPath = exports.getFullPath = exports.inlineRef = void 0;\nconst util_1 = require(\"./util\");\nconst equal = require(\"fast-deep-equal\");\nconst traverse = require(\"json-schema-traverse\");\nconst URI = require(\"uri-js\");\n// TODO refactor to use keyword definitions\nconst SIMPLE_INLINED = new Set([\n    \"type\",\n    \"format\",\n    \"pattern\",\n    \"maxLength\",\n    \"minLength\",\n    \"maxProperties\",\n    \"minProperties\",\n    \"maxItems\",\n    \"minItems\",\n    \"maximum\",\n    \"minimum\",\n    \"uniqueItems\",\n    \"multipleOf\",\n    \"required\",\n    \"enum\",\n    \"const\",\n]);\nfunction inlineRef(schema, limit = true) {\n    if (typeof schema == \"boolean\")\n        return true;\n    if (limit === true)\n        return !hasRef(schema);\n    if (!limit)\n        return false;\n    return countKeys(schema) <= limit;\n}\nexports.inlineRef = inlineRef;\nconst REF_KEYWORDS = new Set([\n    \"$ref\",\n    \"$recursiveRef\",\n    \"$recursiveAnchor\",\n    \"$dynamicRef\",\n    \"$dynamicAnchor\",\n]);\nfunction hasRef(schema) {\n    for (const key in schema) {\n        if (REF_KEYWORDS.has(key))\n            return true;\n        const sch = schema[key];\n        if (Array.isArray(sch) && sch.some(hasRef))\n            return true;\n        if (typeof sch == \"object\" && hasRef(sch))\n            return true;\n    }\n    return false;\n}\nfunction countKeys(schema) {\n    let count = 0;\n    for (const key in schema) {\n        if (key === \"$ref\")\n            return Infinity;\n        count++;\n        if (SIMPLE_INLINED.has(key))\n            continue;\n        if (typeof schema[key] == \"object\") {\n            util_1.eachItem(schema[key], (sch) => (count += countKeys(sch)));\n        }\n        if (count === Infinity)\n            return Infinity;\n    }\n    return count;\n}\nfunction getFullPath(id = \"\", normalize) {\n    if (normalize !== false)\n        id = normalizeId(id);\n    const p = URI.parse(id);\n    return _getFullPath(p);\n}\nexports.getFullPath = getFullPath;\nfunction _getFullPath(p) {\n    return URI.serialize(p).split(\"#\")[0] + \"#\";\n}\nexports._getFullPath = _getFullPath;\nconst TRAILING_SLASH_HASH = /#\\/?$/;\nfunction normalizeId(id) {\n    return id ? id.replace(TRAILING_SLASH_HASH, \"\") : \"\";\n}\nexports.normalizeId = normalizeId;\nfunction resolveUrl(baseId, id) {\n    id = normalizeId(id);\n    return URI.resolve(baseId, id);\n}\nexports.resolveUrl = resolveUrl;\nconst ANCHOR = /^[a-z_][-a-z0-9._]*$/i;\nfunction getSchemaRefs(schema) {\n    if (typeof schema == \"boolean\")\n        return {};\n    const schemaId = normalizeId(schema.$id);\n    const baseIds = { \"\": schemaId };\n    const pathPrefix = getFullPath(schemaId, false);\n    const localRefs = {};\n    const schemaRefs = new Set();\n    traverse(schema, { allKeys: true }, (sch, jsonPtr, _, parentJsonPtr) => {\n        if (parentJsonPtr === undefined)\n            return;\n        const fullPath = pathPrefix + jsonPtr;\n        let baseId = baseIds[parentJsonPtr];\n        if (typeof sch.$id == \"string\")\n            baseId = addRef.call(this, sch.$id);\n        addAnchor.call(this, sch.$anchor);\n        addAnchor.call(this, sch.$dynamicAnchor);\n        baseIds[jsonPtr] = baseId;\n        function addRef(ref) {\n            ref = normalizeId(baseId ? URI.resolve(baseId, ref) : ref);\n            if (schemaRefs.has(ref))\n                throw ambiguos(ref);\n            schemaRefs.add(ref);\n            let schOrRef = this.refs[ref];\n            if (typeof schOrRef == \"string\")\n                schOrRef = this.refs[schOrRef];\n            if (typeof schOrRef == \"object\") {\n                checkAmbiguosRef(sch, schOrRef.schema, ref);\n            }\n            else if (ref !== normalizeId(fullPath)) {\n                if (ref[0] === \"#\") {\n                    checkAmbiguosRef(sch, localRefs[ref], ref);\n                    localRefs[ref] = sch;\n                }\n                else {\n                    this.refs[ref] = fullPath;\n                }\n            }\n            return ref;\n        }\n        function addAnchor(anchor) {\n            if (typeof anchor == \"string\") {\n                if (!ANCHOR.test(anchor))\n                    throw new Error(`invalid anchor \"${anchor}\"`);\n                addRef.call(this, `#${anchor}`);\n            }\n        }\n    });\n    return localRefs;\n    function checkAmbiguosRef(sch1, sch2, ref) {\n        if (sch2 !== undefined && !equal(sch1, sch2))\n            throw ambiguos(ref);\n    }\n    function ambiguos(ref) {\n        return new Error(`reference \"${ref}\" resolves to more than one schema`);\n    }\n}\nexports.getSchemaRefs = getSchemaRefs;\n//# sourceMappingURL=resolve.js.map","import '@backstage/core';\nimport '@backstage/integration-react';\nimport '@backstage/errors';\nimport 'zen-observable';\nexport { c as ScaffolderClient, S as ScaffolderPage, b as plugin, s as scaffolderApiRef, b as scaffolderPlugin } from './esm/index-12330d7d.esm.js';\n//# sourceMappingURL=index.esm.js.map\n","import { createRouteRef, createPlugin, createRoutableExtension, MarkdownContent, Progress, useApi, errorApiRef, Page, Header, Content, ContentHeader, SupportButton } from '@backstage/core';\nimport React, { useRef, useLayoutEffect, useState, useEffect } from 'react';\nimport { makeStyles, DialogContent, DialogActions, Button, Grid } from '@material-ui/core';\nimport { useAsync } from 'react-use';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport LinkIcon from '@material-ui/icons/Link';\nimport color from 'color';\nimport { forceSimulation, forceCollide } from 'd3-force';\n\nconst rootRouteRef = createRouteRef({\n  title: \"Tech Radar\"\n});\nconst techRadarPlugin = createPlugin({\n  id: \"tech-radar\",\n  routes: {\n    root: rootRouteRef\n  }\n});\nconst TechRadarPage = techRadarPlugin.provide(createRoutableExtension({\n  component: () => Promise.resolve().then(function () { return RadarPage$1; }).then((m) => m.RadarPage),\n  mountPoint: rootRouteRef\n}));\n\nconst useStyles = makeStyles(() => ({\n  ring: {\n    fill: \"none\",\n    stroke: \"#bbb\",\n    strokeWidth: \"1px\"\n  },\n  axis: {\n    fill: \"none\",\n    stroke: \"#bbb\",\n    strokeWidth: \"1px\"\n  },\n  text: {\n    pointerEvents: \"none\",\n    userSelect: \"none\",\n    fill: \"#e5e5e5\",\n    fontSize: \"25px\",\n    fontWeight: 800\n  }\n}));\nconst RadarGrid = (props) => {\n  const {radius, rings} = props;\n  const classes = useStyles(props);\n  const makeRingNode = (ringIndex, ringRadius) => [\n    /* @__PURE__ */ React.createElement(\"circle\", {\n      key: `c${ringIndex}`,\n      cx: 0,\n      cy: 0,\n      r: ringRadius,\n      className: classes.ring\n    }),\n    /* @__PURE__ */ React.createElement(\"text\", {\n      key: `t${ringIndex}`,\n      y: ringRadius !== void 0 ? -ringRadius + 42 : void 0,\n      textAnchor: \"middle\",\n      className: classes.text\n    }, rings[ringIndex].name)\n  ];\n  const axisNodes = [\n    /* @__PURE__ */ React.createElement(\"line\", {\n      key: \"x\",\n      x1: 0,\n      y1: -radius,\n      x2: 0,\n      y2: radius,\n      className: classes.axis,\n      \"data-testid\": \"radar-grid-x-line\"\n    }),\n    /* @__PURE__ */ React.createElement(\"line\", {\n      key: \"y\",\n      x1: -radius,\n      y1: 0,\n      x2: radius,\n      y2: 0,\n      className: classes.axis,\n      \"data-testid\": \"radar-grid-y-line\"\n    })\n  ];\n  const ringNodes = rings.map((r) => r.outerRadius).map((ringRadius, ringIndex) => makeRingNode(ringIndex, ringRadius));\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, axisNodes.concat(...ringNodes));\n};\n\nconst WithLink = ({\n  url,\n  className,\n  children\n}) => url ? /* @__PURE__ */ React.createElement(\"a\", {\n  href: url,\n  className\n}, children) : /* @__PURE__ */ React.createElement(React.Fragment, null, children);\n\nconst RadarDescription = (props) => {\n  const {open, onClose, title, description, url} = props;\n  const handleClick = () => {\n    onClose();\n    if (url) {\n      window.location.href = url;\n    }\n  };\n  return /* @__PURE__ */ React.createElement(Dialog, {\n    \"data-testid\": \"radar-description\",\n    open,\n    onClose\n  }, /* @__PURE__ */ React.createElement(DialogTitle, {\n    \"data-testid\": \"radar-description-dialog-title\"\n  }, title), /* @__PURE__ */ React.createElement(DialogContent, {\n    dividers: true\n  }, /* @__PURE__ */ React.createElement(MarkdownContent, {\n    content: description\n  })), url && /* @__PURE__ */ React.createElement(DialogActions, null, /* @__PURE__ */ React.createElement(Button, {\n    onClick: handleClick,\n    color: \"primary\",\n    startIcon: /* @__PURE__ */ React.createElement(LinkIcon, null),\n    href: url\n  }, \"LEARN MORE\")));\n};\n\nconst useStyles$1 = makeStyles(() => ({\n  text: {\n    pointerEvents: \"none\",\n    userSelect: \"none\",\n    fontSize: \"9px\",\n    fill: \"#fff\",\n    textAnchor: \"middle\"\n  },\n  link: {\n    cursor: \"pointer\"\n  }\n}));\nconst makeBlip = (color, moved) => {\n  const style = {fill: color};\n  let blip = /* @__PURE__ */ React.createElement(\"circle\", {\n    r: 9,\n    style\n  });\n  if (moved && moved > 0) {\n    blip = /* @__PURE__ */ React.createElement(\"path\", {\n      d: \"M -11,5 11,5 0,-13 z\",\n      style\n    });\n  } else if (moved && moved < 0) {\n    blip = /* @__PURE__ */ React.createElement(\"path\", {\n      d: \"M -11,-5 11,-5 0,13 z\",\n      style\n    });\n  }\n  return blip;\n};\nconst RadarEntry = (props) => {\n  const classes = useStyles$1(props);\n  const [open, setOpen] = React.useState(false);\n  const {\n    moved,\n    description,\n    title,\n    color,\n    url,\n    value,\n    x,\n    y,\n    onMouseEnter,\n    onMouseLeave,\n    onClick\n  } = props;\n  const blip = makeBlip(color, moved);\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n  const handleClose = () => {\n    setOpen(false);\n  };\n  const toggle = () => {\n    setOpen(!open);\n  };\n  return /* @__PURE__ */ React.createElement(\"g\", {\n    transform: `translate(${x}, ${y})`,\n    onMouseEnter,\n    onMouseLeave,\n    onClick,\n    \"data-testid\": \"radar-entry\"\n  }, \" \", open && /* @__PURE__ */ React.createElement(RadarDescription, {\n    open,\n    onClose: handleClose,\n    title: title ? title : \"no title\",\n    description: description ? description : \"no description\",\n    url\n  }), description ? /* @__PURE__ */ React.createElement(\"a\", {\n    className: classes.link,\n    onClick: handleClickOpen,\n    role: \"button\",\n    href: \"#\",\n    tabIndex: 0,\n    onKeyPress: toggle\n  }, blip) : /* @__PURE__ */ React.createElement(WithLink, {\n    url,\n    className: classes.link\n  }, blip), /* @__PURE__ */ React.createElement(\"text\", {\n    y: 3,\n    className: classes.text\n  }, value));\n};\n\nconst useStyles$2 = makeStyles(() => ({\n  bubble: {\n    pointerEvents: \"none\",\n    userSelect: \"none\",\n    opacity: 0\n  },\n  visibleBubble: {\n    pointerEvents: \"none\",\n    userSelect: \"none\",\n    opacity: 0.8\n  },\n  background: {\n    fill: \"#333\"\n  },\n  text: {\n    pointerEvents: \"none\",\n    userSelect: \"none\",\n    fontSize: \"10px\",\n    fill: \"#fff\"\n  }\n}));\nconst RadarBubble = (props) => {\n  const classes = useStyles$2(props);\n  const {visible, text} = props;\n  const textElem = useRef(null);\n  const svgElem = useRef(null);\n  const rectElem = useRef(null);\n  const pathElem = useRef(null);\n  const updatePosition = () => {\n    if (textElem.current) {\n      const {x, y} = props;\n      const bbox = textElem.current.getBBox();\n      const marginX = 5;\n      const marginY = 4;\n      if (svgElem.current) {\n        svgElem.current.setAttribute(\"transform\", `translate(${x - bbox.width / 2}, ${y - bbox.height - marginY})`);\n      }\n      if (rectElem.current) {\n        rectElem.current.setAttribute(\"x\", String(-marginX));\n        rectElem.current.setAttribute(\"y\", String(-bbox.height));\n        rectElem.current.setAttribute(\"width\", String(bbox.width + 2 * marginX));\n        rectElem.current.setAttribute(\"height\", String(bbox.height + marginY));\n      }\n      if (pathElem.current) {\n        pathElem.current.setAttribute(\"transform\", `translate(${bbox.width / 2 - marginX}, ${marginY - 1})`);\n      }\n    }\n  };\n  useLayoutEffect(() => {\n    updatePosition();\n  });\n  return /* @__PURE__ */ React.createElement(\"g\", {\n    ref: svgElem,\n    x: 0,\n    y: 0,\n    className: visible ? classes.visibleBubble : classes.bubble,\n    \"data-testid\": \"radar-bubble\"\n  }, /* @__PURE__ */ React.createElement(\"rect\", {\n    ref: rectElem,\n    rx: 4,\n    ry: 4,\n    className: classes.background\n  }), /* @__PURE__ */ React.createElement(\"text\", {\n    ref: textElem,\n    className: classes.text\n  }, text), /* @__PURE__ */ React.createElement(\"path\", {\n    ref: pathElem,\n    d: \"M 0,0 10,0 5,8 z\",\n    className: classes.background\n  }));\n};\n\nconst useStyles$3 = makeStyles((theme) => ({\n  text: {\n    pointerEvents: \"none\",\n    userSelect: \"none\",\n    fontSize: \"10px\",\n    fill: theme.palette.text.secondary\n  }\n}));\nconst RadarFooter = (props) => {\n  const {x, y} = props;\n  const classes = useStyles$3(props);\n  return /* @__PURE__ */ React.createElement(\"text\", {\n    \"data-testid\": \"radar-footer\",\n    transform: `translate(${x}, ${y})`,\n    className: classes.text\n  }, \"\\u25B2 moved up\\xA0\\xA0\\xA0\\xA0\\xA0\\u25BC moved down\");\n};\n\nconst useStyles$4 = makeStyles((theme) => ({\n  quadrant: {\n    height: \"100%\",\n    width: \"100%\",\n    overflow: \"hidden\",\n    pointerEvents: \"none\"\n  },\n  quadrantHeading: {\n    pointerEvents: \"none\",\n    userSelect: \"none\",\n    marginTop: 0,\n    marginBottom: theme.spacing(8 / (18 * 0.375)),\n    fontSize: \"18px\"\n  },\n  rings: {\n    columns: 3\n  },\n  ring: {\n    breakInside: \"avoid-column\",\n    pageBreakInside: \"avoid\",\n    \"-webkit-column-break-inside\": \"avoid\",\n    fontSize: \"12px\"\n  },\n  ringHeading: {\n    pointerEvents: \"none\",\n    userSelect: \"none\",\n    marginTop: 0,\n    marginBottom: theme.spacing(8 / (12 * 0.375)),\n    fontSize: \"12px\",\n    fontWeight: 800\n  },\n  ringList: {\n    listStylePosition: \"inside\",\n    marginTop: 0,\n    paddingLeft: 0,\n    fontVariantNumeric: \"proportional-nums\",\n    \"-moz-font-feature-settings\": \"pnum\",\n    \"-webkit-font-feature-settings\": \"pnum\",\n    \"font-feature-settings\": \"pnum\"\n  },\n  entry: {\n    pointerEvents: \"visiblePainted\",\n    userSelect: \"none\",\n    fontSize: \"11px\"\n  },\n  entryLink: {\n    pointerEvents: \"visiblePainted\"\n  }\n}));\nconst RadarLegend = (props) => {\n  const classes = useStyles$4(props);\n  const getSegment = (segmented, quadrant, ring, ringOffset = 0) => {\n    const quadrantIndex = quadrant.index;\n    const ringIndex = ring.index;\n    const segmentedData = quadrantIndex === void 0 ? {} : segmented[quadrantIndex] || {};\n    return ringIndex === void 0 ? [] : segmentedData[ringIndex + ringOffset] || [];\n  };\n  const RadarLegendLink = ({\n    url,\n    description,\n    title\n  }) => {\n    const [open, setOpen] = React.useState(false);\n    const handleClickOpen = () => {\n      setOpen(true);\n    };\n    const handleClose = () => {\n      setOpen(false);\n    };\n    const toggle = () => {\n      setOpen(!open);\n    };\n    if (description) {\n      return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\"span\", {\n        className: classes.entryLink,\n        onClick: handleClickOpen,\n        role: \"button\",\n        tabIndex: 0,\n        onKeyPress: toggle\n      }, /* @__PURE__ */ React.createElement(\"span\", {\n        className: classes.entry\n      }, title)), open && /* @__PURE__ */ React.createElement(RadarDescription, {\n        open,\n        onClose: handleClose,\n        title: title ? title : \"no title\",\n        url,\n        description\n      }));\n    }\n    return /* @__PURE__ */ React.createElement(WithLink, {\n      url,\n      className: classes.entryLink\n    }, /* @__PURE__ */ React.createElement(\"span\", {\n      className: classes.entry\n    }, title));\n  };\n  const RadarLegendRing = ({\n    ring,\n    entries: entries2,\n    onEntryMouseEnter: onEntryMouseEnter2,\n    onEntryMouseLeave: onEntryMouseLeave2\n  }) => {\n    return /* @__PURE__ */ React.createElement(\"div\", {\n      \"data-testid\": \"radar-ring\",\n      key: ring.id,\n      className: classes.ring\n    }, /* @__PURE__ */ React.createElement(\"h3\", {\n      className: classes.ringHeading\n    }, ring.name), entries2.length === 0 ? /* @__PURE__ */ React.createElement(\"p\", null, \"(empty)\") : /* @__PURE__ */ React.createElement(\"ol\", {\n      className: classes.ringList\n    }, entries2.map((entry) => /* @__PURE__ */ React.createElement(\"li\", {\n      key: entry.id,\n      value: (entry.index || 0) + 1,\n      onMouseEnter: onEntryMouseEnter2 && (() => onEntryMouseEnter2(entry)),\n      onMouseLeave: onEntryMouseLeave2 && (() => onEntryMouseLeave2(entry))\n    }, /* @__PURE__ */ React.createElement(RadarLegendLink, {\n      url: entry.url,\n      title: entry.title,\n      description: entry.description\n    })))));\n  };\n  const RadarLegendQuadrant = ({\n    segments: segments2,\n    quadrant,\n    rings: rings2,\n    onEntryMouseEnter: onEntryMouseEnter2,\n    onEntryMouseLeave: onEntryMouseLeave2\n  }) => {\n    return /* @__PURE__ */ React.createElement(\"foreignObject\", {\n      key: quadrant.id,\n      x: quadrant.legendX,\n      y: quadrant.legendY,\n      width: quadrant.legendWidth,\n      height: quadrant.legendHeight,\n      \"data-testid\": \"radar-quadrant\"\n    }, /* @__PURE__ */ React.createElement(\"div\", {\n      className: classes.quadrant\n    }, /* @__PURE__ */ React.createElement(\"h2\", {\n      className: classes.quadrantHeading\n    }, quadrant.name), /* @__PURE__ */ React.createElement(\"div\", {\n      className: classes.rings\n    }, rings2.map((ring) => /* @__PURE__ */ React.createElement(RadarLegendRing, {\n      key: ring.id,\n      ring,\n      entries: getSegment(segments2, quadrant, ring),\n      onEntryMouseEnter: onEntryMouseEnter2,\n      onEntryMouseLeave: onEntryMouseLeave2\n    })))));\n  };\n  const setupSegments = (entries2) => {\n    const segments2 = {};\n    for (const entry of entries2) {\n      const quadrantIndex = entry.quadrant.index;\n      const ringIndex = entry.ring.index;\n      let quadrantData = {};\n      if (quadrantIndex !== void 0) {\n        if (segments2[quadrantIndex] === void 0) {\n          segments2[quadrantIndex] = {};\n        }\n        quadrantData = segments2[quadrantIndex];\n      }\n      let ringData = [];\n      if (ringIndex !== void 0) {\n        if (quadrantData[ringIndex] === void 0) {\n          quadrantData[ringIndex] = [];\n        }\n        ringData = quadrantData[ringIndex];\n      }\n      ringData.push(entry);\n    }\n    return segments2;\n  };\n  const {\n    quadrants,\n    rings,\n    entries,\n    onEntryMouseEnter,\n    onEntryMouseLeave\n  } = props;\n  const segments = setupSegments(entries);\n  return /* @__PURE__ */ React.createElement(\"g\", {\n    \"data-testid\": \"radar-legend\"\n  }, quadrants.map((quadrant) => /* @__PURE__ */ React.createElement(RadarLegendQuadrant, {\n    key: quadrant.id,\n    segments,\n    quadrant,\n    rings,\n    onEntryMouseEnter,\n    onEntryMouseLeave\n  })));\n};\n\nconst RadarPlot = (props) => {\n  const {\n    width,\n    height,\n    radius,\n    quadrants,\n    rings,\n    entries,\n    activeEntry,\n    onEntryMouseEnter,\n    onEntryMouseLeave\n  } = props;\n  return /* @__PURE__ */ React.createElement(\"g\", {\n    \"data-testid\": \"radar-plot\"\n  }, /* @__PURE__ */ React.createElement(RadarLegend, {\n    quadrants,\n    rings,\n    entries,\n    onEntryMouseEnter: onEntryMouseEnter && ((entry) => onEntryMouseEnter(entry)),\n    onEntryMouseLeave: onEntryMouseLeave && ((entry) => onEntryMouseLeave(entry))\n  }), /* @__PURE__ */ React.createElement(\"g\", {\n    transform: `translate(${width / 2}, ${height / 2})`\n  }, /* @__PURE__ */ React.createElement(RadarGrid, {\n    radius,\n    rings\n  }), /* @__PURE__ */ React.createElement(RadarFooter, {\n    x: -0.5 * width,\n    y: 0.5 * height\n  }), entries.map((entry) => /* @__PURE__ */ React.createElement(RadarEntry, {\n    key: entry.id,\n    x: entry.x || 0,\n    y: entry.y || 0,\n    color: entry.color || \"\",\n    value: ((entry == null ? void 0 : entry.index) || 0) + 1,\n    url: entry.url,\n    description: entry.description,\n    moved: entry.moved,\n    title: entry.title,\n    onMouseEnter: onEntryMouseEnter && (() => onEntryMouseEnter(entry)),\n    onMouseLeave: onEntryMouseLeave && (() => onEntryMouseLeave(entry))\n  })), /* @__PURE__ */ React.createElement(RadarBubble, {\n    visible: !!activeEntry,\n    text: (activeEntry == null ? void 0 : activeEntry.title) || \"\",\n    x: (activeEntry == null ? void 0 : activeEntry.x) || 0,\n    y: (activeEntry == null ? void 0 : activeEntry.y) || 0\n  })));\n};\n\nclass Segment {\n  constructor(quadrant, ring, radius, nextSeed) {\n    this.nextSeed = nextSeed;\n    this.polarMin = {\n      t: quadrant.radialMin,\n      r: ring.innerRadius\n    };\n    this.polarMax = {\n      t: quadrant.radialMax,\n      r: ring.outerRadius\n    };\n    this.cartesianMin = {\n      x: 15 * quadrant.offsetX,\n      y: 15 * quadrant.offsetY\n    };\n    this.cartesianMax = {\n      x: radius * quadrant.offsetX,\n      y: radius * quadrant.offsetY\n    };\n  }\n  clipx(d) {\n    const c = boundedBox(d, this.cartesianMin, this.cartesianMax);\n    const p = boundedRing(polar(c), this.polarMin.r + 15, this.polarMax.r - 15);\n    d.x = cartesian(p).x;\n    return d.x;\n  }\n  clipy(d) {\n    const c = boundedBox(d, this.cartesianMin, this.cartesianMax);\n    const p = boundedRing(polar(c), this.polarMin.r + 15, this.polarMax.r - 15);\n    d.y = cartesian(p).y;\n    return d.y;\n  }\n  random() {\n    return cartesian({\n      t: this._randomBetween(this.polarMin.t, this.polarMax.t),\n      r: this._normalBetween(this.polarMin.r, this.polarMax.r)\n    });\n  }\n  _random() {\n    const x = Math.sin(this.nextSeed()) * 1e4;\n    return x - Math.floor(x);\n  }\n  _randomBetween(min, max) {\n    return min + this._random() * (max - min);\n  }\n  _normalBetween(min, max) {\n    return min + (this._random() + this._random()) * 0.5 * (max - min);\n  }\n}\nfunction polar({x, y}) {\n  return {\n    t: Math.atan2(y, x),\n    r: Math.sqrt(x * x + y * y)\n  };\n}\nfunction cartesian({r, t}) {\n  return {\n    x: r * Math.cos(t),\n    y: r * Math.sin(t)\n  };\n}\nfunction boundedInterval(value, min, max) {\n  const low = Math.min(min, max);\n  const high = Math.max(min, max);\n  return Math.min(Math.max(value, low), high);\n}\nfunction boundedRing(polarValue, rMin, rMax) {\n  return {\n    t: polarValue.t,\n    r: boundedInterval(polarValue.r, rMin, rMax)\n  };\n}\nfunction boundedBox(point, min, max) {\n  return {\n    x: boundedInterval(point.x, min.x, max.x),\n    y: boundedInterval(point.y, min.y, max.y)\n  };\n}\n\nconst adjustQuadrants = (quadrants, radius, width, height) => {\n  const margin = 16;\n  const xStops = [\n    margin,\n    width / 2 - radius - margin,\n    width / 2 + radius + margin,\n    width - margin\n  ];\n  const yStops = [margin, height / 2 - margin, height / 2, height - margin];\n  const legendParams = [\n    {\n      x: xStops[2],\n      y: yStops[2],\n      width: xStops[3] - xStops[2],\n      height: yStops[3] - yStops[2]\n    },\n    {\n      x: xStops[0],\n      y: yStops[2],\n      width: xStops[1] - xStops[0],\n      height: yStops[3] - yStops[2]\n    },\n    {\n      x: xStops[0],\n      y: yStops[0],\n      width: xStops[1] - xStops[0],\n      height: yStops[1] - yStops[0]\n    },\n    {\n      x: xStops[2],\n      y: yStops[0],\n      width: xStops[3] - xStops[2],\n      height: yStops[1] - yStops[0]\n    }\n  ];\n  quadrants.forEach((quadrant, index) => {\n    const legendParam = legendParams[index % 4];\n    quadrant.index = index;\n    quadrant.radialMin = index * Math.PI / 2;\n    quadrant.radialMax = (index + 1) * Math.PI / 2;\n    quadrant.offsetX = index % 4 === 0 || index % 4 === 3 ? 1 : -1;\n    quadrant.offsetY = index % 4 === 0 || index % 4 === 1 ? 1 : -1;\n    quadrant.legendX = legendParam.x;\n    quadrant.legendY = legendParam.y;\n    quadrant.legendWidth = legendParam.width;\n    quadrant.legendHeight = legendParam.height;\n  });\n};\nconst adjustEntries = (entries, quadrants, rings, radius, activeEntry) => {\n  let seed = 42;\n  entries.forEach((entry, index) => {\n    const quadrant = quadrants.find((q) => {\n      const match = typeof entry.quadrant === \"object\" ? entry.quadrant.id : entry.quadrant;\n      return q.id === match;\n    });\n    const ring = rings.find((r) => {\n      const match = typeof entry.ring === \"object\" ? entry.ring.id : entry.ring;\n      return r.id === match;\n    });\n    if (!quadrant) {\n      throw new Error(`Unknown quadrant ${entry.quadrant} for entry ${entry.id}!`);\n    }\n    if (!ring) {\n      throw new Error(`Unknown ring ${entry.ring} for entry ${entry.id}!`);\n    }\n    entry.index = index;\n    entry.quadrant = quadrant;\n    entry.ring = ring;\n    entry.segment = new Segment(quadrant, ring, radius, () => seed++);\n    const point = entry.segment.random();\n    entry.x = point.x;\n    entry.y = point.y;\n    entry.active = activeEntry ? entry.id === activeEntry.id : false;\n    entry.color = entry.active ? entry.ring.color : color(entry.ring.color).desaturate(0.5).lighten(0.1).string();\n  });\n  const simulation = forceSimulation().nodes(entries).velocityDecay(0.19).force(\"collision\", forceCollide().radius(12).strength(0.85)).stop();\n  for (let i = 0, n = Math.ceil(Math.log(simulation.alphaMin()) / Math.log(1 - simulation.alphaDecay())); i < n; ++i) {\n    simulation.tick();\n    for (const entry of entries) {\n      if (entry.segment) {\n        entry.x = entry.segment.clipx(entry);\n        entry.y = entry.segment.clipy(entry);\n      }\n    }\n  }\n};\nconst adjustRings = (rings, radius) => {\n  rings.forEach((ring, index) => {\n    ring.index = index;\n    ring.outerRadius = (index + 2) / (rings.length + 1) * radius;\n    ring.innerRadius = (index === 0 ? 0 : index + 1) / (rings.length + 1) * radius;\n  });\n};\n\nconst Radar = (props) => {\n  const {width, height, quadrants, rings, entries} = props;\n  const radius = Math.min(width, height) / 2;\n  const [activeEntry, setActiveEntry] = useState();\n  const node = useRef(null);\n  adjustQuadrants(quadrants, radius, width, height);\n  adjustRings(rings, radius);\n  adjustEntries(entries, quadrants, rings, radius, activeEntry);\n  return /* @__PURE__ */ React.createElement(\"svg\", {\n    ref: node,\n    width,\n    height,\n    ...props.svgProps\n  }, /* @__PURE__ */ React.createElement(RadarPlot, {\n    width,\n    height,\n    radius,\n    entries,\n    quadrants,\n    rings,\n    activeEntry,\n    onEntryMouseEnter: (entry) => setActiveEntry(entry),\n    onEntryMouseLeave: () => setActiveEntry(void 0)\n  }));\n};\n\nconst rings = new Array();\nrings.push({id: \"use\", name: \"USE\", color: \"#93c47d\"});\nrings.push({id: \"trial\", name: \"TRIAL\", color: \"#93d2c2\"});\nrings.push({id: \"assess\", name: \"ASSESS\", color: \"#fbdb84\"});\nrings.push({id: \"hold\", name: \"HOLD\", color: \"#efafa9\"});\nconst quadrants = new Array();\nquadrants.push({id: \"infrastructure\", name: \"Infrastructure\"});\nquadrants.push({id: \"frameworks\", name: \"Frameworks\"});\nquadrants.push({id: \"languages\", name: \"Languages\"});\nquadrants.push({id: \"process\", name: \"Process\"});\nconst entries = new Array();\nentries.push({\n  timeline: [\n    {\n      moved: 0,\n      ringId: \"use\",\n      date: new Date(\"2020-08-06\"),\n      description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua\"\n    }\n  ],\n  url: \"#\",\n  key: \"javascript\",\n  id: \"javascript\",\n  title: \"JavaScript\",\n  quadrant: \"languages\",\n  description: \"Excepteur **sint** occaecat *cupidatat* non proident, sunt in culpa qui officia deserunt mollit anim id est laborum\"\n});\nentries.push({\n  timeline: [\n    {\n      moved: -1,\n      ringId: \"use\",\n      date: new Date(\"2020-08-06\"),\n      description: \"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat\"\n    }\n  ],\n  url: \"#\",\n  key: \"typescript\",\n  id: \"typescript\",\n  title: \"TypeScript\",\n  quadrant: \"languages\",\n  description: \"Itaque earum rerum hic tenetur a sapiente delectus, ut aut reiciendis voluptatibus maiores alias consequatur aut perferendis doloribus asperiores repellat\"\n});\nentries.push({\n  timeline: [\n    {\n      moved: 1,\n      ringId: \"use\",\n      date: new Date(\"2020-08-06\"),\n      description: \"Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur\"\n    }\n  ],\n  url: \"https://webpack.js.org/\",\n  key: \"webpack\",\n  id: \"webpack\",\n  title: \"Webpack\",\n  quadrant: \"frameworks\"\n});\nentries.push({\n  timeline: [\n    {\n      moved: 0,\n      ringId: \"use\",\n      date: new Date(\"2020-08-06\")\n    }\n  ],\n  url: \"https://reactjs.org/\",\n  key: \"react\",\n  id: \"react\",\n  title: \"React\",\n  quadrant: \"frameworks\"\n});\nentries.push({\n  timeline: [\n    {\n      moved: 0,\n      ringId: \"use\",\n      date: new Date(\"2020-08-06\")\n    }\n  ],\n  url: \"#\",\n  key: \"code-reviews\",\n  id: \"code-reviews\",\n  title: \"Code Reviews\",\n  quadrant: \"process\"\n});\nentries.push({\n  timeline: [\n    {\n      moved: 0,\n      ringId: \"assess\",\n      date: new Date(\"2020-08-06\")\n    }\n  ],\n  url: \"#\",\n  key: \"mob-programming\",\n  id: \"mob-programming\",\n  title: \"Mob Programming\",\n  quadrant: \"process\"\n});\nentries.push({\n  timeline: [\n    {\n      moved: 0,\n      ringId: \"use\",\n      date: new Date(\"2020-08-06\")\n    }\n  ],\n  url: \"#\",\n  key: \"docs-like-code\",\n  id: \"docs-like-code\",\n  title: \"Docs-like-code\",\n  quadrant: \"process\"\n});\nentries.push({\n  timeline: [\n    {\n      ringId: \"hold\",\n      date: new Date(\"2020-08-06\")\n    }\n  ],\n  url: \"#\",\n  key: \"force-push\",\n  id: \"force-push\",\n  title: \"Force push to master\",\n  quadrant: \"process\"\n});\nentries.push({\n  timeline: [\n    {\n      ringId: \"use\",\n      date: new Date(\"2020-08-06\")\n    }\n  ],\n  url: \"#\",\n  key: \"github-actions\",\n  id: \"github-actions\",\n  title: \"GitHub Actions\",\n  quadrant: \"infrastructure\"\n});\nfunction getSampleData() {\n  return Promise.resolve({\n    rings,\n    quadrants,\n    entries\n  });\n}\n\nconst useTechRadarLoader = (props) => {\n  const errorApi = useApi(errorApiRef);\n  const {getData} = props;\n  const state = useAsync(async () => {\n    if (getData) {\n      const response = await getData();\n      return response;\n    }\n    return void 0;\n  }, [getData, errorApi]);\n  useEffect(() => {\n    const {error} = state;\n    if (error) {\n      errorApi.post(error);\n    }\n  }, [errorApi, state]);\n  return state;\n};\nconst RadarComponent = (props) => {\n  const {loading, error, value: data} = useTechRadarLoader(props);\n  const mapToEntries = (loaderResponse) => {\n    return loaderResponse.entries.map((entry) => {\n      return {\n        id: entry.key,\n        quadrant: loaderResponse.quadrants.find((q) => q.id === entry.quadrant),\n        title: entry.title,\n        ring: loaderResponse.rings.find((r) => r.id === entry.timeline[0].ringId),\n        timeline: entry.timeline.map((e) => {\n          return {\n            date: e.date,\n            ring: loaderResponse.rings.find((a) => a.id === e.ringId),\n            description: e.description,\n            moved: e.moved\n          };\n        }),\n        moved: entry.timeline[0].moved,\n        description: entry.description || entry.timeline[0].description,\n        url: entry.url\n      };\n    });\n  };\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, loading && /* @__PURE__ */ React.createElement(Progress, null), !loading && !error && /* @__PURE__ */ React.createElement(Radar, {\n    ...props,\n    rings: data.rings,\n    quadrants: data.quadrants,\n    entries: mapToEntries(data)\n  }));\n};\nRadarComponent.defaultProps = {\n  getData: getSampleData\n};\n\nconst useStyles$5 = makeStyles(() => ({\n  overflowXScroll: {\n    overflowX: \"scroll\"\n  }\n}));\nconst RadarPage = ({\n  title,\n  subtitle,\n  pageTitle,\n  ...props\n}) => {\n  const classes = useStyles$5();\n  return /* @__PURE__ */ React.createElement(Page, {\n    themeId: \"tool\"\n  }, /* @__PURE__ */ React.createElement(Header, {\n    title,\n    subtitle\n  }), /* @__PURE__ */ React.createElement(Content, {\n    className: classes.overflowXScroll\n  }, /* @__PURE__ */ React.createElement(ContentHeader, {\n    title: pageTitle\n  }, /* @__PURE__ */ React.createElement(SupportButton, null, \"This is used for visualizing the official guidelines of different areas of software development such as languages, frameworks, infrastructure and processes.\")), /* @__PURE__ */ React.createElement(Grid, {\n    container: true,\n    spacing: 3,\n    direction: \"row\"\n  }, /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    md: 4\n  }, /* @__PURE__ */ React.createElement(RadarComponent, {\n    ...props\n  })))));\n};\nRadarPage.defaultProps = {\n  title: \"Tech Radar\",\n  subtitle: \"Pick the recommended technologies for your projects\",\n  pageTitle: \"Company Radar\"\n};\n\nvar RadarPage$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  RadarPage: RadarPage\n});\n\nexport { RadarPage as Router, RadarComponent as TechRadarComponent, TechRadarPage, techRadarPlugin as plugin, techRadarPlugin };\n//# sourceMappingURL=index.esm.js.map\n","import '@backstage/core';\nimport '@backstage/catalog-model';\nimport 'qs';\nexport { F as Filters, d as FiltersButton, S as Router, e as SearchBar, b as SearchPage, c as SearchPageNext, f as SearchResult, g as SidebarSearch, s as plugin, s as searchPlugin } from './esm/index-37ed06b2.esm.js';\nimport '@backstage/plugin-catalog-react';\nimport '@material-ui/core';\nimport 'react';\nimport 'react-use';\nimport '@material-ui/core/styles';\nimport '@material-ui/core/InputBase';\nimport '@material-ui/core/IconButton';\nimport '@material-ui/icons/Search';\nimport '@material-ui/icons/Clear';\nimport '@material-ui/lab';\nimport '@material-ui/icons/FilterList';\nimport 'react-router-dom';\n//# sourceMappingURL=index.esm.js.map\n","import { createRouteRef, createPlugin, createRoutableExtension, SidebarItem, EmptyState, CodeSnippet, useApi, SessionState, googleAuthApiRef, microsoftAuthApiRef, githubAuthApiRef, gitlabAuthApiRef, auth0AuthApiRef, oktaAuthApiRef, oauth2ApiRef, configApiRef, InfoCard, featureFlagsApiRef, FeatureFlagState, SidebarPinStateContext, identityApiRef, sidebarConfig, appThemeApiRef, Page, Header, TabbedLayout } from '@backstage/core';\nimport React, { useState, useEffect, useCallback, useContext, cloneElement } from 'react';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport { Typography, Button, ListItem, ListItemIcon, ListItemText, Tooltip, ListItemSecondaryAction, List, Switch, makeStyles, Avatar, IconButton, Menu, MenuItem, Grid } from '@material-ui/core';\nimport Star from '@material-ui/icons/Star';\nimport SignOutIcon from '@material-ui/icons/MeetingRoom';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport { useObservable } from 'react-use';\nimport AutoIcon from '@material-ui/icons/BrightnessAuto';\nimport ToggleButton from '@material-ui/lab/ToggleButton';\nimport ToggleButtonGroup from '@material-ui/lab/ToggleButtonGroup';\n\nconst settingsRouteRef = createRouteRef({\n  path: \"/settings\",\n  title: \"Settings\"\n});\nconst userSettingsPlugin = createPlugin({\n  id: \"user-settings\",\n  routes: {\n    settingsPage: settingsRouteRef\n  }\n});\nconst UserSettingsPage = userSettingsPlugin.provide(createRoutableExtension({\n  component: () => Promise.resolve().then(function () { return SettingsPage$1; }).then((m) => m.SettingsPage),\n  mountPoint: settingsRouteRef\n}));\n\nconst Settings = () => {\n  return /* @__PURE__ */ React.createElement(SidebarItem, {\n    text: \"Settings\",\n    to: settingsRouteRef.path,\n    icon: SettingsIcon\n  });\n};\n\nconst EXAMPLE = `auth:\n  providers:\n    google:\n      development:\n        clientId: \\${AUTH_GOOGLE_CLIENT_ID}\n        clientSecret: \\${AUTH_GOOGLE_CLIENT_SECRET}\n`;\nconst EmptyProviders = () => /* @__PURE__ */ React.createElement(EmptyState, {\n  missing: \"content\",\n  title: \"No Authentication Providers\",\n  description: \"You can add Authentication Providers to Backstage which allows you to use these providers to authenticate yourself.\",\n  action: /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"body1\"\n  }, \"Open \", /* @__PURE__ */ React.createElement(\"code\", null, \"app-config.yaml\"), \" and make the changes as highlighted below:\"), /* @__PURE__ */ React.createElement(CodeSnippet, {\n    text: EXAMPLE,\n    language: \"yaml\",\n    showLineNumbers: true,\n    highlightedNumbers: [3, 4, 5, 6, 7, 8],\n    customStyle: {background: \"inherit\", fontSize: \"115%\"}\n  }), /* @__PURE__ */ React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    href: \"https://backstage.io/docs/auth/add-auth-provider\"\n  }, \"Read More\"))\n});\n\nconst ProviderSettingsItem = ({\n  title,\n  description,\n  icon: Icon,\n  apiRef\n}) => {\n  const api = useApi(apiRef);\n  const [signedIn, setSignedIn] = useState(false);\n  useEffect(() => {\n    let didCancel = false;\n    const subscription = api.sessionState$().subscribe((sessionState) => {\n      if (!didCancel) {\n        setSignedIn(sessionState === SessionState.SignedIn);\n      }\n    });\n    return () => {\n      didCancel = true;\n      subscription.unsubscribe();\n    };\n  }, [api]);\n  return /* @__PURE__ */ React.createElement(ListItem, null, /* @__PURE__ */ React.createElement(ListItemIcon, null, /* @__PURE__ */ React.createElement(Icon, null)), /* @__PURE__ */ React.createElement(ListItemText, {\n    primary: title,\n    secondary: /* @__PURE__ */ React.createElement(Tooltip, {\n      placement: \"top\",\n      arrow: true,\n      title: description\n    }, /* @__PURE__ */ React.createElement(\"span\", null, description)),\n    secondaryTypographyProps: {noWrap: true, style: {width: \"80%\"}}\n  }), /* @__PURE__ */ React.createElement(ListItemSecondaryAction, null, /* @__PURE__ */ React.createElement(Tooltip, {\n    placement: \"top\",\n    arrow: true,\n    title: signedIn ? `Sign out from ${title}` : `Sign in to ${title}`\n  }, /* @__PURE__ */ React.createElement(Button, {\n    variant: \"outlined\",\n    color: \"primary\",\n    onClick: () => signedIn ? api.signOut() : api.signIn()\n  }, signedIn ? `Sign out` : `Sign in`))));\n};\n\nconst DefaultProviderSettings = ({configuredProviders}) => /* @__PURE__ */ React.createElement(React.Fragment, null, configuredProviders.includes(\"google\") && /* @__PURE__ */ React.createElement(ProviderSettingsItem, {\n  title: \"Google\",\n  description: \"Provides authentication towards Google APIs and identities\",\n  apiRef: googleAuthApiRef,\n  icon: Star\n}), configuredProviders.includes(\"microsoft\") && /* @__PURE__ */ React.createElement(ProviderSettingsItem, {\n  title: \"Microsoft\",\n  description: \"Provides authentication towards Microsoft APIs and identities\",\n  apiRef: microsoftAuthApiRef,\n  icon: Star\n}), configuredProviders.includes(\"github\") && /* @__PURE__ */ React.createElement(ProviderSettingsItem, {\n  title: \"GitHub\",\n  description: \"Provides authentication towards GitHub APIs\",\n  apiRef: githubAuthApiRef,\n  icon: Star\n}), configuredProviders.includes(\"gitlab\") && /* @__PURE__ */ React.createElement(ProviderSettingsItem, {\n  title: \"GitLab\",\n  description: \"Provides authentication towards GitLab APIs\",\n  apiRef: gitlabAuthApiRef,\n  icon: Star\n}), configuredProviders.includes(\"auth0\") && /* @__PURE__ */ React.createElement(ProviderSettingsItem, {\n  title: \"Auth0\",\n  description: \"Provides authentication towards Auth0 APIs\",\n  apiRef: auth0AuthApiRef,\n  icon: Star\n}), configuredProviders.includes(\"okta\") && /* @__PURE__ */ React.createElement(ProviderSettingsItem, {\n  title: \"Okta\",\n  description: \"Provides authentication towards Okta APIs\",\n  apiRef: oktaAuthApiRef,\n  icon: Star\n}), configuredProviders.includes(\"oauth2\") && /* @__PURE__ */ React.createElement(ProviderSettingsItem, {\n  title: \"YourOrg\",\n  description: \"Example of how to use oauth2 custom provider\",\n  apiRef: oauth2ApiRef,\n  icon: Star\n}));\n\nconst AuthProviders = ({providerSettings}) => {\n  const configApi = useApi(configApiRef);\n  const providersConfig = configApi.getOptionalConfig(\"auth.providers\");\n  const configuredProviders = (providersConfig == null ? void 0 : providersConfig.keys()) || [];\n  const providers = providerSettings != null ? providerSettings : /* @__PURE__ */ React.createElement(DefaultProviderSettings, {\n    configuredProviders\n  });\n  if (!providerSettings && !(configuredProviders == null ? void 0 : configuredProviders.length)) {\n    return /* @__PURE__ */ React.createElement(EmptyProviders, null);\n  }\n  return /* @__PURE__ */ React.createElement(InfoCard, {\n    title: \"Available Providers\"\n  }, /* @__PURE__ */ React.createElement(List, {\n    dense: true\n  }, providers));\n};\n\nconst EXAMPLE$1 = `import { createPlugin } from '@backstage/core';\n\nexport default createPlugin({\n  id: 'plugin-name',\n  register({ router, featureFlags }) {\n    featureFlags.register('enable-example-feature');\n  },\n});\n`;\nconst EmptyFlags = () => /* @__PURE__ */ React.createElement(EmptyState, {\n  missing: \"content\",\n  title: \"No Feature Flags\",\n  description: \"Feature Flags make it possible for plugins to register features in Backstage for users to opt into. You can use this to split out logic in your code for manual A/B testing, etc.\",\n  action: /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"body1\"\n  }, \"An example for how to add a feature flag is highlighted below:\"), /* @__PURE__ */ React.createElement(CodeSnippet, {\n    text: EXAMPLE$1,\n    language: \"typescript\",\n    showLineNumbers: true,\n    highlightedNumbers: [6],\n    customStyle: {background: \"inherit\", fontSize: \"115%\"}\n  }), /* @__PURE__ */ React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    href: \"https://backstage.io/docs/api/utility-apis\"\n  }, \"Read More\"))\n});\n\nconst FlagItem = ({flag, enabled, toggleHandler}) => /* @__PURE__ */ React.createElement(ListItem, null, /* @__PURE__ */ React.createElement(ListItemText, {\n  primary: flag.name,\n  secondary: `Registered in ${flag.pluginId} plugin`\n}), /* @__PURE__ */ React.createElement(ListItemSecondaryAction, null, /* @__PURE__ */ React.createElement(Tooltip, {\n  placement: \"top\",\n  arrow: true,\n  title: enabled ? \"Disable\" : \"Enable\"\n}, /* @__PURE__ */ React.createElement(Switch, {\n  color: \"primary\",\n  checked: enabled,\n  onChange: () => toggleHandler(flag.name),\n  name: flag.name\n}))));\n\nconst FeatureFlags = () => {\n  const featureFlagsApi = useApi(featureFlagsApiRef);\n  const featureFlags = featureFlagsApi.getRegisteredFlags();\n  const initialFlagState = Object.fromEntries(featureFlags.map(({name}) => [name, featureFlagsApi.isActive(name)]));\n  const [state, setState] = useState(initialFlagState);\n  const toggleFlag = useCallback((flagName) => {\n    const newState = featureFlagsApi.isActive(flagName) ? FeatureFlagState.None : FeatureFlagState.Active;\n    featureFlagsApi.save({\n      states: {[flagName]: newState},\n      merge: true\n    });\n    setState((prevState) => ({\n      ...prevState,\n      [flagName]: newState === FeatureFlagState.Active\n    }));\n  }, [featureFlagsApi]);\n  if (!featureFlags.length) {\n    return /* @__PURE__ */ React.createElement(EmptyFlags, null);\n  }\n  return /* @__PURE__ */ React.createElement(InfoCard, {\n    title: \"Feature Flags\"\n  }, /* @__PURE__ */ React.createElement(List, {\n    dense: true\n  }, featureFlags.map((featureFlag) => {\n    const enabled = Boolean(state[featureFlag.name]);\n    return /* @__PURE__ */ React.createElement(FlagItem, {\n      key: featureFlag.name,\n      flag: featureFlag,\n      enabled,\n      toggleHandler: toggleFlag\n    });\n  })));\n};\n\nconst PinButton = () => {\n  const {isPinned, toggleSidebarPinState} = useContext(SidebarPinStateContext);\n  return /* @__PURE__ */ React.createElement(ListItem, null, /* @__PURE__ */ React.createElement(ListItemText, {\n    primary: \"Pin Sidebar\",\n    secondary: \"Prevent the sidebar from collapsing\"\n  }), /* @__PURE__ */ React.createElement(ListItemSecondaryAction, null, /* @__PURE__ */ React.createElement(Tooltip, {\n    placement: \"top\",\n    arrow: true,\n    title: `${isPinned ? \"Unpin\" : \"Pin\"} Sidebar`\n  }, /* @__PURE__ */ React.createElement(Switch, {\n    color: \"primary\",\n    checked: isPinned,\n    onChange: () => toggleSidebarPinState(),\n    name: \"pin\",\n    inputProps: {\"aria-label\": \"Pin Sidebar Switch\"}\n  }))));\n};\n\nconst useUserProfile = () => {\n  var _a;\n  const identityApi = useApi(identityApiRef);\n  const userId = identityApi.getUserId();\n  const profile = identityApi.getProfile();\n  const displayName = (_a = profile.displayName) != null ? _a : userId;\n  return {profile, displayName};\n};\n\nconst useStyles = makeStyles((theme) => ({\n  avatar: {\n    width: ({size}) => size,\n    height: ({size}) => size,\n    fontSize: ({size}) => size * 0.7,\n    border: `1px solid ${theme.palette.textSubtle}`\n  }\n}));\nconst SignInAvatar = ({size}) => {\n  const {iconSize} = sidebarConfig;\n  const classes = useStyles(size ? {size} : {size: iconSize});\n  const {profile} = useUserProfile();\n  return /* @__PURE__ */ React.createElement(Avatar, {\n    src: profile.picture,\n    className: classes.avatar\n  });\n};\n\nconst UserSettingsMenu = () => {\n  const identityApi = useApi(identityApiRef);\n  const [open, setOpen] = React.useState(false);\n  const [anchorEl, setAnchorEl] = React.useState(void 0);\n  const handleOpen = (event) => {\n    setAnchorEl(event.currentTarget);\n    setOpen(true);\n  };\n  const handleClose = () => {\n    setAnchorEl(void 0);\n    setOpen(false);\n  };\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(IconButton, {\n    \"aria-label\": \"more\",\n    onClick: handleOpen\n  }, /* @__PURE__ */ React.createElement(MoreVertIcon, null)), /* @__PURE__ */ React.createElement(Menu, {\n    anchorEl,\n    open,\n    onClose: handleClose\n  }, /* @__PURE__ */ React.createElement(MenuItem, {\n    onClick: () => identityApi.signOut()\n  }, /* @__PURE__ */ React.createElement(ListItemIcon, null, /* @__PURE__ */ React.createElement(SignOutIcon, null)), \"Sign Out\")));\n};\n\nconst Profile = () => {\n  const {profile, displayName} = useUserProfile();\n  return /* @__PURE__ */ React.createElement(InfoCard, {\n    title: \"Profile\"\n  }, /* @__PURE__ */ React.createElement(Grid, {\n    container: true,\n    spacing: 6\n  }, /* @__PURE__ */ React.createElement(Grid, {\n    item: true\n  }, /* @__PURE__ */ React.createElement(SignInAvatar, {\n    size: 96\n  })), /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: true,\n    container: true\n  }, /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    xs: true,\n    container: true,\n    direction: \"column\",\n    spacing: 2\n  }, /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    xs: true\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"subtitle1\",\n    gutterBottom: true\n  }, displayName), /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\"\n  }, profile.email))), /* @__PURE__ */ React.createElement(Grid, {\n    item: true\n  }, /* @__PURE__ */ React.createElement(UserSettingsMenu, null)))));\n};\n\nconst ThemeIcon = ({id, activeId, icon}) => icon ? cloneElement(icon, {\n  color: activeId === id ? \"primary\" : void 0\n}) : /* @__PURE__ */ React.createElement(AutoIcon, {\n  color: activeId === id ? \"primary\" : void 0\n});\nconst useStyles$1 = makeStyles((theme) => ({\n  list: {\n    [theme.breakpoints.down(\"xs\")]: {\n      padding: `0 0 12px`\n    }\n  },\n  listItemText: {\n    [theme.breakpoints.down(\"xs\")]: {\n      paddingRight: 0,\n      paddingLeft: 0\n    }\n  },\n  listItemSecondaryAction: {\n    [theme.breakpoints.down(\"xs\")]: {\n      width: \"100%\",\n      top: \"auto\",\n      right: \"auto\",\n      position: \"relative\",\n      transform: \"unset\"\n    }\n  }\n}));\nconst TooltipToggleButton = ({\n  children,\n  title,\n  value,\n  ...props\n}) => /* @__PURE__ */ React.createElement(Tooltip, {\n  placement: \"top\",\n  arrow: true,\n  title\n}, /* @__PURE__ */ React.createElement(ToggleButton, {\n  value,\n  ...props\n}, children));\nconst ThemeToggle = () => {\n  const classes = useStyles$1();\n  const appThemeApi = useApi(appThemeApiRef);\n  const themeId = useObservable(appThemeApi.activeThemeId$(), appThemeApi.getActiveThemeId());\n  const themeIds = appThemeApi.getInstalledThemes();\n  const handleSetTheme = (_event, newThemeId) => {\n    if (themeIds.some((t) => t.id === newThemeId)) {\n      appThemeApi.setActiveThemeId(newThemeId);\n    } else {\n      appThemeApi.setActiveThemeId(void 0);\n    }\n  };\n  return /* @__PURE__ */ React.createElement(ListItem, {\n    className: classes.list\n  }, /* @__PURE__ */ React.createElement(ListItemText, {\n    className: classes.listItemText,\n    primary: \"Theme\",\n    secondary: \"Change the theme mode\"\n  }), /* @__PURE__ */ React.createElement(ListItemSecondaryAction, {\n    className: classes.listItemSecondaryAction\n  }, /* @__PURE__ */ React.createElement(ToggleButtonGroup, {\n    exclusive: true,\n    size: \"small\",\n    value: themeId != null ? themeId : \"auto\",\n    onChange: handleSetTheme\n  }, themeIds.map((theme) => {\n    var _a;\n    const themeIcon = (_a = themeIds.find((t) => t.id === theme.id)) == null ? void 0 : _a.icon;\n    return /* @__PURE__ */ React.createElement(TooltipToggleButton, {\n      key: theme.id,\n      title: `Select ${theme.title}`,\n      value: theme.variant\n    }, /* @__PURE__ */ React.createElement(React.Fragment, null, theme.variant, \"\\xA0\", /* @__PURE__ */ React.createElement(ThemeIcon, {\n      id: theme.id,\n      icon: themeIcon,\n      activeId: themeId\n    })));\n  }), /* @__PURE__ */ React.createElement(Tooltip, {\n    placement: \"top\",\n    arrow: true,\n    title: \"Select auto theme\"\n  }, /* @__PURE__ */ React.createElement(ToggleButton, {\n    value: \"auto\",\n    selected: themeId === void 0\n  }, \"Auto\\xA0\", /* @__PURE__ */ React.createElement(AutoIcon, {\n    color: themeId === void 0 ? \"primary\" : void 0\n  }))))));\n};\n\nconst General = () => {\n  return /* @__PURE__ */ React.createElement(Grid, {\n    container: true,\n    direction: \"row\",\n    spacing: 3\n  }, /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    sm: 12,\n    md: 6\n  }, /* @__PURE__ */ React.createElement(Profile, null)), /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    sm: 12,\n    md: 6\n  }, /* @__PURE__ */ React.createElement(InfoCard, {\n    title: \"Appearance\"\n  }, /* @__PURE__ */ React.createElement(List, {\n    dense: true\n  }, /* @__PURE__ */ React.createElement(ThemeToggle, null), /* @__PURE__ */ React.createElement(PinButton, null)))));\n};\n\nconst SettingsPage = ({providerSettings}) => {\n  return /* @__PURE__ */ React.createElement(Page, {\n    themeId: \"home\"\n  }, /* @__PURE__ */ React.createElement(Header, {\n    title: \"Settings\"\n  }), /* @__PURE__ */ React.createElement(TabbedLayout, null, /* @__PURE__ */ React.createElement(TabbedLayout.Route, {\n    path: \"general\",\n    title: \"General\"\n  }, /* @__PURE__ */ React.createElement(General, null)), /* @__PURE__ */ React.createElement(TabbedLayout.Route, {\n    path: \"auth-providers\",\n    title: \"Authentication Providers\"\n  }, /* @__PURE__ */ React.createElement(AuthProviders, {\n    providerSettings\n  })), /* @__PURE__ */ React.createElement(TabbedLayout.Route, {\n    path: \"feature-flags\",\n    title: \"Feature Flags\"\n  }, /* @__PURE__ */ React.createElement(FeatureFlags, null))));\n};\n\nvar SettingsPage$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  SettingsPage: SettingsPage\n});\n\nexport { AuthProviders, DefaultProviderSettings, ProviderSettingsItem, SettingsPage as Router, Settings, UserSettingsPage, userSettingsPlugin as plugin, userSettingsPlugin };\n//# sourceMappingURL=index.esm.js.map\n","export default \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2ODciIGhlaWdodD0iNDIxIiBmaWxsPSJub25lIiB2aWV3Qm94PSIwIDAgNjg3IDQyMSI+PHJlY3Qgd2lkdGg9IjQwNy4yMjMiIGhlaWdodD0iNDguNDYyIiB4PSIxNi4yMzEiIHk9IjExNC4zNTMiIGZpbGw9IiNEOUQ5RDkiIHJ4PSIyNC4yMzEiIHRyYW5zZm9ybT0icm90YXRlKC0xMC41NTU2IDE2LjIzMSAxMTQuMzUzKSIvPjxyZWN0IHdpZHRoPSIzMzcuNjc5IiBoZWlnaHQ9IjQ4LjQ2MiIgeD0iNTYuNTMzIiB5PSIxNTEuMzA2IiBmaWxsPSIjRDlEOUQ5IiByeD0iMjQuMjMxIiB0cmFuc2Zvcm09InJvdGF0ZSgtMTAuNTU1NiA1Ni41MzMyIDE1MS4zMDYpIi8+PHJlY3Qgd2lkdGg9IjQ0MS4wNjEiIGhlaWdodD0iNDguNDYyIiB4PSI1NC43MDciIHk9IjI3NC40MDMiIGZpbGw9IiNEOUQ5RDkiIHJ4PSIyNC4yMzEiIHRyYW5zZm9ybT0icm90YXRlKC0xMC41NTU2IDU0LjcwNyAyNzQuNDAzKSIvPjxyZWN0IHdpZHRoPSI0NDAuNDIxIiBoZWlnaHQ9IjQ4LjQ2MiIgeD0iMzguMTIyIiB5PSIzMjEuOTU2IiBmaWxsPSIjRDlEOUQ5IiByeD0iMjQuMjMxIiB0cmFuc2Zvcm09InJvdGF0ZSgtMTAuNTU1NiAzOC4xMjIxIDMyMS45NTYpIi8+PHJlY3Qgd2lkdGg9IjQzNS44ODUiIGhlaWdodD0iNDguNDYyIiB4PSIyMTMuOTIzIiB5PSIxNDcuMTA5IiBmaWxsPSIjRDlEOUQ5IiByeD0iMjQuMjMxIiB0cmFuc2Zvcm09InJvdGF0ZSgtMTAuNTU1NiAyMTMuOTIzIDE0Ny4xMDkpIi8+PHJlY3Qgd2lkdGg9IjQzMS4wNTQiIGhlaWdodD0iNDguNDYyIiB4PSIxOTkuODQyIiB5PSIxOTQuMTk2IiBmaWxsPSIjRDlEOUQ5IiByeD0iMjQuMjMxIiB0cmFuc2Zvcm09InJvdGF0ZSgtMTAuNTU1NiAxOTkuODQyIDE5NC4xOTYpIi8+PHJlY3Qgd2lkdGg9IjM5NC45MzYiIGhlaWdodD0iNDguNDYyIiB4PSIyMzUuMjk5IiB5PSIyOTIuOTQ2IiBmaWxsPSIjRDlEOUQ5IiByeD0iMjQuMjMxIiB0cmFuc2Zvcm09InJvdGF0ZSgtMTAuNTU1NiAyMzUuMjk5IDI5Mi45NDYpIi8+PHJlY3Qgd2lkdGg9IjQ1Ni4yODIiIGhlaWdodD0iNDguNDYyIiB4PSIxOTkuODYyIiB5PSIzNDQuMDEzIiBmaWxsPSIjRDlEOUQ5IiByeD0iMjQuMjMxIiB0cmFuc2Zvcm09InJvdGF0ZSgtMTAuNTU1NiAxOTkuODYyIDM0NC4wMTMpIi8+PGcgZmlsdGVyPSJ1cmwoI2ZpbHRlcjBfZCkiPjxyZWN0IHdpZHRoPSI0NjEiIGhlaWdodD0iMjg2IiB4PSIxMjYiIHk9IjY3IiBmaWxsPSIjRjhGOEY4IiByeD0iMTAiLz48cmVjdCB3aWR0aD0iOTAiIGhlaWdodD0iNjcuMjgzIiB4PSIxNTQiIHk9IjkxIiBmaWxsPSIjRDlEOUQ5Ii8+PHJlY3Qgd2lkdGg9IjkwIiBoZWlnaHQ9IjY5LjI5MSIgeD0iMTU0IiB5PSIxNzUuMzU0IiBmaWxsPSIjRDlEOUQ5Ii8+PHJlY3Qgd2lkdGg9IjkwIiBoZWlnaHQ9IjY3LjI4MyIgeD0iMTU0IiB5PSIyNjEuNzE3IiBmaWxsPSIjRDlEOUQ5Ii8+PHJlY3Qgd2lkdGg9IjkwIiBoZWlnaHQ9IjY3LjI4MyIgeD0iMjU5IiB5PSI5MSIgZmlsbD0iI0Q5RDlEOSIvPjxyZWN0IHdpZHRoPSI5MCIgaGVpZ2h0PSI2Ny4yODMiIHg9IjM2NCIgeT0iOTEiIGZpbGw9IiNEOUQ5RDkiLz48cmVjdCB3aWR0aD0iOTAiIGhlaWdodD0iNjkuMjkxIiB4PSIzNjQiIHk9IjE3NS4zNTQiIGZpbGw9IiNFRUUiLz48cmVjdCB3aWR0aD0iOTAiIGhlaWdodD0iNjcuMjgzIiB4PSIzNjQiIHk9IjI2MS43MTciIGZpbGw9IiNEOUQ5RDkiLz48cmVjdCB3aWR0aD0iOTAiIGhlaWdodD0iNjkuMjkxIiB4PSIyNTkiIHk9IjE3NS4zNTQiIGZpbGw9IiNEOUQ5RDkiLz48cmVjdCB3aWR0aD0iOTAiIGhlaWdodD0iNjcuMjgzIiB4PSIyNTkiIHk9IjI2MS43MTciIGZpbGw9IiNEOUQ5RDkiLz48cmVjdCB3aWR0aD0iOTAiIGhlaWdodD0iNjcuMjgzIiB4PSI0NjkiIHk9IjkxIiBmaWxsPSIjRDlEOUQ5Ii8+PHJlY3Qgd2lkdGg9IjkwIiBoZWlnaHQ9IjY5LjI5MSIgeD0iNDY5IiB5PSIxNzUuMzU0IiBmaWxsPSIjRDlEOUQ5Ii8+PHJlY3Qgd2lkdGg9IjkwIiBoZWlnaHQ9IjY3LjI4MyIgeD0iNDY5IiB5PSIyNjEuNzE3IiBmaWxsPSIjRDlEOUQ5Ii8+PC9nPjxkZWZzPjxmaWx0ZXIgaWQ9ImZpbHRlcjBfZCIgd2lkdGg9IjQ4NSIgaGVpZ2h0PSIzMTAiIHg9IjExNiIgeT0iNTkiIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycz0ic1JHQiIgZmlsdGVyVW5pdHM9InVzZXJTcGFjZU9uVXNlIj48ZmVGbG9vZCBmbG9vZC1vcGFjaXR5PSIwIiByZXN1bHQ9IkJhY2tncm91bmRJbWFnZUZpeCIvPjxmZUNvbG9yTWF0cml4IGluPSJTb3VyY2VBbHBoYSIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDEyNyAwIi8+PGZlT2Zmc2V0IGR4PSIyIiBkeT0iNCIvPjxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjYiLz48ZmVDb2xvck1hdHJpeCB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMC4yNSAwIi8+PGZlQmxlbmQgaW4yPSJCYWNrZ3JvdW5kSW1hZ2VGaXgiIG1vZGU9Im5vcm1hbCIgcmVzdWx0PSJlZmZlY3QxX2Ryb3BTaGFkb3ciLz48ZmVCbGVuZCBpbj0iU291cmNlR3JhcGhpYyIgaW4yPSJlZmZlY3QxX2Ryb3BTaGFkb3ciIG1vZGU9Im5vcm1hbCIgcmVzdWx0PSJzaGFwZSIvPjwvZmlsdGVyPjwvZGVmcz48L3N2Zz4=\"","import { ORIGIN_LOCATION_ANNOTATION, stringifyLocationReference, LOCATION_ANNOTATION } from '@backstage/catalog-model';\nimport { ResponseError } from '@backstage/errors';\nimport fetch from 'cross-fetch';\n\nclass CatalogClient {\n  constructor(options) {\n    this.discoveryApi = options.discoveryApi;\n  }\n  async getLocationById(id, options) {\n    return await this.requestOptional(\"GET\", `/locations/${encodeURIComponent(id)}`, options);\n  }\n  async getEntities(request, options) {\n    const {filter = [], fields = []} = request != null ? request : {};\n    const filterItems = [filter].flat();\n    const params = [];\n    for (const filterItem of filterItems) {\n      const filterParts = [];\n      for (const [key, value] of Object.entries(filterItem)) {\n        for (const v of [value].flat()) {\n          filterParts.push(`${encodeURIComponent(key)}=${encodeURIComponent(v)}`);\n        }\n      }\n      if (filterParts.length) {\n        params.push(`filter=${filterParts.join(\",\")}`);\n      }\n    }\n    if (fields.length) {\n      params.push(`fields=${fields.map(encodeURIComponent).join(\",\")}`);\n    }\n    const query = params.length ? `?${params.join(\"&\")}` : \"\";\n    const entities = await this.requestRequired(\"GET\", `/entities${query}`, options);\n    return {items: entities};\n  }\n  async getEntityByName(compoundName, options) {\n    const {kind, namespace = \"default\", name} = compoundName;\n    return this.requestOptional(\"GET\", `/entities/by-name/${encodeURIComponent(kind)}/${encodeURIComponent(namespace)}/${encodeURIComponent(name)}`, options);\n  }\n  async addLocation({type = \"url\", target, dryRun, presence}, options) {\n    const response = await fetch(`${await this.discoveryApi.getBaseUrl(\"catalog\")}/locations${dryRun ? \"?dryRun=true\" : \"\"}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...(options == null ? void 0 : options.token) && {Authorization: `Bearer ${options == null ? void 0 : options.token}`}\n      },\n      method: \"POST\",\n      body: JSON.stringify({type, target, presence})\n    });\n    if (response.status !== 201) {\n      throw new Error(await response.text());\n    }\n    const {location, entities} = await response.json();\n    if (!location) {\n      throw new Error(`Location wasn't added: ${target}`);\n    }\n    if (entities.length === 0) {\n      throw new Error(`Location was added but has no entities specified yet: ${target}`);\n    }\n    return {\n      location,\n      entities\n    };\n  }\n  async getOriginLocationByEntity(entity, options) {\n    var _a;\n    const locationCompound = (_a = entity.metadata.annotations) == null ? void 0 : _a[ORIGIN_LOCATION_ANNOTATION];\n    if (!locationCompound) {\n      return void 0;\n    }\n    const all = await this.requestRequired(\"GET\", \"/locations\", options);\n    return all.map((r) => r.data).find((l) => locationCompound === stringifyLocationReference(l));\n  }\n  async getLocationByEntity(entity, options) {\n    var _a;\n    const locationCompound = (_a = entity.metadata.annotations) == null ? void 0 : _a[LOCATION_ANNOTATION];\n    if (!locationCompound) {\n      return void 0;\n    }\n    const all = await this.requestRequired(\"GET\", \"/locations\", options);\n    return all.map((r) => r.data).find((l) => locationCompound === stringifyLocationReference(l));\n  }\n  async removeLocationById(id, options) {\n    await this.requestIgnored(\"DELETE\", `/locations/${encodeURIComponent(id)}`, options);\n  }\n  async removeEntityByUid(uid, options) {\n    await this.requestIgnored(\"DELETE\", `/entities/by-uid/${encodeURIComponent(uid)}`, options);\n  }\n  async requestIgnored(method, path, options) {\n    const url = `${await this.discoveryApi.getBaseUrl(\"catalog\")}${path}`;\n    const headers = (options == null ? void 0 : options.token) ? {Authorization: `Bearer ${options.token}`} : {};\n    const response = await fetch(url, {method, headers});\n    if (!response.ok) {\n      throw await ResponseError.fromResponse(response);\n    }\n  }\n  async requestRequired(method, path, options) {\n    const url = `${await this.discoveryApi.getBaseUrl(\"catalog\")}${path}`;\n    const headers = (options == null ? void 0 : options.token) ? {Authorization: `Bearer ${options.token}`} : {};\n    const response = await fetch(url, {method, headers});\n    if (!response.ok) {\n      throw await ResponseError.fromResponse(response);\n    }\n    return await response.json();\n  }\n  async requestOptional(method, path, options) {\n    const url = `${await this.discoveryApi.getBaseUrl(\"catalog\")}${path}`;\n    const headers = (options == null ? void 0 : options.token) ? {Authorization: `Bearer ${options.token}`} : {};\n    const response = await fetch(url, {method, headers});\n    if (!response.ok) {\n      if (response.status === 404) {\n        return void 0;\n      }\n      throw await ResponseError.fromResponse(response);\n    }\n    return await response.json();\n  }\n}\n\nexport { CatalogClient };\n//# sourceMappingURL=index.esm.js.map\n","import { createApiRef, CodeSnippet, useApi, TabbedCard, CardTab, Progress, InfoCard, WarningPanel, Link, createRouteRef, createExternalRouteRef, useQueryParamState, Table, OverflowTooltip, configApiRef, Page, Header, useRouteRef, Content, ContentHeader, SupportButton, createPlugin, createApiFactory, createRoutableExtension, createComponentExtension } from '@backstage/core';\nimport { useEntity, EntityTable, useRelatedEntities, getEntityRelations, formatEntityRefTitle, EntityRefLink, EntityRefLinks, catalogApiRef } from '@backstage/plugin-catalog-react';\nimport { Alert } from '@material-ui/lab';\nimport React, { Suspense, useState, useEffect } from 'react';\nimport AsyncApi from '@asyncapi/react-component';\nimport '@asyncapi/react-component/lib/styles/fiori.css';\nimport { makeStyles, fade } from '@material-ui/core/styles';\nimport 'graphiql/graphiql.css';\nimport { buildSchema } from 'graphql';\nimport SwaggerUI from 'swagger-ui-react';\nimport 'swagger-ui-react/swagger-ui.css';\nimport { RELATION_CONSUMES_API, RELATION_HAS_PART, RELATION_PROVIDES_API, RELATION_API_CONSUMED_BY, RELATION_API_PROVIDED_BY, RELATION_PART_OF, RELATION_OWNED_BY } from '@backstage/catalog-model';\nimport { Typography, Chip, Button } from '@material-ui/core';\nimport { Link as Link$1 } from 'react-router-dom';\nimport { useAsync } from 'react-use';\n\nconst apiDocsConfigRef = createApiRef({\n  id: \"plugin.api-docs.config\",\n  description: \"Used to configure api-docs widgets\"\n});\n\nconst PlainApiDefinitionWidget = ({definition, language}) => {\n  return /* @__PURE__ */ React.createElement(CodeSnippet, {\n    text: definition,\n    language,\n    showCopyCodeButton: true\n  });\n};\n\nconst ApiDefinitionCard = (_) => {\n  const {entity} = useEntity();\n  const config = useApi(apiDocsConfigRef);\n  const {getApiDefinitionWidget} = config;\n  if (!entity) {\n    return /* @__PURE__ */ React.createElement(Alert, {\n      severity: \"error\"\n    }, \"Could not fetch the API\");\n  }\n  const definitionWidget = getApiDefinitionWidget(entity);\n  if (definitionWidget) {\n    return /* @__PURE__ */ React.createElement(TabbedCard, {\n      title: entity.metadata.name\n    }, /* @__PURE__ */ React.createElement(CardTab, {\n      label: definitionWidget.title,\n      key: \"widget\"\n    }, definitionWidget.component(entity.spec.definition)), /* @__PURE__ */ React.createElement(CardTab, {\n      label: \"Raw\",\n      key: \"raw\"\n    }, /* @__PURE__ */ React.createElement(PlainApiDefinitionWidget, {\n      definition: entity.spec.definition,\n      language: definitionWidget.rawLanguage || entity.spec.type\n    })));\n  }\n  return /* @__PURE__ */ React.createElement(TabbedCard, {\n    title: entity.metadata.name,\n    children: [\n      /* @__PURE__ */ React.createElement(CardTab, {\n        label: entity.spec.type,\n        key: \"raw\"\n      }, /* @__PURE__ */ React.createElement(PlainApiDefinitionWidget, {\n        definition: entity.spec.definition,\n        language: entity.spec.type\n      }))\n    ]\n  });\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    \"& .asyncapi\": {\n      \"font-family\": \"inherit\",\n      background: \"none\"\n    },\n    \"& h2\": {\n      ...theme.typography.h6\n    },\n    \"& .text-teal\": {\n      color: theme.palette.primary.main\n    },\n    \"& button\": {\n      ...theme.typography.button,\n      background: \"none\",\n      boxSizing: \"border-box\",\n      minWidth: 64,\n      borderRadius: theme.shape.borderRadius,\n      transition: theme.transitions.create([\"background-color\", \"box-shadow\", \"border\"], {\n        duration: theme.transitions.duration.short\n      }),\n      padding: \"5px 15px\",\n      color: theme.palette.primary.main,\n      border: `1px solid ${fade(theme.palette.primary.main, 0.5)}`,\n      \"&:hover\": {\n        textDecoration: \"none\",\n        \"&.Mui-disabled\": {\n          backgroundColor: \"transparent\"\n        },\n        border: `1px solid ${theme.palette.primary.main}`,\n        backgroundColor: fade(theme.palette.primary.main, theme.palette.action.hoverOpacity),\n        \"@media (hover: none)\": {\n          backgroundColor: \"transparent\"\n        }\n      },\n      \"&.Mui-disabled\": {\n        color: theme.palette.action.disabled\n      }\n    },\n    \"& .asyncapi__collapse-button:hover\": {\n      color: theme.palette.primary.main\n    },\n    \"& button.asyncapi__toggle-button\": {\n      \"min-width\": \"inherit\"\n    },\n    \"& .asyncapi__info-list li\": {\n      \"border-color\": theme.palette.primary.main,\n      \"&:hover\": {\n        color: theme.palette.text.primary,\n        \"border-color\": theme.palette.primary.main,\n        \"background-color\": theme.palette.primary.main\n      }\n    },\n    \"& .asyncapi__info-list li a\": {\n      color: theme.palette.primary.main,\n      \"&:hover\": {\n        color: theme.palette.getContrastText(theme.palette.primary.main)\n      }\n    },\n    \"& .asyncapi__enum\": {\n      color: theme.palette.secondary.main\n    },\n    \"& .asyncapi__info, .asyncapi__channel, .asyncapi__channels > div, .asyncapi__schema, .asyncapi__channel-operations-list .asyncapi__messages-list-item .asyncapi__message, .asyncapi__message, .asyncapi__server, .asyncapi__servers > div, .asyncapi__messages > div, .asyncapi__schemas > div\": {\n      \"background-color\": \"inherit\"\n    },\n    \"& .asyncapi__channel-parameters-header, .asyncapi__channel-operations-header, .asyncapi__channel-operation-oneOf-subscribe-header, .asyncapi__channel-operation-oneOf-publish-header, .asyncapi__channel-operation-message-header,  .asyncapi__message-header, .asyncapi__message-header-title, .asyncapi__message-header-title > h3, .asyncapi__bindings, .asyncapi__bindings-header, .asyncapi__bindings-header > h4\": {\n      \"background-color\": \"inherit\",\n      color: theme.palette.text.primary\n    },\n    \"& .asyncapi__additional-properties-notice\": {\n      color: theme.palette.text.hint\n    },\n    \"& .asyncapi__code, .asyncapi__code-pre\": {\n      background: theme.palette.background.default\n    },\n    \"& .asyncapi__schema-example-header-title\": {\n      color: theme.palette.text.secondary\n    },\n    \"& .asyncapi__message-headers-header, .asyncapi__message-payload-header, .asyncapi__server-variables-header, .asyncapi__server-security-header\": {\n      \"background-color\": \"inherit\",\n      color: theme.palette.text.secondary\n    },\n    \"& .asyncapi__table-header\": {\n      background: theme.palette.background.default\n    },\n    \"& .asyncapi__table-body\": {\n      color: theme.palette.text.primary\n    },\n    \"& .asyncapi__server-security-flow\": {\n      background: theme.palette.background.default,\n      border: \"none\"\n    },\n    \"& .asyncapi__server-security-flows-list a\": {\n      color: theme.palette.primary.main\n    },\n    \"& .asyncapi__table-row--nested\": {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\nconst AsyncApiDefinitionWidget = ({definition}) => {\n  const classes = useStyles();\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.root\n  }, /* @__PURE__ */ React.createElement(AsyncApi, {\n    schema: definition\n  }));\n};\n\nconst GraphiQL = React.lazy(() => import('graphiql'));\nconst useStyles$1 = makeStyles(() => ({\n  root: {\n    height: \"100%\",\n    display: \"flex\",\n    flexFlow: \"column nowrap\"\n  },\n  graphiQlWrapper: {\n    flex: 1,\n    \"@global\": {\n      \".graphiql-container\": {\n        boxSizing: \"initial\",\n        height: \"100%\",\n        minHeight: \"600px\",\n        flex: \"1 1 auto\"\n      }\n    }\n  }\n}));\nconst GraphQlDefinitionWidget = ({definition}) => {\n  const classes = useStyles$1();\n  const schema = buildSchema(definition);\n  return /* @__PURE__ */ React.createElement(Suspense, {\n    fallback: /* @__PURE__ */ React.createElement(Progress, null)\n  }, /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.root\n  }, /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.graphiQlWrapper\n  }, /* @__PURE__ */ React.createElement(GraphiQL, {\n    fetcher: () => Promise.resolve(null),\n    schema,\n    docExplorerOpen: true,\n    defaultSecondaryEditorOpen: false\n  }))));\n};\n\nconst useStyles$2 = makeStyles((theme) => ({\n  root: {\n    \"& .swagger-ui, .info h1, .info h2, .info h3, .info h4, .info h\": {\n      \"font-family\": \"inherit\",\n      color: theme.palette.text.primary\n    },\n    \"& .scheme-container\": {\n      \"background-color\": theme.palette.background.default\n    },\n    \"& .opblock-tag, .opblock-tag small, table thead tr td, table thead tr th\": {\n      color: theme.palette.text.primary,\n      \"border-color\": theme.palette.divider\n    },\n    \"& section.models, section.models.is-open h4\": {\n      \"border-color\": theme.palette.divider\n    },\n    \"& .opblock .opblock-summary-description, .parameter__type, table.headers td, .model-title, .model .property.primitive, section h3\": {\n      color: theme.palette.text.secondary\n    },\n    \"& .opblock .opblock-summary-operation-id, .opblock .opblock-summary-path, .opblock .opblock-summary-path__deprecated, .opblock .opblock-section-header h4, .parameter__name, .response-col_status, .response-col_links, .responses-inner h4, .swagger-ui .responses-inner h5, .opblock-section-header .btn, .tab li, .info li, .info p, .info table, section.models h4, .info .title, table.model tr.description, .property-row\": {\n      color: theme.palette.text.primary\n    },\n    \"& .opblock .opblock-section-header, .model-box, section.models .model-container\": {\n      background: theme.palette.background.default\n    },\n    \"& .prop-format, .parameter__in\": {\n      color: theme.palette.text.disabled\n    },\n    \"& \": {\n      color: theme.palette.text.primary,\n      \"border-color\": theme.palette.divider\n    },\n    \"& .opblock-description-wrapper p, .opblock-external-docs-wrapper p, .opblock-title_normal p, .response-control-media-type__accept-message, .opblock .opblock-section-header>label, .scheme-container .schemes>label, .info .base-url, .model\": {\n      color: theme.palette.text.hint\n    },\n    \"& .parameter__name.required:after\": {\n      color: theme.palette.warning.dark\n    },\n    \"& .prop-type\": {\n      color: theme.palette.primary.main\n    }\n  }\n}));\nconst OpenApiDefinitionWidget = ({definition}) => {\n  const classes = useStyles$2();\n  const [def, setDef] = useState(\"\");\n  useEffect(() => {\n    const timer = setTimeout(() => setDef(definition), 0);\n    return () => clearTimeout(timer);\n  }, [definition, setDef]);\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.root\n  }, /* @__PURE__ */ React.createElement(SwaggerUI, {\n    spec: def\n  }));\n};\n\nfunction defaultDefinitionWidgets() {\n  return [\n    {\n      type: \"openapi\",\n      title: \"OpenAPI\",\n      rawLanguage: \"yaml\",\n      component: (definition) => /* @__PURE__ */ React.createElement(OpenApiDefinitionWidget, {\n        definition\n      })\n    },\n    {\n      type: \"asyncapi\",\n      title: \"AsyncAPI\",\n      rawLanguage: \"yaml\",\n      component: (definition) => /* @__PURE__ */ React.createElement(AsyncApiDefinitionWidget, {\n        definition\n      })\n    },\n    {\n      type: \"graphql\",\n      title: \"GraphQL\",\n      rawLanguage: \"graphql\",\n      component: (definition) => /* @__PURE__ */ React.createElement(GraphQlDefinitionWidget, {\n        definition\n      })\n    }\n  ];\n}\n\nconst ApiTypeTitle = ({apiEntity}) => {\n  const config = useApi(apiDocsConfigRef);\n  const definition = config.getApiDefinitionWidget(apiEntity);\n  const type = definition ? definition.title : apiEntity.spec.type;\n  return /* @__PURE__ */ React.createElement(\"span\", null, type);\n};\n\nfunction createSpecApiTypeColumn() {\n  return {\n    title: \"Type\",\n    field: \"spec.type\",\n    render: (entity) => /* @__PURE__ */ React.createElement(ApiTypeTitle, {\n      apiEntity: entity\n    })\n  };\n}\nconst apiEntityColumns = [\n  EntityTable.columns.createEntityRefColumn({defaultKind: \"API\"}),\n  EntityTable.columns.createSystemColumn(),\n  EntityTable.columns.createOwnerColumn(),\n  EntityTable.columns.createSpecLifecycleColumn(),\n  createSpecApiTypeColumn(),\n  EntityTable.columns.createMetadataDescriptionColumn()\n];\n\nconst ConsumedApisCard = ({variant = \"gridItem\"}) => {\n  const {entity} = useEntity();\n  const {entities, loading, error} = useRelatedEntities(entity, {\n    type: RELATION_CONSUMES_API\n  });\n  if (loading) {\n    return /* @__PURE__ */ React.createElement(InfoCard, {\n      variant,\n      title: \"Consumed APIs\"\n    }, /* @__PURE__ */ React.createElement(Progress, null));\n  }\n  if (error || !entities) {\n    return /* @__PURE__ */ React.createElement(InfoCard, {\n      variant,\n      title: \"Consumed APIs\"\n    }, /* @__PURE__ */ React.createElement(WarningPanel, {\n      severity: \"error\",\n      title: \"Could not load APIs\",\n      message: /* @__PURE__ */ React.createElement(CodeSnippet, {\n        text: `${error}`,\n        language: \"text\"\n      })\n    }));\n  }\n  return /* @__PURE__ */ React.createElement(EntityTable, {\n    title: \"Consumed APIs\",\n    variant,\n    emptyContent: /* @__PURE__ */ React.createElement(\"div\", {\n      style: {textAlign: \"center\"}\n    }, /* @__PURE__ */ React.createElement(Typography, {\n      variant: \"body1\"\n    }, \"This \", entity.kind.toLocaleLowerCase(\"en-US\"), \" does not consume any APIs.\"), /* @__PURE__ */ React.createElement(Typography, {\n      variant: \"body2\"\n    }, /* @__PURE__ */ React.createElement(Link, {\n      to: \"https://backstage.io/docs/features/software-catalog/descriptor-format#specconsumesapis-optional\"\n    }, \"Learn how to change this.\"))),\n    columns: apiEntityColumns,\n    entities\n  });\n};\n\nconst columns = [\n  EntityTable.columns.createEntityRefColumn({defaultKind: \"API\"}),\n  EntityTable.columns.createOwnerColumn(),\n  EntityTable.columns.createSpecLifecycleColumn(),\n  createSpecApiTypeColumn(),\n  EntityTable.columns.createMetadataDescriptionColumn()\n];\nconst HasApisCard = ({variant = \"gridItem\"}) => {\n  const {entity} = useEntity();\n  const {entities, loading, error} = useRelatedEntities(entity, {\n    type: RELATION_HAS_PART,\n    kind: \"API\"\n  });\n  if (loading) {\n    return /* @__PURE__ */ React.createElement(InfoCard, {\n      variant,\n      title: \"APIs\"\n    }, /* @__PURE__ */ React.createElement(Progress, null));\n  }\n  if (error || !entities) {\n    return /* @__PURE__ */ React.createElement(InfoCard, {\n      variant,\n      title: \"APIs\"\n    }, /* @__PURE__ */ React.createElement(WarningPanel, {\n      severity: \"error\",\n      title: \"Could not load APIs\",\n      message: /* @__PURE__ */ React.createElement(CodeSnippet, {\n        text: `${error}`,\n        language: \"text\"\n      })\n    }));\n  }\n  return /* @__PURE__ */ React.createElement(EntityTable, {\n    title: \"APIs\",\n    variant,\n    emptyContent: /* @__PURE__ */ React.createElement(\"div\", {\n      style: {textAlign: \"center\"}\n    }, /* @__PURE__ */ React.createElement(Typography, {\n      variant: \"body1\"\n    }, \"This \", entity.kind.toLocaleLowerCase(\"en-US\"), \" does not contain any APIs.\"), /* @__PURE__ */ React.createElement(Typography, {\n      variant: \"body2\"\n    }, /* @__PURE__ */ React.createElement(Link, {\n      to: \"https://backstage.io/docs/features/software-catalog/descriptor-format#kind-api\"\n    }, \"Learn how to change this.\"))),\n    columns,\n    entities\n  });\n};\n\nconst ProvidedApisCard = ({variant = \"gridItem\"}) => {\n  const {entity} = useEntity();\n  const {entities, loading, error} = useRelatedEntities(entity, {\n    type: RELATION_PROVIDES_API\n  });\n  if (loading) {\n    return /* @__PURE__ */ React.createElement(InfoCard, {\n      variant,\n      title: \"Provided APIs\"\n    }, /* @__PURE__ */ React.createElement(Progress, null));\n  }\n  if (error || !entities) {\n    return /* @__PURE__ */ React.createElement(InfoCard, {\n      variant,\n      title: \"Provided APIs\"\n    }, /* @__PURE__ */ React.createElement(WarningPanel, {\n      severity: \"error\",\n      title: \"Could not load APIs\",\n      message: /* @__PURE__ */ React.createElement(CodeSnippet, {\n        text: `${error}`,\n        language: \"text\"\n      })\n    }));\n  }\n  return /* @__PURE__ */ React.createElement(EntityTable, {\n    title: \"Provided APIs\",\n    variant,\n    emptyContent: /* @__PURE__ */ React.createElement(\"div\", {\n      style: {textAlign: \"center\"}\n    }, /* @__PURE__ */ React.createElement(Typography, {\n      variant: \"body1\"\n    }, \"This \", entity.kind.toLocaleLowerCase(\"en-US\"), \" does not provide any APIs.\"), /* @__PURE__ */ React.createElement(Typography, {\n      variant: \"body2\"\n    }, /* @__PURE__ */ React.createElement(Link, {\n      to: \"https://backstage.io/docs/features/software-catalog/descriptor-format#specprovidesapis-optional\"\n    }, \"Learn how to change this.\"))),\n    columns: apiEntityColumns,\n    entities\n  });\n};\n\nconst ConsumingComponentsCard = ({variant = \"gridItem\"}) => {\n  const {entity} = useEntity();\n  const {entities, loading, error} = useRelatedEntities(entity, {\n    type: RELATION_API_CONSUMED_BY\n  });\n  if (loading) {\n    return /* @__PURE__ */ React.createElement(InfoCard, {\n      variant,\n      title: \"Consumers\"\n    }, /* @__PURE__ */ React.createElement(Progress, null));\n  }\n  if (error || !entities) {\n    return /* @__PURE__ */ React.createElement(InfoCard, {\n      variant,\n      title: \"Consumers\"\n    }, /* @__PURE__ */ React.createElement(WarningPanel, {\n      severity: \"error\",\n      title: \"Could not load components\",\n      message: /* @__PURE__ */ React.createElement(CodeSnippet, {\n        text: `${error}`,\n        language: \"text\"\n      })\n    }));\n  }\n  return /* @__PURE__ */ React.createElement(EntityTable, {\n    title: \"Consumers\",\n    variant,\n    emptyContent: /* @__PURE__ */ React.createElement(\"div\", {\n      style: {textAlign: \"center\"}\n    }, /* @__PURE__ */ React.createElement(Typography, {\n      variant: \"body1\"\n    }, \"No component consumes this API.\"), /* @__PURE__ */ React.createElement(Typography, {\n      variant: \"body2\"\n    }, /* @__PURE__ */ React.createElement(Link, {\n      to: \"https://backstage.io/docs/features/software-catalog/descriptor-format#specconsumesapis-optional\"\n    }, \"Learn how to change this.\"))),\n    columns: EntityTable.componentEntityColumns,\n    entities\n  });\n};\n\nconst ProvidingComponentsCard = ({variant = \"gridItem\"}) => {\n  const {entity} = useEntity();\n  const {entities, loading, error} = useRelatedEntities(entity, {\n    type: RELATION_API_PROVIDED_BY\n  });\n  if (loading) {\n    return /* @__PURE__ */ React.createElement(InfoCard, {\n      variant,\n      title: \"Providers\"\n    }, /* @__PURE__ */ React.createElement(Progress, null));\n  }\n  if (error || !entities) {\n    return /* @__PURE__ */ React.createElement(InfoCard, {\n      variant,\n      title: \"Providers\"\n    }, /* @__PURE__ */ React.createElement(WarningPanel, {\n      severity: \"error\",\n      title: \"Could not load components\",\n      message: /* @__PURE__ */ React.createElement(CodeSnippet, {\n        text: `${error}`,\n        language: \"text\"\n      })\n    }));\n  }\n  return /* @__PURE__ */ React.createElement(EntityTable, {\n    title: \"Providers\",\n    variant,\n    emptyContent: /* @__PURE__ */ React.createElement(\"div\", {\n      style: {textAlign: \"center\"}\n    }, /* @__PURE__ */ React.createElement(Typography, {\n      variant: \"body1\"\n    }, \"No component provides this API.\"), /* @__PURE__ */ React.createElement(Typography, {\n      variant: \"body2\"\n    }, /* @__PURE__ */ React.createElement(Link, {\n      to: \"https://backstage.io/docs/features/software-catalog/descriptor-format#specprovidesapis-optional\"\n    }, \"Learn how to change this.\"))),\n    columns: EntityTable.componentEntityColumns,\n    entities\n  });\n};\n\nconst NoIcon = () => null;\nconst rootRoute = createRouteRef({\n  icon: NoIcon,\n  path: \"/api-docs\",\n  title: \"APIs\"\n});\nconst createComponentRouteRef = createExternalRouteRef({\n  id: \"create-component\",\n  optional: true\n});\n\nconst columns$1 = [\n  {\n    title: \"Name\",\n    field: \"resolved.name\",\n    highlight: true,\n    render: ({entity}) => /* @__PURE__ */ React.createElement(EntityRefLink, {\n      entityRef: entity,\n      defaultKind: \"API\"\n    })\n  },\n  {\n    title: \"System\",\n    field: \"resolved.partOfSystemRelationTitle\",\n    render: ({resolved}) => /* @__PURE__ */ React.createElement(EntityRefLinks, {\n      entityRefs: resolved.partOfSystemRelations,\n      defaultKind: \"system\"\n    })\n  },\n  {\n    title: \"Owner\",\n    field: \"resolved.ownedByRelationsTitle\",\n    render: ({resolved}) => /* @__PURE__ */ React.createElement(EntityRefLinks, {\n      entityRefs: resolved.ownedByRelations,\n      defaultKind: \"group\"\n    })\n  },\n  {\n    title: \"Lifecycle\",\n    field: \"entity.spec.lifecycle\"\n  },\n  {\n    title: \"Type\",\n    field: \"entity.spec.type\",\n    render: ({entity}) => /* @__PURE__ */ React.createElement(ApiTypeTitle, {\n      apiEntity: entity\n    })\n  },\n  {\n    title: \"Description\",\n    field: \"entity.metadata.description\",\n    render: ({entity}) => /* @__PURE__ */ React.createElement(OverflowTooltip, {\n      text: entity.metadata.description,\n      placement: \"bottom-start\"\n    }),\n    width: \"auto\"\n  },\n  {\n    title: \"Tags\",\n    field: \"entity.metadata.tags\",\n    cellStyle: {\n      padding: \"0px 16px 0px 20px\"\n    },\n    render: ({entity}) => /* @__PURE__ */ React.createElement(React.Fragment, null, entity.metadata.tags && entity.metadata.tags.map((t) => /* @__PURE__ */ React.createElement(Chip, {\n      key: t,\n      label: t,\n      size: \"small\",\n      variant: \"outlined\",\n      style: {marginBottom: \"0px\"}\n    })))\n  }\n];\nconst filters = [\n  {\n    column: \"Owner\",\n    type: \"select\"\n  },\n  {\n    column: \"Type\",\n    type: \"multiple-select\"\n  },\n  {\n    column: \"Lifecycle\",\n    type: \"multiple-select\"\n  },\n  {\n    column: \"Tags\",\n    type: \"checkbox-tree\"\n  }\n];\nconst ApiExplorerTable = ({\n  entities,\n  loading,\n  error\n}) => {\n  const [queryParamState, setQueryParamState] = useQueryParamState(\"apiTable\");\n  if (error) {\n    return /* @__PURE__ */ React.createElement(WarningPanel, {\n      severity: \"error\",\n      title: \"Could not fetch catalog entities.\"\n    }, /* @__PURE__ */ React.createElement(CodeSnippet, {\n      language: \"text\",\n      text: error.toString()\n    }));\n  }\n  const rows = entities.map((entity) => {\n    const partOfSystemRelations = getEntityRelations(entity, RELATION_PART_OF, {\n      kind: \"system\"\n    });\n    const ownedByRelations = getEntityRelations(entity, RELATION_OWNED_BY);\n    return {\n      entity,\n      resolved: {\n        name: formatEntityRefTitle(entity, {\n          defaultKind: \"API\"\n        }),\n        ownedByRelationsTitle: ownedByRelations.map((r) => formatEntityRefTitle(r, {defaultKind: \"group\"})).join(\", \"),\n        ownedByRelations,\n        partOfSystemRelationTitle: partOfSystemRelations.map((r) => formatEntityRefTitle(r, {\n          defaultKind: \"system\"\n        })).join(\", \"),\n        partOfSystemRelations\n      }\n    };\n  });\n  return /* @__PURE__ */ React.createElement(Table, {\n    isLoading: loading,\n    columns: columns$1,\n    options: {\n      paging: false,\n      actionsColumnIndex: -1,\n      loadingType: \"linear\",\n      padding: \"dense\",\n      showEmptyDataSourceMessage: !loading\n    },\n    data: rows,\n    filters,\n    initialState: queryParamState,\n    onStateChange: setQueryParamState\n  });\n};\n\nconst ApiExplorerLayout = ({children}) => {\n  var _a;\n  const configApi = useApi(configApiRef);\n  const generatedSubtitle = `${(_a = configApi.getOptionalString(\"organization.name\")) != null ? _a : \"Backstage\"} API Explorer`;\n  return /* @__PURE__ */ React.createElement(Page, {\n    themeId: \"apis\"\n  }, /* @__PURE__ */ React.createElement(Header, {\n    title: \"APIs\",\n    subtitle: generatedSubtitle,\n    pageTitleOverride: \"APIs\"\n  }), children);\n};\n\nconst ApiExplorerPage = () => {\n  var _a;\n  const createComponentLink = useRouteRef(createComponentRouteRef);\n  const catalogApi = useApi(catalogApiRef);\n  const {loading, error, value: catalogResponse} = useAsync(() => {\n    return catalogApi.getEntities({\n      filter: {kind: \"API\"},\n      fields: [\n        \"apiVersion\",\n        \"kind\",\n        \"metadata\",\n        \"relations\",\n        \"spec.lifecycle\",\n        \"spec.owner\",\n        \"spec.type\",\n        \"spec.system\"\n      ]\n    });\n  }, [catalogApi]);\n  return /* @__PURE__ */ React.createElement(ApiExplorerLayout, null, /* @__PURE__ */ React.createElement(Content, null, /* @__PURE__ */ React.createElement(ContentHeader, {\n    title: \"\"\n  }, createComponentLink && /* @__PURE__ */ React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    component: Link$1,\n    to: createComponentLink()\n  }, \"Register Existing API\"), /* @__PURE__ */ React.createElement(SupportButton, null, \"All your APIs\")), /* @__PURE__ */ React.createElement(ApiExplorerTable, {\n    entities: (_a = catalogResponse == null ? void 0 : catalogResponse.items) != null ? _a : [],\n    loading,\n    error\n  })));\n};\n\nconst apiDocsPlugin = createPlugin({\n  id: \"api-docs\",\n  routes: {\n    root: rootRoute\n  },\n  apis: [\n    createApiFactory({\n      api: apiDocsConfigRef,\n      deps: {},\n      factory: () => {\n        const definitionWidgets = defaultDefinitionWidgets();\n        return {\n          getApiDefinitionWidget: (apiEntity) => {\n            return definitionWidgets.find((d) => d.type === apiEntity.spec.type);\n          }\n        };\n      }\n    })\n  ],\n  externalRoutes: {\n    createComponent: createComponentRouteRef\n  },\n  register({router}) {\n    router.addRoute(rootRoute, ApiExplorerPage);\n  }\n});\nconst ApiExplorerPage$1 = apiDocsPlugin.provide(createRoutableExtension({\n  component: () => import('./index-947d5b4c.esm.js').then((m) => m.ApiExplorerPage),\n  mountPoint: rootRoute\n}));\nconst EntityApiDefinitionCard = apiDocsPlugin.provide(createComponentExtension({\n  component: {\n    lazy: () => import('./index-44b03952.esm.js').then((m) => m.ApiDefinitionCard)\n  }\n}));\nconst EntityConsumedApisCard = apiDocsPlugin.provide(createComponentExtension({\n  component: {\n    lazy: () => import('./index-7c2f5135.esm.js').then((m) => m.ConsumedApisCard)\n  }\n}));\nconst EntityConsumingComponentsCard = apiDocsPlugin.provide(createComponentExtension({\n  component: {\n    lazy: () => import('./index-257abbe3.esm.js').then((m) => m.ConsumingComponentsCard)\n  }\n}));\nconst EntityProvidedApisCard = apiDocsPlugin.provide(createComponentExtension({\n  component: {\n    lazy: () => import('./index-7c2f5135.esm.js').then((m) => m.ProvidedApisCard)\n  }\n}));\nconst EntityProvidingComponentsCard = apiDocsPlugin.provide(createComponentExtension({\n  component: {\n    lazy: () => import('./index-257abbe3.esm.js').then((m) => m.ProvidingComponentsCard)\n  }\n}));\nconst EntityHasApisCard = apiDocsPlugin.provide(createComponentExtension({\n  component: {\n    lazy: () => import('./index-7c2f5135.esm.js').then((m) => m.HasApisCard)\n  }\n}));\n\nexport { ApiExplorerPage as A, ConsumedApisCard as C, EntityApiDefinitionCard as E, HasApisCard as H, OpenApiDefinitionWidget as O, ProvidedApisCard as P, ApiDefinitionCard as a, ApiTypeTitle as b, ConsumingComponentsCard as c, defaultDefinitionWidgets as d, ProvidingComponentsCard as e, apiDocsConfigRef as f, apiDocsPlugin as g, ApiExplorerPage$1 as h, EntityConsumedApisCard as i, EntityConsumingComponentsCard as j, EntityHasApisCard as k, EntityProvidedApisCard as l, EntityProvidingComponentsCard as m, AsyncApiDefinitionWidget as n, PlainApiDefinitionWidget as o };\n//# sourceMappingURL=index-70fbe4d9.esm.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.func = exports.setEvaluated = exports.evaluatedPropsToName = exports.mergeEvaluated = exports.eachItem = exports.unescapeJsonPointer = exports.escapeJsonPointer = exports.escapeFragment = exports.unescapeFragment = exports.schemaRefOrVal = exports.schemaHasRulesButRef = exports.schemaHasRules = exports.checkUnknownRules = exports.alwaysValidSchema = exports.toHash = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst validate_1 = require(\"./validate\");\n// TODO refactor to use Set\nfunction toHash(arr) {\n    const hash = {};\n    for (const item of arr)\n        hash[item] = true;\n    return hash;\n}\nexports.toHash = toHash;\nfunction alwaysValidSchema(it, schema) {\n    if (typeof schema == \"boolean\")\n        return schema;\n    if (Object.keys(schema).length === 0)\n        return true;\n    checkUnknownRules(it, schema);\n    return !schemaHasRules(schema, it.self.RULES.all);\n}\nexports.alwaysValidSchema = alwaysValidSchema;\nfunction checkUnknownRules(it, schema = it.schema) {\n    const { opts, self } = it;\n    if (!opts.strict)\n        return;\n    if (typeof schema === \"boolean\")\n        return;\n    const rules = self.RULES.keywords;\n    for (const key in schema) {\n        if (!rules[key])\n            validate_1.checkStrictMode(it, `unknown keyword: \"${key}\"`);\n    }\n}\nexports.checkUnknownRules = checkUnknownRules;\nfunction schemaHasRules(schema, rules) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (rules[key])\n            return true;\n    return false;\n}\nexports.schemaHasRules = schemaHasRules;\nfunction schemaHasRulesButRef(schema, RULES) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (key !== \"$ref\" && RULES.all[key])\n            return true;\n    return false;\n}\nexports.schemaHasRulesButRef = schemaHasRulesButRef;\nfunction schemaRefOrVal({ topSchemaRef, schemaPath }, schema, keyword, $data) {\n    if (!$data) {\n        if (typeof schema == \"number\" || typeof schema == \"boolean\")\n            return schema;\n        if (typeof schema == \"string\")\n            return codegen_1._ `${schema}`;\n    }\n    return codegen_1._ `${topSchemaRef}${schemaPath}${codegen_1.getProperty(keyword)}`;\n}\nexports.schemaRefOrVal = schemaRefOrVal;\nfunction unescapeFragment(str) {\n    return unescapeJsonPointer(decodeURIComponent(str));\n}\nexports.unescapeFragment = unescapeFragment;\nfunction escapeFragment(str) {\n    return encodeURIComponent(escapeJsonPointer(str));\n}\nexports.escapeFragment = escapeFragment;\nfunction escapeJsonPointer(str) {\n    if (typeof str == \"number\")\n        return `${str}`;\n    return str.replace(/~/g, \"~0\").replace(/\\//g, \"~1\");\n}\nexports.escapeJsonPointer = escapeJsonPointer;\nfunction unescapeJsonPointer(str) {\n    return str.replace(/~1/g, \"/\").replace(/~0/g, \"~\");\n}\nexports.unescapeJsonPointer = unescapeJsonPointer;\nfunction eachItem(xs, f) {\n    if (Array.isArray(xs)) {\n        for (const x of xs)\n            f(x);\n    }\n    else {\n        f(xs);\n    }\n}\nexports.eachItem = eachItem;\nfunction makeMergeEvaluated({ mergeNames, mergeToName, mergeValues, resultToName, }) {\n    return (gen, from, to, toName) => {\n        const res = to === undefined\n            ? from\n            : to instanceof codegen_1.Name\n                ? (from instanceof codegen_1.Name ? mergeNames(gen, from, to) : mergeToName(gen, from, to), to)\n                : from instanceof codegen_1.Name\n                    ? (mergeToName(gen, to, from), from)\n                    : mergeValues(from, to);\n        return toName === codegen_1.Name && !(res instanceof codegen_1.Name) ? resultToName(gen, res) : res;\n    };\n}\nexports.mergeEvaluated = {\n    props: makeMergeEvaluated({\n        mergeNames: (gen, from, to) => gen.if(codegen_1._ `${to} !== true && ${from} !== undefined`, () => {\n            gen.if(codegen_1._ `${from} === true`, () => gen.assign(to, true), () => gen.assign(to, codegen_1._ `${to} || {}`).code(codegen_1._ `Object.assign(${to}, ${from})`));\n        }),\n        mergeToName: (gen, from, to) => gen.if(codegen_1._ `${to} !== true`, () => {\n            if (from === true) {\n                gen.assign(to, true);\n            }\n            else {\n                gen.assign(to, codegen_1._ `${to} || {}`);\n                setEvaluated(gen, to, from);\n            }\n        }),\n        mergeValues: (from, to) => (from === true ? true : { ...from, ...to }),\n        resultToName: evaluatedPropsToName,\n    }),\n    items: makeMergeEvaluated({\n        mergeNames: (gen, from, to) => gen.if(codegen_1._ `${to} !== true && ${from} !== undefined`, () => gen.assign(to, codegen_1._ `${from} === true ? true : ${to} > ${from} ? ${to} : ${from}`)),\n        mergeToName: (gen, from, to) => gen.if(codegen_1._ `${to} !== true`, () => gen.assign(to, from === true ? true : codegen_1._ `${to} > ${from} ? ${to} : ${from}`)),\n        mergeValues: (from, to) => (from === true ? true : Math.max(from, to)),\n        resultToName: (gen, items) => gen.var(\"items\", items),\n    }),\n};\nfunction evaluatedPropsToName(gen, ps) {\n    if (ps === true)\n        return gen.var(\"props\", true);\n    const props = gen.var(\"props\", codegen_1._ `{}`);\n    if (ps !== undefined)\n        setEvaluated(gen, props, ps);\n    return props;\n}\nexports.evaluatedPropsToName = evaluatedPropsToName;\nfunction setEvaluated(gen, props, ps) {\n    Object.keys(ps).forEach((p) => gen.assign(codegen_1._ `${props}${codegen_1.getProperty(p)}`, true));\n}\nexports.setEvaluated = setEvaluated;\nfunction func(gen, f) {\n    return gen.scopeValue(\"func\", {\n        ref: f,\n        code: f.code,\n    });\n}\nexports.func = func;\n//# sourceMappingURL=util.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getProperty = exports.safeStringify = exports.stringify = exports.strConcat = exports.addCodeArg = exports.str = exports._ = exports.nil = exports._Code = exports.Name = exports.IDENTIFIER = exports._CodeOrName = void 0;\nclass _CodeOrName {\n}\nexports._CodeOrName = _CodeOrName;\nexports.IDENTIFIER = /^[a-z$_][a-z$_0-9]*$/i;\nclass Name extends _CodeOrName {\n    constructor(s) {\n        super();\n        if (!exports.IDENTIFIER.test(s))\n            throw new Error(\"CodeGen: name must be a valid identifier\");\n        this.str = s;\n    }\n    toString() {\n        return this.str;\n    }\n    emptyStr() {\n        return false;\n    }\n    get names() {\n        return { [this.str]: 1 };\n    }\n}\nexports.Name = Name;\nclass _Code extends _CodeOrName {\n    constructor(code) {\n        super();\n        this._items = typeof code === \"string\" ? [code] : code;\n    }\n    toString() {\n        return this.str;\n    }\n    emptyStr() {\n        if (this._items.length > 1)\n            return false;\n        const item = this._items[0];\n        return item === \"\" || item === '\"\"';\n    }\n    get str() {\n        var _a;\n        return ((_a = this._str) !== null && _a !== void 0 ? _a : (this._str = this._items.reduce((s, c) => `${s}${c}`, \"\")));\n    }\n    get names() {\n        var _a;\n        return ((_a = this._names) !== null && _a !== void 0 ? _a : (this._names = this._items.reduce((names, c) => {\n            if (c instanceof Name)\n                names[c.str] = (names[c.str] || 0) + 1;\n            return names;\n        }, {})));\n    }\n}\nexports._Code = _Code;\nexports.nil = new _Code(\"\");\nfunction _(strs, ...args) {\n    const code = [strs[0]];\n    let i = 0;\n    while (i < args.length) {\n        addCodeArg(code, args[i]);\n        code.push(strs[++i]);\n    }\n    return new _Code(code);\n}\nexports._ = _;\nconst plus = new _Code(\"+\");\nfunction str(strs, ...args) {\n    const expr = [safeStringify(strs[0])];\n    let i = 0;\n    while (i < args.length) {\n        expr.push(plus);\n        addCodeArg(expr, args[i]);\n        expr.push(plus, safeStringify(strs[++i]));\n    }\n    optimize(expr);\n    return new _Code(expr);\n}\nexports.str = str;\nfunction addCodeArg(code, arg) {\n    if (arg instanceof _Code)\n        code.push(...arg._items);\n    else if (arg instanceof Name)\n        code.push(arg);\n    else\n        code.push(interpolate(arg));\n}\nexports.addCodeArg = addCodeArg;\nfunction optimize(expr) {\n    let i = 1;\n    while (i < expr.length - 1) {\n        if (expr[i] === plus) {\n            const res = mergeExprItems(expr[i - 1], expr[i + 1]);\n            if (res !== undefined) {\n                expr.splice(i - 1, 3, res);\n                continue;\n            }\n            expr[i++] = \"+\";\n        }\n        i++;\n    }\n}\nfunction mergeExprItems(a, b) {\n    if (b === '\"\"')\n        return a;\n    if (a === '\"\"')\n        return b;\n    if (typeof a == \"string\") {\n        if (b instanceof Name || a[a.length - 1] !== '\"')\n            return;\n        if (typeof b != \"string\")\n            return `${a.slice(0, -1)}${b}\"`;\n        if (b[0] === '\"')\n            return a.slice(0, -1) + b.slice(1);\n        return;\n    }\n    if (typeof b == \"string\" && b[0] === '\"' && !(a instanceof Name))\n        return `\"${a}${b.slice(1)}`;\n    return;\n}\nfunction strConcat(c1, c2) {\n    return c2.emptyStr() ? c1 : c1.emptyStr() ? c2 : str `${c1}${c2}`;\n}\nexports.strConcat = strConcat;\n// TODO do not allow arrays here\nfunction interpolate(x) {\n    return typeof x == \"number\" || typeof x == \"boolean\" || x === null\n        ? x\n        : safeStringify(Array.isArray(x) ? x.join(\",\") : x);\n}\nfunction stringify(x) {\n    return new _Code(safeStringify(x));\n}\nexports.stringify = stringify;\nfunction safeStringify(x) {\n    return JSON.stringify(x)\n        .replace(/\\u2028/g, \"\\\\u2028\")\n        .replace(/\\u2029/g, \"\\\\u2029\");\n}\nexports.safeStringify = safeStringify;\nfunction getProperty(key) {\n    return typeof key == \"string\" && exports.IDENTIFIER.test(key) ? new _Code(`.${key}`) : _ `[${key}]`;\n}\nexports.getProperty = getProperty;\n//# sourceMappingURL=code.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MissingRefError = exports.ValidationError = void 0;\nconst resolve_1 = require(\"./resolve\");\nclass ValidationError extends Error {\n    constructor(errors) {\n        super(\"validation failed\");\n        this.errors = errors;\n        this.ajv = this.validation = true;\n    }\n}\nexports.ValidationError = ValidationError;\nclass MissingRefError extends Error {\n    constructor(baseId, ref, msg) {\n        super(msg || `can't resolve reference ${ref} from id ${baseId}`);\n        this.missingRef = resolve_1.resolveUrl(baseId, ref);\n        this.missingSchema = resolve_1.normalizeId(resolve_1.getFullPath(this.missingRef));\n    }\n}\nexports.MissingRefError = MissingRefError;\nmodule.exports = {\n    ValidationError,\n    MissingRefError,\n};\n//# sourceMappingURL=error_classes.js.map","import { EDIT_URL_ANNOTATION, VIEW_URL_ANNOTATION, SOURCE_LOCATION_ANNOTATION, parseLocationReference, RELATION_PART_OF, RELATION_OWNED_BY, RELATION_PROVIDES_API, RELATION_CONSUMES_API, ENTITY_DEFAULT_NAMESPACE, ORIGIN_LOCATION_ANNOTATION, getEntityName } from '@backstage/catalog-model';\nimport { useApi, HeaderIconLinkRow, alertApiRef, configApiRef, Progress, ResponseErrorPanel, attachComponentData, Page, Header, RoutedTabs, Content, HeaderLabel, HeaderTabs, WarningPanel, Link, OverflowTooltip, CodeSnippet, Table, createExternalRouteRef, identityApiRef, errorApiRef, useRouteRef, ContentHeader, SupportButton, createPlugin, createApiFactory, discoveryApiRef, createRoutableExtension, createComponentExtension } from '@backstage/core';\nimport { scmIntegrationsApiRef } from '@backstage/integration-react';\nimport { getEntityRelations, EntityRefLinks, useEntity, useStarredEntities, catalogApiRef, EntityRefLink, useEntityCompoundName, EntityContext, formatEntityRefTitle, isOwnerOf, useEntityFromUrl, rootRoute, entityRoute, catalogRouteRef, entityRouteRef } from '@backstage/plugin-catalog-react';\nimport { makeStyles, Typography, Grid, Chip, Card, CardHeader, IconButton, Divider, CardContent, MenuItem, ListItemIcon, ListItemText, Popover, MenuList, withStyles, Tooltip, Dialog, DialogTitle, DialogContent, DialogActions, Button, Box, DialogContentText, List, ListItemSecondaryAction, ListItem, Checkbox, Link as Link$2 } from '@material-ui/core';\nimport DocsIcon from '@material-ui/icons/Description';\nimport EditIcon from '@material-ui/icons/Edit';\nimport ExtensionIcon from '@material-ui/icons/Extension';\nimport React, { useState, useCallback, useContext, Children, isValidElement, Fragment, useMemo, createContext, useRef, useEffect } from 'react';\nimport CodeIcon from '@material-ui/icons/Code';\nimport GitHubIcon from '@material-ui/icons/GitHub';\nimport { Alert as Alert$1 } from '@material-ui/lab';\nimport { useNavigate, useParams, Navigate, matchRoutes, useRoutes, Routes, Route as Route$1 } from 'react-router';\nimport { makeStyles as makeStyles$1 } from '@material-ui/core/styles';\nimport Cancel from '@material-ui/icons/Cancel';\nimport MoreVert from '@material-ui/icons/MoreVert';\nimport StarBorder from '@material-ui/icons/StarBorder';\nimport Star from '@material-ui/icons/Star';\nimport Alert from '@material-ui/lab/Alert';\nimport { useAsync, useAsyncFn } from 'react-use';\nimport { Helmet } from 'react-helmet';\nimport OpenInNew from '@material-ui/icons/OpenInNew';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport { Link as Link$1 } from 'react-router-dom';\nimport IlloSvgUrl from '../components/EntityNotFound/Illo/illo.svg';\nimport { CatalogClient } from '@backstage/catalog-client';\n\nfunction getEntityMetadataViewUrl(entity) {\n  var _a;\n  return (_a = entity.metadata.annotations) == null ? void 0 : _a[VIEW_URL_ANNOTATION];\n}\nfunction getEntityMetadataEditUrl(entity) {\n  var _a;\n  return (_a = entity.metadata.annotations) == null ? void 0 : _a[EDIT_URL_ANNOTATION];\n}\n\nfunction getEntitySourceLocation(entity, scmIntegrationsApi) {\n  var _a;\n  const sourceLocation = (_a = entity.metadata.annotations) == null ? void 0 : _a[SOURCE_LOCATION_ANNOTATION];\n  if (!sourceLocation) {\n    return void 0;\n  }\n  try {\n    const sourceLocationRef = parseLocationReference(sourceLocation);\n    const integration = scmIntegrationsApi.byUrl(sourceLocationRef.target);\n    return {\n      locationTargetUrl: sourceLocationRef.target,\n      integrationType: integration == null ? void 0 : integration.type\n    };\n  } catch {\n    return void 0;\n  }\n}\n\nconst useStyles = makeStyles((theme) => ({\n  value: {\n    fontWeight: \"bold\",\n    overflow: \"hidden\",\n    lineHeight: \"24px\",\n    wordBreak: \"break-word\"\n  },\n  label: {\n    color: theme.palette.text.secondary,\n    textTransform: \"uppercase\",\n    fontSize: \"10px\",\n    fontWeight: \"bold\",\n    letterSpacing: 0.5,\n    overflow: \"hidden\",\n    whiteSpace: \"nowrap\"\n  }\n}));\nconst AboutField = ({label, value, gridSizes, children}) => {\n  const classes = useStyles();\n  const content = React.Children.count(children) ? children : /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"body2\",\n    className: classes.value\n  }, value || `unknown`);\n  return /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    ...gridSizes\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"subtitle2\",\n    className: classes.label\n  }, label), content);\n};\n\nconst useStyles$1 = makeStyles({\n  description: {\n    wordBreak: \"break-word\"\n  }\n});\nconst AboutContent = ({entity}) => {\n  var _a, _b, _c, _d;\n  const classes = useStyles$1();\n  const isSystem = entity.kind.toLocaleLowerCase(\"en-US\") === \"system\";\n  const isDomain = entity.kind.toLocaleLowerCase(\"en-US\") === \"domain\";\n  const isResource = entity.kind.toLocaleLowerCase(\"en-US\") === \"resource\";\n  const isComponent = entity.kind.toLocaleLowerCase(\"en-US\") === \"component\";\n  const partOfSystemRelations = getEntityRelations(entity, RELATION_PART_OF, {\n    kind: \"system\"\n  });\n  const partOfComponentRelations = getEntityRelations(entity, RELATION_PART_OF, {\n    kind: \"component\"\n  });\n  const partOfDomainRelations = getEntityRelations(entity, RELATION_PART_OF, {\n    kind: \"domain\"\n  });\n  const ownedByRelations = getEntityRelations(entity, RELATION_OWNED_BY);\n  return /* @__PURE__ */ React.createElement(Grid, {\n    container: true\n  }, /* @__PURE__ */ React.createElement(AboutField, {\n    label: \"Description\",\n    gridSizes: {xs: 12}\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"body2\",\n    paragraph: true,\n    className: classes.description\n  }, ((_a = entity == null ? void 0 : entity.metadata) == null ? void 0 : _a.description) || \"No description\")), /* @__PURE__ */ React.createElement(AboutField, {\n    label: \"Owner\",\n    gridSizes: {xs: 12, sm: 6, lg: 4}\n  }, /* @__PURE__ */ React.createElement(EntityRefLinks, {\n    entityRefs: ownedByRelations,\n    defaultKind: \"group\"\n  })), isSystem && /* @__PURE__ */ React.createElement(AboutField, {\n    label: \"Domain\",\n    value: \"No Domain\",\n    gridSizes: {xs: 12, sm: 6, lg: 4}\n  }, /* @__PURE__ */ React.createElement(EntityRefLinks, {\n    entityRefs: partOfDomainRelations,\n    defaultKind: \"domain\"\n  })), !isSystem && !isDomain && /* @__PURE__ */ React.createElement(AboutField, {\n    label: \"System\",\n    value: \"No System\",\n    gridSizes: {xs: 12, sm: 6, lg: 4}\n  }, /* @__PURE__ */ React.createElement(EntityRefLinks, {\n    entityRefs: partOfSystemRelations,\n    defaultKind: \"system\"\n  })), isComponent && partOfComponentRelations.length > 0 && /* @__PURE__ */ React.createElement(AboutField, {\n    label: \"Parent Component\",\n    value: \"No Parent Component\",\n    gridSizes: {xs: 12, sm: 6, lg: 4}\n  }, /* @__PURE__ */ React.createElement(EntityRefLinks, {\n    entityRefs: partOfComponentRelations,\n    defaultKind: \"component\"\n  })), !isSystem && !isDomain && /* @__PURE__ */ React.createElement(AboutField, {\n    label: \"Type\",\n    value: (_b = entity == null ? void 0 : entity.spec) == null ? void 0 : _b.type,\n    gridSizes: {xs: 12, sm: 6, lg: 4}\n  }), !isSystem && !isDomain && !isResource && /* @__PURE__ */ React.createElement(AboutField, {\n    label: \"Lifecycle\",\n    value: (_c = entity == null ? void 0 : entity.spec) == null ? void 0 : _c.lifecycle,\n    gridSizes: {xs: 12, sm: 6, lg: 4}\n  }), /* @__PURE__ */ React.createElement(AboutField, {\n    label: \"Tags\",\n    value: \"No Tags\",\n    gridSizes: {xs: 12, sm: 6, lg: 4}\n  }, (((_d = entity == null ? void 0 : entity.metadata) == null ? void 0 : _d.tags) || []).map((t) => /* @__PURE__ */ React.createElement(Chip, {\n    key: t,\n    size: \"small\",\n    label: t\n  }))));\n};\n\nconst ScmIntegrationIcon = ({type}) => {\n  switch (type) {\n    case \"github\":\n      return /* @__PURE__ */ React.createElement(GitHubIcon, null);\n    default:\n      return /* @__PURE__ */ React.createElement(CodeIcon, null);\n  }\n};\n\nconst useStyles$2 = makeStyles({\n  gridItemCard: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    height: \"calc(100% - 10px)\",\n    marginBottom: \"10px\"\n  },\n  gridItemCardContent: {\n    flex: 1\n  }\n});\nfunction AboutCard({variant}) {\n  var _a;\n  const classes = useStyles$2();\n  const {entity} = useEntity();\n  const scmIntegrationsApi = useApi(scmIntegrationsApiRef);\n  const entitySourceLocation = getEntitySourceLocation(entity, scmIntegrationsApi);\n  const entityMetadataEditUrl = getEntityMetadataEditUrl(entity);\n  const providesApiRelations = getEntityRelations(entity, RELATION_PROVIDES_API);\n  const consumesApiRelations = getEntityRelations(entity, RELATION_CONSUMES_API);\n  const hasApis = providesApiRelations.length > 0 || consumesApiRelations.length > 0;\n  const viewInSource = {\n    label: \"View Source\",\n    disabled: !entitySourceLocation,\n    icon: /* @__PURE__ */ React.createElement(ScmIntegrationIcon, {\n      type: entitySourceLocation == null ? void 0 : entitySourceLocation.integrationType\n    }),\n    href: entitySourceLocation == null ? void 0 : entitySourceLocation.locationTargetUrl\n  };\n  const viewInTechDocs = {\n    label: \"View TechDocs\",\n    disabled: !((_a = entity.metadata.annotations) == null ? void 0 : _a[\"backstage.io/techdocs-ref\"]),\n    icon: /* @__PURE__ */ React.createElement(DocsIcon, null),\n    href: `/docs/${entity.metadata.namespace || ENTITY_DEFAULT_NAMESPACE}/${entity.kind}/${entity.metadata.name}`\n  };\n  const viewApi = {\n    title: hasApis ? \"\" : \"No APIs available\",\n    label: \"View API\",\n    disabled: !hasApis,\n    icon: /* @__PURE__ */ React.createElement(ExtensionIcon, null),\n    href: \"api\"\n  };\n  return /* @__PURE__ */ React.createElement(Card, {\n    className: variant === \"gridItem\" ? classes.gridItemCard : \"\"\n  }, /* @__PURE__ */ React.createElement(CardHeader, {\n    title: \"About\",\n    action: /* @__PURE__ */ React.createElement(IconButton, {\n      \"aria-label\": \"Edit\",\n      disabled: !entityMetadataEditUrl,\n      title: \"Edit Metadata\",\n      onClick: () => {\n        window.open(entityMetadataEditUrl != null ? entityMetadataEditUrl : \"#\", \"_blank\");\n      }\n    }, /* @__PURE__ */ React.createElement(EditIcon, null)),\n    subheader: /* @__PURE__ */ React.createElement(HeaderIconLinkRow, {\n      links: [viewInSource, viewInTechDocs, viewApi]\n    })\n  }), /* @__PURE__ */ React.createElement(Divider, null), /* @__PURE__ */ React.createElement(CardContent, {\n    className: variant === \"gridItem\" ? classes.gridItemCardContent : \"\"\n  }, /* @__PURE__ */ React.createElement(AboutContent, {\n    entity\n  })));\n}\n\nconst useStyles$3 = makeStyles$1({\n  button: {\n    color: \"white\"\n  }\n});\nconst EntityContextMenu = ({\n  UNSTABLE_extraContextMenuItems,\n  onUnregisterEntity\n}) => {\n  const [anchorEl, setAnchorEl] = useState();\n  const classes = useStyles$3();\n  const onOpen = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const onClose = () => {\n    setAnchorEl(void 0);\n  };\n  const extraItems = UNSTABLE_extraContextMenuItems && [\n    ...UNSTABLE_extraContextMenuItems.map((item) => /* @__PURE__ */ React.createElement(MenuItem, {\n      key: item.title,\n      onClick: () => {\n        onClose();\n        item.onClick();\n      }\n    }, /* @__PURE__ */ React.createElement(ListItemIcon, null, /* @__PURE__ */ React.createElement(item.Icon, {\n      fontSize: \"small\"\n    })), /* @__PURE__ */ React.createElement(ListItemText, {\n      primary: item.title\n    }))),\n    /* @__PURE__ */ React.createElement(Divider, {\n      key: \"the divider is here!\"\n    })\n  ];\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(IconButton, {\n    \"aria-label\": \"more\",\n    \"aria-controls\": \"long-menu\",\n    \"aria-haspopup\": \"true\",\n    onClick: onOpen,\n    \"data-testid\": \"menu-button\",\n    className: classes.button\n  }, /* @__PURE__ */ React.createElement(MoreVert, null)), /* @__PURE__ */ React.createElement(Popover, {\n    open: Boolean(anchorEl),\n    onClose,\n    anchorEl,\n    anchorOrigin: {vertical: \"bottom\", horizontal: \"right\"},\n    transformOrigin: {vertical: \"top\", horizontal: \"right\"}\n  }, /* @__PURE__ */ React.createElement(MenuList, null, extraItems, /* @__PURE__ */ React.createElement(MenuItem, {\n    onClick: () => {\n      onClose();\n      onUnregisterEntity();\n    }\n  }, /* @__PURE__ */ React.createElement(ListItemIcon, null, /* @__PURE__ */ React.createElement(Cancel, {\n    fontSize: \"small\"\n  })), /* @__PURE__ */ React.createElement(ListItemText, {\n    primary: \"Unregister entity\"\n  })))));\n};\n\nconst YellowStar = withStyles({\n  root: {\n    color: \"#f3ba37\"\n  }\n})(Star);\nconst favouriteEntityTooltip = (isStarred) => isStarred ? \"Remove from favorites\" : \"Add to favorites\";\nconst favouriteEntityIcon = (isStarred) => isStarred ? /* @__PURE__ */ React.createElement(YellowStar, null) : /* @__PURE__ */ React.createElement(StarBorder, null);\nconst FavouriteEntity = (props) => {\n  const {toggleStarredEntity, isStarredEntity} = useStarredEntities();\n  const isStarred = isStarredEntity(props.entity);\n  return /* @__PURE__ */ React.createElement(IconButton, {\n    color: \"inherit\",\n    ...props,\n    onClick: () => toggleStarredEntity(props.entity)\n  }, /* @__PURE__ */ React.createElement(Tooltip, {\n    title: favouriteEntityTooltip(isStarred)\n  }, favouriteEntityIcon(isStarred)));\n};\n\nfunction useUnregisterEntityDialogState(entity) {\n  var _a;\n  const catalogApi = useApi(catalogApiRef);\n  const locationRef = (_a = entity.metadata.annotations) == null ? void 0 : _a[ORIGIN_LOCATION_ANNOTATION];\n  const uid = entity.metadata.uid;\n  const isBootstrap = locationRef === \"bootstrap:bootstrap\";\n  const prerequisites = useAsync(async () => {\n    const locationPromise = catalogApi.getOriginLocationByEntity(entity);\n    let colocatedEntitiesPromise;\n    if (!locationRef) {\n      colocatedEntitiesPromise = Promise.resolve([]);\n    } else {\n      const locationAnnotationFilter = `metadata.annotations.${ORIGIN_LOCATION_ANNOTATION}`;\n      colocatedEntitiesPromise = catalogApi.getEntities({\n        filter: {[locationAnnotationFilter]: locationRef},\n        fields: [\n          \"kind\",\n          \"metadata.uid\",\n          \"metadata.name\",\n          \"metadata.namespace\"\n        ]\n      }).then((response) => response.items);\n    }\n    return Promise.all([locationPromise, colocatedEntitiesPromise]).then(([location2, colocatedEntities2]) => ({\n      location: location2,\n      colocatedEntities: colocatedEntities2\n    }));\n  }, [catalogApi, entity]);\n  const unregisterLocation = useCallback(async function unregisterLocationFn() {\n    const {location: location2, colocatedEntities: colocatedEntities2} = prerequisites.value;\n    await catalogApi.removeLocationById(location2.id);\n    await Promise.allSettled(colocatedEntities2.map((e) => catalogApi.removeEntityByUid(e.metadata.uid)));\n  }, [catalogApi, prerequisites]);\n  const deleteEntity = useCallback(async function deleteEntityFn() {\n    await catalogApi.removeEntityByUid(uid);\n  }, [catalogApi, uid]);\n  if (isBootstrap) {\n    return {type: \"bootstrap\", location: locationRef, deleteEntity};\n  }\n  const {loading, error, value} = prerequisites;\n  if (loading) {\n    return {type: \"loading\"};\n  } else if (error) {\n    return {type: \"error\", error};\n  }\n  const {location, colocatedEntities} = value;\n  if (!location) {\n    return {type: \"only-delete\", deleteEntity};\n  }\n  return {\n    type: \"unregister\",\n    location: locationRef,\n    colocatedEntities: colocatedEntities.map(getEntityName),\n    unregisterLocation,\n    deleteEntity\n  };\n}\n\nconst useStyles$4 = makeStyles({\n  advancedButton: {\n    fontSize: \"0.7em\"\n  }\n});\nconst Contents = ({\n  entity,\n  onConfirm\n}) => {\n  var _a;\n  const alertApi = useApi(alertApiRef);\n  const configApi = useApi(configApiRef);\n  const classes = useStyles$4();\n  const state = useUnregisterEntityDialogState(entity);\n  const [showDelete, setShowDelete] = useState(false);\n  const [busy, setBusy] = useState(false);\n  const appTitle = (_a = configApi.getOptionalString(\"app.title\")) != null ? _a : \"Backstage\";\n  const onUnregister = useCallback(async function onUnregisterFn() {\n    if (\"unregisterLocation\" in state) {\n      setBusy(true);\n      try {\n        await state.unregisterLocation();\n        onConfirm();\n      } catch (err) {\n        alertApi.post({message: err.message});\n      } finally {\n        setBusy(false);\n      }\n    }\n  }, [alertApi, onConfirm, state]);\n  const onDelete = useCallback(async function onDeleteFn() {\n    if (\"deleteEntity\" in state) {\n      setBusy(true);\n      try {\n        await state.deleteEntity();\n        onConfirm();\n      } catch (err) {\n        alertApi.post({message: err.message});\n      } finally {\n        setBusy(false);\n      }\n    }\n  }, [alertApi, onConfirm, state]);\n  if (state.type === \"loading\") {\n    return /* @__PURE__ */ React.createElement(Progress, null);\n  }\n  if (state.type === \"error\") {\n    return /* @__PURE__ */ React.createElement(ResponseErrorPanel, {\n      error: state.error\n    });\n  }\n  if (state.type === \"bootstrap\") {\n    return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Alert, {\n      severity: \"info\"\n    }, 'You cannot unregister this entity, since it originates from a protected Backstage configuration (location \"', state.location, '\"). If you believe this is in error, please contact the ', appTitle, \" \", \"integrator.\"), /* @__PURE__ */ React.createElement(Box, {\n      marginTop: 2\n    }, !showDelete && /* @__PURE__ */ React.createElement(Button, {\n      variant: \"text\",\n      size: \"small\",\n      color: \"primary\",\n      className: classes.advancedButton,\n      onClick: () => setShowDelete(true)\n    }, \"Advanced Options\"), showDelete && /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(DialogContentText, null, \"You have the option to delete the entity itself from the catalog. Note that this should only be done if you know that the catalog file has been deleted at, or moved from, its origin location. If that is not the case, the entity will reappear shortly as the next refresh round is performed by the catalog.\"), /* @__PURE__ */ React.createElement(Button, {\n      variant: \"contained\",\n      color: \"secondary\",\n      disabled: busy,\n      onClick: onDelete\n    }, \"Delete Entity\"))));\n  }\n  if (state.type === \"only-delete\") {\n    return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(DialogContentText, null, \"This entity does not seem to originate from a location. You therefore only have the option to delete it outright from the catalog.\"), /* @__PURE__ */ React.createElement(Button, {\n      variant: \"contained\",\n      color: \"secondary\",\n      disabled: busy,\n      onClick: onDelete\n    }, \"Delete Entity\"));\n  }\n  if (state.type === \"unregister\") {\n    return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(DialogContentText, null, \"This action will unregister the following entities:\"), /* @__PURE__ */ React.createElement(DialogContentText, {\n      component: \"ul\"\n    }, state.colocatedEntities.map((e) => /* @__PURE__ */ React.createElement(\"li\", {\n      key: `${e.kind}:${e.namespace}/${e.name}`\n    }, /* @__PURE__ */ React.createElement(EntityRefLink, {\n      entityRef: e\n    })))), /* @__PURE__ */ React.createElement(DialogContentText, null, \"Located at the following location:\"), /* @__PURE__ */ React.createElement(DialogContentText, {\n      component: \"ul\"\n    }, /* @__PURE__ */ React.createElement(\"li\", null, state.location)), /* @__PURE__ */ React.createElement(DialogContentText, null, \"To undo, just re-register the entity in \", appTitle, \".\"), /* @__PURE__ */ React.createElement(Box, {\n      marginTop: 2\n    }, /* @__PURE__ */ React.createElement(Button, {\n      variant: \"contained\",\n      color: \"secondary\",\n      disabled: busy,\n      onClick: onUnregister\n    }, \"Unregister Location\"), !showDelete && /* @__PURE__ */ React.createElement(Box, {\n      component: \"span\",\n      marginLeft: 2\n    }, /* @__PURE__ */ React.createElement(Button, {\n      variant: \"text\",\n      size: \"small\",\n      color: \"primary\",\n      className: classes.advancedButton,\n      onClick: () => setShowDelete(true)\n    }, \"Advanced Options\"))), showDelete && /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Box, {\n      paddingTop: 4,\n      paddingBottom: 4\n    }, /* @__PURE__ */ React.createElement(Divider, null)), /* @__PURE__ */ React.createElement(DialogContentText, null, \"You also have the option to delete the entity itself from the catalog. Note that this should only be done if you know that the catalog file has been deleted at, or moved from, its origin location. If that is not the case, the entity will reappear shortly as the next refresh round is performed by the catalog.\"), /* @__PURE__ */ React.createElement(Button, {\n      variant: \"contained\",\n      color: \"secondary\",\n      disabled: busy,\n      onClick: onDelete\n    }, \"Delete Entity\")));\n  }\n  return /* @__PURE__ */ React.createElement(Alert, {\n    severity: \"error\"\n  }, \"Internal error: Unknown state\");\n};\nconst UnregisterEntityDialog = ({\n  open,\n  onConfirm,\n  onClose,\n  entity\n}) => /* @__PURE__ */ React.createElement(Dialog, {\n  open,\n  onClose\n}, /* @__PURE__ */ React.createElement(DialogTitle, {\n  id: \"responsive-dialog-title\"\n}, \"Are you sure you want to unregister this entity?\"), /* @__PURE__ */ React.createElement(DialogContent, null, /* @__PURE__ */ React.createElement(Contents, {\n  entity,\n  onConfirm\n})), /* @__PURE__ */ React.createElement(DialogActions, null, /* @__PURE__ */ React.createElement(Button, {\n  onClick: onClose,\n  color: \"primary\"\n}, \"Cancel\")));\n\nconst Route = () => null;\nattachComponentData(Route, \"core.gatherMountPoints\", true);\nfunction createSubRoutesFromChildren(childrenProps, entity) {\n  const routeType = (/* @__PURE__ */ React.createElement(Route, {\n    path: \"\",\n    title: \"\"\n  }, /* @__PURE__ */ React.createElement(\"div\", null))).type;\n  return Children.toArray(childrenProps).flatMap((child) => {\n    if (!isValidElement(child)) {\n      return [];\n    }\n    if (child.type === Fragment) {\n      return createSubRoutesFromChildren(child.props.children, entity);\n    }\n    if (child.type !== routeType) {\n      throw new Error(\"Child of EntityLayout must be an EntityLayout.Route\");\n    }\n    const {path, title, children, if: condition, tabProps} = child.props;\n    if (condition && entity && !condition(entity)) {\n      return [];\n    }\n    return [{path, title, children, tabProps}];\n  });\n}\nconst EntityLayoutTitle = ({\n  entity,\n  title\n}) => /* @__PURE__ */ React.createElement(Box, {\n  display: \"inline-flex\",\n  alignItems: \"center\",\n  height: \"1em\"\n}, title, entity && /* @__PURE__ */ React.createElement(FavouriteEntity, {\n  entity\n}));\nconst headerProps = (paramKind, paramNamespace, paramName, entity) => {\n  var _a, _b, _c;\n  const kind = (_a = paramKind != null ? paramKind : entity == null ? void 0 : entity.kind) != null ? _a : \"\";\n  const namespace = (_b = paramNamespace != null ? paramNamespace : entity == null ? void 0 : entity.metadata.namespace) != null ? _b : \"\";\n  const name = (_c = paramName != null ? paramName : entity == null ? void 0 : entity.metadata.name) != null ? _c : \"\";\n  return {\n    headerTitle: `${name}${namespace && namespace !== ENTITY_DEFAULT_NAMESPACE ? ` in ${namespace}` : \"\"}`,\n    headerType: (() => {\n      let t = kind.toLocaleLowerCase(\"en-US\");\n      if (entity && entity.spec && \"type\" in entity.spec) {\n        t += \" \\u2014 \";\n        t += entity.spec.type.toLocaleLowerCase(\"en-US\");\n      }\n      return t;\n    })()\n  };\n};\nconst EntityLabels = ({entity}) => {\n  var _a;\n  const ownedByRelations = getEntityRelations(entity, RELATION_OWNED_BY);\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, ownedByRelations.length > 0 && /* @__PURE__ */ React.createElement(HeaderLabel, {\n    label: \"Owner\",\n    value: /* @__PURE__ */ React.createElement(EntityRefLinks, {\n      entityRefs: ownedByRelations,\n      defaultKind: \"Group\",\n      color: \"inherit\"\n    })\n  }), ((_a = entity.spec) == null ? void 0 : _a.lifecycle) && /* @__PURE__ */ React.createElement(HeaderLabel, {\n    label: \"Lifecycle\",\n    value: entity.spec.lifecycle\n  }));\n};\nconst EntityLayout = ({\n  UNSTABLE_extraContextMenuItems,\n  children\n}) => {\n  var _a, _b, _c;\n  const {kind, namespace, name} = useEntityCompoundName();\n  const {entity, loading, error} = useContext(EntityContext);\n  const routes = createSubRoutesFromChildren(children, entity);\n  const {headerTitle, headerType} = headerProps(kind, namespace, name, entity);\n  const [confirmationDialogOpen, setConfirmationDialogOpen] = useState(false);\n  const navigate = useNavigate();\n  const cleanUpAfterRemoval = async () => {\n    setConfirmationDialogOpen(false);\n    navigate(\"/\");\n  };\n  const showRemovalDialog = () => setConfirmationDialogOpen(true);\n  return /* @__PURE__ */ React.createElement(Page, {\n    themeId: (_c = (_b = (_a = entity == null ? void 0 : entity.spec) == null ? void 0 : _a.type) == null ? void 0 : _b.toString()) != null ? _c : \"home\"\n  }, /* @__PURE__ */ React.createElement(Header, {\n    title: /* @__PURE__ */ React.createElement(EntityLayoutTitle, {\n      title: headerTitle,\n      entity\n    }),\n    pageTitleOverride: headerTitle,\n    type: headerType\n  }, entity && /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(EntityLabels, {\n    entity\n  }), /* @__PURE__ */ React.createElement(EntityContextMenu, {\n    UNSTABLE_extraContextMenuItems,\n    onUnregisterEntity: showRemovalDialog\n  }))), loading && /* @__PURE__ */ React.createElement(Progress, null), entity && /* @__PURE__ */ React.createElement(RoutedTabs, {\n    routes\n  }), error && /* @__PURE__ */ React.createElement(Content, null, /* @__PURE__ */ React.createElement(Alert$1, {\n    severity: \"error\"\n  }, error.toString())), /* @__PURE__ */ React.createElement(UnregisterEntityDialog, {\n    open: confirmationDialogOpen,\n    entity,\n    onConfirm: cleanUpAfterRemoval,\n    onClose: () => setConfirmationDialogOpen(false)\n  }));\n};\nEntityLayout.Route = Route;\n\nconst getSelectedIndexOrDefault = (matchedRoute, tabs, defaultIndex = 0) => {\n  if (!matchedRoute)\n    return defaultIndex;\n  const tabIndex = tabs.findIndex((t) => t.id === matchedRoute.route.path);\n  return ~tabIndex ? tabIndex : defaultIndex;\n};\nconst Tabbed = {\n  Layout: ({children}) => {\n    var _a, _b, _c;\n    const routes = [];\n    const tabs = [];\n    const params = useParams();\n    const navigate = useNavigate();\n    React.Children.forEach(children, (child) => {\n      if (!React.isValidElement(child)) {\n        return;\n      }\n      if (child.type !== Tabbed.Content) {\n        throw new Error(\"This component only accepts Content elements as direct children. Check the code of the EntityPage.\");\n      }\n      const pathAndId = child.props.path;\n      tabs.push({\n        id: pathAndId,\n        label: child.props.title\n      });\n      routes.push({\n        path: pathAndId,\n        element: child.props.element\n      });\n    });\n    if (((_b = (_a = routes == null ? void 0 : routes[0]) == null ? void 0 : _a.path) != null ? _b : \"\") !== \"\")\n      routes.push({\n        path: \"/*\",\n        element: /* @__PURE__ */ React.createElement(Navigate, {\n          to: routes[0].path\n        })\n      });\n    const [matchedRoute] = (_c = matchRoutes(routes, `/${params[\"*\"]}`)) != null ? _c : [];\n    const selectedIndex = getSelectedIndexOrDefault(matchedRoute, tabs);\n    const currentTab = tabs[selectedIndex];\n    const title = currentTab == null ? void 0 : currentTab.label;\n    const onTabChange = (index) => navigate(tabs[index].id.replace(/\\/\\*$/, \"\").replace(/^\\//, \"\"));\n    const currentRouteElement = useRoutes(routes);\n    if (!currentTab)\n      return null;\n    return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(HeaderTabs, {\n      tabs,\n      selectedIndex,\n      onChange: onTabChange\n    }), /* @__PURE__ */ React.createElement(Content, null, /* @__PURE__ */ React.createElement(Helmet, {\n      title\n    }), currentRouteElement));\n  },\n  Content: (_props) => null\n};\n\nconst EntityPageTitle = ({\n  entity,\n  title\n}) => /* @__PURE__ */ React.createElement(Box, {\n  display: \"inline-flex\",\n  alignItems: \"center\",\n  height: \"1em\"\n}, title, entity && /* @__PURE__ */ React.createElement(FavouriteEntity, {\n  entity\n}));\nconst EntityLabels$1 = ({entity}) => {\n  var _a;\n  const ownedByRelations = getEntityRelations(entity, RELATION_OWNED_BY);\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, ownedByRelations.length > 0 && /* @__PURE__ */ React.createElement(HeaderLabel, {\n    label: \"Owner\",\n    value: /* @__PURE__ */ React.createElement(EntityRefLinks, {\n      entityRefs: ownedByRelations,\n      defaultKind: \"Group\",\n      color: \"inherit\"\n    })\n  }), ((_a = entity.spec) == null ? void 0 : _a.lifecycle) && /* @__PURE__ */ React.createElement(HeaderLabel, {\n    label: \"Lifecycle\",\n    value: entity.spec.lifecycle\n  }));\n};\nconst headerProps$1 = (kind, namespace, name, entity) => {\n  return {\n    headerTitle: `${name}${namespace && namespace !== ENTITY_DEFAULT_NAMESPACE ? ` in ${namespace}` : \"\"}`,\n    headerType: (() => {\n      let t = kind.toLocaleLowerCase(\"en-US\");\n      if (entity && entity.spec && \"type\" in entity.spec) {\n        t += \" \\u2014 \";\n        t += entity.spec.type.toLocaleLowerCase(\"en-US\");\n      }\n      return t;\n    })()\n  };\n};\nconst EntityPageLayout = ({\n  children,\n  UNSTABLE_extraContextMenuItems\n}) => {\n  var _a, _b, _c;\n  const {kind, namespace, name} = useEntityCompoundName();\n  const {entity, loading, error} = useContext(EntityContext);\n  const {headerTitle, headerType} = headerProps$1(kind, namespace, name, entity);\n  const [confirmationDialogOpen, setConfirmationDialogOpen] = useState(false);\n  const navigate = useNavigate();\n  const cleanUpAfterRemoval = async () => {\n    setConfirmationDialogOpen(false);\n    navigate(\"/\");\n  };\n  const showRemovalDialog = () => setConfirmationDialogOpen(true);\n  return /* @__PURE__ */ React.createElement(Page, {\n    themeId: (_c = (_b = (_a = entity == null ? void 0 : entity.spec) == null ? void 0 : _a.type) == null ? void 0 : _b.toString()) != null ? _c : \"home\"\n  }, /* @__PURE__ */ React.createElement(Header, {\n    title: /* @__PURE__ */ React.createElement(EntityPageTitle, {\n      title: headerTitle,\n      entity\n    }),\n    pageTitleOverride: headerTitle,\n    type: headerType\n  }, entity && /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(EntityLabels$1, {\n    entity\n  }), /* @__PURE__ */ React.createElement(EntityContextMenu, {\n    UNSTABLE_extraContextMenuItems,\n    onUnregisterEntity: showRemovalDialog\n  }))), loading && /* @__PURE__ */ React.createElement(Content, null, /* @__PURE__ */ React.createElement(Progress, null)), entity && /* @__PURE__ */ React.createElement(Tabbed.Layout, null, children), error && /* @__PURE__ */ React.createElement(Content, null, /* @__PURE__ */ React.createElement(ResponseErrorPanel, {\n    error\n  })), !loading && !error && !entity && /* @__PURE__ */ React.createElement(Content, null, /* @__PURE__ */ React.createElement(WarningPanel, {\n    title: \"Entity not found\"\n  }, \"There is no \", kind, \" with the requested\", \" \", /* @__PURE__ */ React.createElement(Link, {\n    to: \"https://backstage.io/docs/features/software-catalog/references\"\n  }, \"kind, namespace, and name\"), \".\")), /* @__PURE__ */ React.createElement(UnregisterEntityDialog, {\n    open: confirmationDialogOpen,\n    entity,\n    onConfirm: cleanUpAfterRemoval,\n    onClose: () => setConfirmationDialogOpen(false)\n  }));\n};\nEntityPageLayout.Content = Tabbed.Content;\n\nfunction createNameColumn() {\n  return {\n    title: \"Name\",\n    field: \"resolved.name\",\n    highlight: true,\n    render: ({entity}) => /* @__PURE__ */ React.createElement(EntityRefLink, {\n      entityRef: entity,\n      defaultKind: \"Component\"\n    })\n  };\n}\nfunction createSystemColumn() {\n  return {\n    title: \"System\",\n    field: \"resolved.partOfSystemRelationTitle\",\n    render: ({resolved}) => /* @__PURE__ */ React.createElement(EntityRefLinks, {\n      entityRefs: resolved.partOfSystemRelations,\n      defaultKind: \"system\"\n    })\n  };\n}\nfunction createOwnerColumn() {\n  return {\n    title: \"Owner\",\n    field: \"resolved.ownedByRelationsTitle\",\n    render: ({resolved}) => /* @__PURE__ */ React.createElement(EntityRefLinks, {\n      entityRefs: resolved.ownedByRelations,\n      defaultKind: \"group\"\n    })\n  };\n}\nfunction createSpecTypeColumn() {\n  return {\n    title: \"Type\",\n    field: \"entity.spec.type\",\n    hidden: true\n  };\n}\nfunction createSpecLifecycleColumn() {\n  return {\n    title: \"Lifecycle\",\n    field: \"entity.spec.lifecycle\"\n  };\n}\nfunction createMetadataDescriptionColumn() {\n  return {\n    title: \"Description\",\n    field: \"entity.metadata.description\",\n    render: ({entity}) => /* @__PURE__ */ React.createElement(OverflowTooltip, {\n      text: entity.metadata.description,\n      placement: \"bottom-start\"\n    }),\n    width: \"auto\"\n  };\n}\nfunction createTagsColumn() {\n  return {\n    title: \"Tags\",\n    field: \"entity.metadata.tags\",\n    cellStyle: {\n      padding: \"0px 16px 0px 20px\"\n    },\n    render: ({entity}) => /* @__PURE__ */ React.createElement(React.Fragment, null, entity.metadata.tags && entity.metadata.tags.map((t) => /* @__PURE__ */ React.createElement(Chip, {\n      key: t,\n      label: t,\n      size: \"small\",\n      variant: \"outlined\",\n      style: {marginBottom: \"0px\"}\n    })))\n  };\n}\n\nvar columnFactories = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  createNameColumn: createNameColumn,\n  createSystemColumn: createSystemColumn,\n  createOwnerColumn: createOwnerColumn,\n  createSpecTypeColumn: createSpecTypeColumn,\n  createSpecLifecycleColumn: createSpecLifecycleColumn,\n  createMetadataDescriptionColumn: createMetadataDescriptionColumn,\n  createTagsColumn: createTagsColumn\n});\n\nconst defaultColumns = [\n  createNameColumn(),\n  createSystemColumn(),\n  createOwnerColumn(),\n  createSpecTypeColumn(),\n  createSpecLifecycleColumn(),\n  createMetadataDescriptionColumn(),\n  createTagsColumn()\n];\nconst CatalogTable = ({\n  entities,\n  loading,\n  error,\n  titlePreamble,\n  view,\n  columns\n}) => {\n  const {isStarredEntity, toggleStarredEntity} = useStarredEntities();\n  if (error) {\n    return /* @__PURE__ */ React.createElement(\"div\", null, /* @__PURE__ */ React.createElement(WarningPanel, {\n      severity: \"error\",\n      title: \"Could not fetch catalog entities.\"\n    }, /* @__PURE__ */ React.createElement(CodeSnippet, {\n      language: \"text\",\n      text: error.toString()\n    })));\n  }\n  const actions = [\n    ({entity}) => {\n      const url = getEntityMetadataViewUrl(entity);\n      return {\n        icon: () => /* @__PURE__ */ React.createElement(OpenInNew, {\n          fontSize: \"small\"\n        }),\n        tooltip: \"View\",\n        disabled: !url,\n        onClick: () => {\n          if (!url)\n            return;\n          window.open(url, \"_blank\");\n        }\n      };\n    },\n    ({entity}) => {\n      const url = getEntityMetadataEditUrl(entity);\n      return {\n        icon: () => /* @__PURE__ */ React.createElement(EditIcon, {\n          fontSize: \"small\"\n        }),\n        tooltip: \"Edit\",\n        disabled: !url,\n        onClick: () => {\n          if (!url)\n            return;\n          window.open(url, \"_blank\");\n        }\n      };\n    },\n    ({entity}) => {\n      const isStarred = isStarredEntity(entity);\n      return {\n        cellStyle: {paddingLeft: \"1em\"},\n        icon: () => favouriteEntityIcon(isStarred),\n        tooltip: favouriteEntityTooltip(isStarred),\n        onClick: () => toggleStarredEntity(entity)\n      };\n    }\n  ];\n  const rows = entities.map((entity) => {\n    const partOfSystemRelations = getEntityRelations(entity, RELATION_PART_OF, {\n      kind: \"system\"\n    });\n    const ownedByRelations = getEntityRelations(entity, RELATION_OWNED_BY);\n    return {\n      entity,\n      resolved: {\n        name: formatEntityRefTitle(entity, {\n          defaultKind: \"Component\"\n        }),\n        ownedByRelationsTitle: ownedByRelations.map((r) => formatEntityRefTitle(r, {defaultKind: \"group\"})).join(\", \"),\n        ownedByRelations,\n        partOfSystemRelationTitle: partOfSystemRelations.map((r) => formatEntityRefTitle(r, {\n          defaultKind: \"system\"\n        })).join(\", \"),\n        partOfSystemRelations\n      }\n    };\n  });\n  const typeColumn = (columns || defaultColumns).find((c) => c.title === \"Type\");\n  if (typeColumn) {\n    typeColumn.hidden = view !== \"Other\";\n  }\n  return /* @__PURE__ */ React.createElement(Table, {\n    isLoading: loading,\n    columns: columns || defaultColumns,\n    options: {\n      paging: true,\n      pageSize: 20,\n      actionsColumnIndex: -1,\n      loadingType: \"linear\",\n      showEmptyDataSourceMessage: !loading,\n      padding: \"dense\",\n      pageSizeOptions: [20, 50, 100]\n    },\n    title: `${titlePreamble} (${entities && entities.length || 0})`,\n    data: rows,\n    actions\n  });\n};\nCatalogTable.columns = columnFactories;\n\nconst EntitySwitchCase = (_) => null;\nfunction createSwitchCasesFromChildren(childrenNode) {\n  return Children.toArray(childrenNode).flatMap((child) => {\n    if (!isValidElement(child)) {\n      return [];\n    }\n    if (child.type === Fragment) {\n      return createSwitchCasesFromChildren(child.props.children);\n    }\n    if (child.type !== EntitySwitchCase) {\n      throw new Error(`Child of EntitySwitch is not an EntitySwitch.Case`);\n    }\n    const {if: condition, children} = child.props;\n    return [{if: condition, children}];\n  });\n}\nconst EntitySwitch = ({children}) => {\n  var _a;\n  const {entity} = useEntity();\n  const switchCases = useMemo(() => createSwitchCasesFromChildren(children), [\n    children\n  ]);\n  const matchingCase = switchCases.find((switchCase) => switchCase.if ? switchCase.if(entity) : true);\n  return (_a = matchingCase == null ? void 0 : matchingCase.children) != null ? _a : null;\n};\nEntitySwitch.Case = EntitySwitchCase;\n\nfunction strCmp(a, b) {\n  return Boolean(a && (a == null ? void 0 : a.toLowerCase()) === (b == null ? void 0 : b.toLowerCase()));\n}\nfunction isKind(kind) {\n  return (entity) => strCmp(entity == null ? void 0 : entity.kind, kind);\n}\nfunction isComponentType(type) {\n  return (entity) => {\n    if (!strCmp(entity == null ? void 0 : entity.kind, \"component\")) {\n      return false;\n    }\n    const componentEntity = entity;\n    return strCmp(componentEntity.spec.type, type);\n  };\n}\nfunction isNamespace(namespace) {\n  return (entity) => {\n    var _a;\n    return strCmp((_a = entity == null ? void 0 : entity.metadata) == null ? void 0 : _a.namespace, namespace);\n  };\n}\n\nconst filterGroupsContext = createContext(void 0);\n\nconst EntityFilterGroupsProvider = ({\n  children\n}) => {\n  const state = useProvideEntityFilters();\n  return /* @__PURE__ */ React.createElement(filterGroupsContext.Provider, {\n    value: state\n  }, children);\n};\nfunction useProvideEntityFilters() {\n  const catalogApi = useApi(catalogApiRef);\n  const [{value: entities, error}, doReload] = useAsyncFn(async () => {\n    const response = await catalogApi.getEntities({\n      filter: {kind: \"Component\"}\n    });\n    return response.items;\n  });\n  const filterGroups = useRef({});\n  const selectedFilterKeys = useRef({});\n  const selectedTags = useRef([]);\n  const [filterGroupStates, setFilterGroupStates] = useState({});\n  const [matchingEntities, setMatchingEntities] = useState([]);\n  const [availableTags, setAvailableTags] = useState([]);\n  const [isCatalogEmpty, setCatalogEmpty] = useState(false);\n  useEffect(() => {\n    doReload();\n  }, [doReload]);\n  const rebuild = useCallback(() => {\n    setFilterGroupStates(buildStates(filterGroups.current, selectedFilterKeys.current, selectedTags.current, entities, error));\n    setMatchingEntities(buildMatchingEntities(filterGroups.current, selectedFilterKeys.current, selectedTags.current, entities));\n    setAvailableTags(collectTags(entities));\n    setCatalogEmpty(entities !== void 0 && entities.length === 0);\n  }, [entities, error]);\n  const register = useCallback((filterGroupId, filterGroup, initialSelectedFilterIds) => {\n    filterGroups.current[filterGroupId] = filterGroup;\n    selectedFilterKeys.current[filterGroupId] = new Set(initialSelectedFilterIds != null ? initialSelectedFilterIds : []);\n    rebuild();\n  }, [rebuild]);\n  const unregister = useCallback((filterGroupId) => {\n    delete filterGroups.current[filterGroupId];\n    delete selectedFilterKeys.current[filterGroupId];\n    rebuild();\n  }, [rebuild]);\n  const setGroupSelectedFilters = useCallback((filterGroupId, filters) => {\n    selectedFilterKeys.current[filterGroupId] = new Set(filters);\n    rebuild();\n  }, [rebuild]);\n  const setSelectedTags = useCallback((tags) => {\n    selectedTags.current = tags;\n    rebuild();\n  }, [rebuild]);\n  const reload = useCallback(async () => {\n    await doReload();\n  }, [doReload]);\n  return {\n    register,\n    unregister,\n    setGroupSelectedFilters,\n    setSelectedTags,\n    reload,\n    loading: !error && !entities,\n    error,\n    filterGroupStates,\n    matchingEntities,\n    availableTags,\n    isCatalogEmpty\n  };\n}\nfunction buildStates(filterGroups, selectedFilterKeys, selectedTags, entities, error) {\n  var _a;\n  if (error) {\n    return Object.fromEntries(Object.keys(filterGroups).map((filterGroupId) => [\n      filterGroupId,\n      {type: \"error\", error}\n    ]));\n  }\n  if (!entities) {\n    return Object.fromEntries(Object.keys(filterGroups).map((filterGroupId) => [\n      filterGroupId,\n      {type: \"loading\"}\n    ]));\n  }\n  const result = {};\n  for (const [filterGroupId, filterGroup] of Object.entries(filterGroups)) {\n    const otherMatchingEntities = buildMatchingEntities(filterGroups, selectedFilterKeys, selectedTags, entities, filterGroupId);\n    const groupState = {filters: {}};\n    for (const [filterId, filterFn] of Object.entries(filterGroup.filters)) {\n      const isSelected = !!((_a = selectedFilterKeys[filterGroupId]) == null ? void 0 : _a.has(filterId));\n      const matchCount = otherMatchingEntities.filter((entity) => filterFn(entity)).length;\n      groupState.filters[filterId] = {isSelected, matchCount};\n    }\n    result[filterGroupId] = {type: \"ready\", state: groupState};\n  }\n  return result;\n}\nfunction collectTags(entities) {\n  const tags = new Set();\n  (entities || []).forEach((e) => {\n    if (e.metadata.tags) {\n      e.metadata.tags.forEach((t) => tags.add(t));\n    }\n  });\n  return Array.from(tags).sort();\n}\nfunction buildMatchingEntities(filterGroups, selectedFilterKeys, selectedTags, entities, excludeFilterGroupId) {\n  var _a, _b;\n  const allFilters = [];\n  for (const [filterGroupId, filterGroup] of Object.entries(filterGroups)) {\n    if (excludeFilterGroupId === filterGroupId) {\n      continue;\n    }\n    const groupFilters = [];\n    for (const [filterId, filterFn] of Object.entries(filterGroup.filters)) {\n      if (!!((_a = selectedFilterKeys[filterGroupId]) == null ? void 0 : _a.has(filterId))) {\n        groupFilters.push(filterFn);\n      }\n    }\n    if (groupFilters.length) {\n      allFilters.push((entity) => groupFilters.some((fn) => fn(entity)));\n    }\n  }\n  if (selectedTags.length > 0) {\n    allFilters.push((entity) => !!entity.metadata.tags && entity.metadata.tags.some((t) => selectedTags.includes(t)));\n  }\n  return (_b = entities == null ? void 0 : entities.filter((entity) => allFilters.every((fn) => fn(entity)))) != null ? _b : [];\n}\n\nconst useEntityFilterGroup = (filterGroupId, filterGroup, initialSelectedFilters) => {\n  const context = useContext(filterGroupsContext);\n  if (!context) {\n    throw new Error(`Must be used inside an EntityFilterGroupsProvider`);\n  }\n  const {\n    register,\n    unregister,\n    setGroupSelectedFilters,\n    filterGroupStates\n  } = context;\n  const initialMemo = useMemo(() => {\n    return initialSelectedFilters == null ? void 0 : initialSelectedFilters.slice();\n  }, [initialSelectedFilters]);\n  useEffect(() => {\n    register(filterGroupId, filterGroup, initialMemo);\n    return () => unregister(filterGroupId);\n  }, [register, unregister, filterGroupId, filterGroup]);\n  const setSelectedFilters = useCallback((filters) => {\n    setGroupSelectedFilters(filterGroupId, filters);\n  }, [setGroupSelectedFilters, filterGroupId]);\n  let state = filterGroupStates[filterGroupId];\n  if (!state) {\n    state = {type: \"loading\"};\n  }\n  return {state, setSelectedFilters};\n};\n\nfunction useFilteredEntities() {\n  const context = useContext(filterGroupsContext);\n  if (!context) {\n    throw new Error(`Must be used inside an EntityFilterGroupsProvider`);\n  }\n  return {\n    loading: context.loading,\n    error: context.error,\n    matchingEntities: context.matchingEntities,\n    availableTags: context.availableTags,\n    isCatalogEmpty: context.isCatalogEmpty,\n    reload: context.reload\n  };\n}\n\nconst createComponentRouteRef = createExternalRouteRef({\n  id: \"create-component\",\n  optional: true\n});\n\nconst useStyles$5 = makeStyles((theme) => ({\n  root: {\n    backgroundColor: \"rgba(0, 0, 0, .11)\",\n    boxShadow: \"none\"\n  },\n  title: {\n    margin: theme.spacing(1, 0, 0, 1),\n    textTransform: \"uppercase\",\n    fontSize: 12,\n    fontWeight: \"bold\"\n  },\n  listIcon: {\n    minWidth: 30,\n    color: theme.palette.text.primary\n  },\n  menuItem: {\n    minHeight: theme.spacing(6)\n  },\n  groupWrapper: {\n    margin: theme.spacing(1, 1, 2, 1)\n  },\n  menuTitle: {\n    fontWeight: 500\n  }\n}));\nconst CatalogFilter = ({\n  buttonGroups,\n  onChange,\n  initiallySelected\n}) => {\n  const classes = useStyles$5();\n  const {currentFilter, setCurrentFilter, getFilterCount} = useFilter(buttonGroups, initiallySelected);\n  const onChangeRef = useRef();\n  useEffect(() => {\n    onChangeRef.current = onChange;\n  }, [onChange]);\n  const setCurrent = useCallback((item) => {\n    var _a;\n    setCurrentFilter(item.id);\n    (_a = onChangeRef.current) == null ? void 0 : _a.call(onChangeRef, {id: item.id, label: item.label});\n  }, [setCurrentFilter]);\n  useEffect(() => {\n    var _a;\n    const items = buttonGroups.flatMap((g) => g.items);\n    const item = items.find((i) => i.id === initiallySelected) || items[0];\n    if (item) {\n      (_a = onChangeRef.current) == null ? void 0 : _a.call(onChangeRef, {id: item.id, label: item.label});\n    }\n  }, []);\n  return /* @__PURE__ */ React.createElement(Card, {\n    className: classes.root\n  }, buttonGroups.map((group) => /* @__PURE__ */ React.createElement(React.Fragment, {\n    key: group.name\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"subtitle2\",\n    className: classes.title\n  }, group.name), /* @__PURE__ */ React.createElement(Card, {\n    className: classes.groupWrapper\n  }, /* @__PURE__ */ React.createElement(List, {\n    disablePadding: true,\n    dense: true\n  }, group.items.map((item) => {\n    var _a;\n    return /* @__PURE__ */ React.createElement(MenuItem, {\n      key: item.id,\n      button: true,\n      divider: true,\n      onClick: () => setCurrent(item),\n      selected: item.id === currentFilter,\n      className: classes.menuItem\n    }, item.icon && /* @__PURE__ */ React.createElement(ListItemIcon, {\n      className: classes.listIcon\n    }, /* @__PURE__ */ React.createElement(item.icon, {\n      fontSize: \"small\"\n    })), /* @__PURE__ */ React.createElement(ListItemText, null, /* @__PURE__ */ React.createElement(Typography, {\n      variant: \"body1\",\n      className: classes.menuTitle\n    }, item.label)), /* @__PURE__ */ React.createElement(ListItemSecondaryAction, null, (_a = getFilterCount(item.id)) != null ? _a : \"-\"));\n  }))))));\n};\nfunction useFilter(buttonGroups, initiallySelected) {\n  const [currentFilter, setCurrentFilter] = useState(initiallySelected);\n  const filterGroup = useMemo(() => ({\n    filters: Object.fromEntries(buttonGroups.flatMap((g) => g.items).map((i) => [i.id, i.filterFn]))\n  }), [buttonGroups]);\n  const {setSelectedFilters, state} = useEntityFilterGroup(\"primary-sidebar\", filterGroup, [initiallySelected]);\n  const setCurrent = useCallback((filterId) => {\n    setCurrentFilter(filterId);\n    setSelectedFilters([filterId]);\n  }, [setCurrentFilter, setSelectedFilters]);\n  const getFilterCount = useCallback((filterId) => {\n    if (state.type !== \"ready\") {\n      return void 0;\n    }\n    return state.state.filters[filterId].matchCount;\n  }, [state]);\n  return {\n    currentFilter,\n    setCurrentFilter: setCurrent,\n    getFilterCount\n  };\n}\n\nconst useStyles$6 = makeStyles((theme) => ({\n  filterBox: {\n    display: \"flex\",\n    margin: theme.spacing(2, 0, 0, 0)\n  },\n  filterBoxTitle: {\n    margin: theme.spacing(1, 0, 0, 1),\n    fontWeight: \"bold\",\n    flex: 1\n  },\n  title: {\n    margin: theme.spacing(1, 0, 0, 1),\n    textTransform: \"uppercase\",\n    fontSize: 12,\n    fontWeight: \"bold\"\n  },\n  checkbox: {\n    padding: theme.spacing(0, 1, 0, 1)\n  }\n}));\nconst ResultsFilter = ({availableTags}) => {\n  const classes = useStyles$6();\n  const [selectedTags, setSelectedTags] = useState([]);\n  const context = useContext(filterGroupsContext);\n  if (!context) {\n    throw new Error(`Must be used inside an EntityFilterGroupsProvider`);\n  }\n  const setSelectedTagsFilter = context == null ? void 0 : context.setSelectedTags;\n  const updateSelectedTags = useCallback((tags) => {\n    setSelectedTags(tags);\n    setSelectedTagsFilter(tags);\n  }, [setSelectedTags, setSelectedTagsFilter]);\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\"div\", {\n    className: classes.filterBox\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"subtitle2\",\n    className: classes.filterBoxTitle\n  }, \"Refine Results\"), \" \", /* @__PURE__ */ React.createElement(Button, {\n    onClick: () => updateSelectedTags([])\n  }, \"Clear\")), /* @__PURE__ */ React.createElement(Divider, null), /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"subtitle2\",\n    className: classes.title\n  }, \"Tags\"), /* @__PURE__ */ React.createElement(List, {\n    disablePadding: true,\n    dense: true\n  }, availableTags.map((t) => {\n    const labelId = `checkbox-list-label-${t}`;\n    return /* @__PURE__ */ React.createElement(ListItem, {\n      key: t,\n      dense: true,\n      button: true,\n      onClick: () => updateSelectedTags(selectedTags.includes(t) ? selectedTags.filter((s) => s !== t) : [...selectedTags, t])\n    }, /* @__PURE__ */ React.createElement(Checkbox, {\n      edge: \"start\",\n      color: \"primary\",\n      checked: selectedTags.includes(t),\n      tabIndex: -1,\n      disableRipple: true,\n      className: classes.checkbox,\n      inputProps: {\"aria-labelledby\": labelId}\n    }), /* @__PURE__ */ React.createElement(ListItemText, {\n      id: labelId,\n      primary: t\n    }));\n  })));\n};\n\nfunction useOwnUser() {\n  const catalogApi = useApi(catalogApiRef);\n  const identityApi = useApi(identityApiRef);\n  return useAsync(() => catalogApi.getEntityByName({\n    kind: \"User\",\n    namespace: \"default\",\n    name: identityApi.getUserId()\n  }), [catalogApi, identityApi]);\n}\n\nconst CatalogLayout = ({children}) => {\n  var _a;\n  const orgName = (_a = useApi(configApiRef).getOptionalString(\"organization.name\")) != null ? _a : \"Backstage\";\n  return /* @__PURE__ */ React.createElement(Page, {\n    themeId: \"home\"\n  }, /* @__PURE__ */ React.createElement(Header, {\n    title: `${orgName} Catalog`,\n    subtitle: `Catalog of software components at ${orgName}`,\n    pageTitleOverride: \"Home\"\n  }), children);\n};\n\nconst CatalogTabs = ({tabs, onChange}) => {\n  const filterGroup = useMemo(() => {\n    const otherType = \"other\";\n    const wellKnownTypes = tabs.map((t) => t.id).filter((t) => t !== otherType);\n    const isOtherType = (entity) => {\n      var _a;\n      return !wellKnownTypes.includes((_a = entity.spec) == null ? void 0 : _a.type);\n    };\n    return {\n      filters: Object.fromEntries(tabs.map((t) => [\n        t.id,\n        (entity) => {\n          var _a;\n          return t.id === otherType && isOtherType(entity) || ((_a = entity.spec) == null ? void 0 : _a.type) === t.id;\n        }\n      ]))\n    };\n  }, [tabs]);\n  const {setSelectedFilters} = useEntityFilterGroup(\"type\", filterGroup, [\n    tabs[0].id\n  ]);\n  const [currentTabIndex, setCurrentTabIndex] = useState(0);\n  const onChangeRef = useRef();\n  useEffect(() => {\n    onChangeRef.current = onChange;\n  }, [onChange]);\n  useEffect(() => {\n    var _a;\n    (_a = onChangeRef.current) == null ? void 0 : _a.call(onChangeRef, tabs[currentTabIndex]);\n  }, [tabs, currentTabIndex]);\n  const switchTab = useCallback((index) => {\n    var _a;\n    const tab = tabs[index];\n    setSelectedFilters([tab.id]);\n    setCurrentTabIndex(index);\n    (_a = onChangeRef.current) == null ? void 0 : _a.call(onChangeRef, tab);\n  }, [tabs, setSelectedFilters]);\n  return /* @__PURE__ */ React.createElement(HeaderTabs, {\n    tabs,\n    onChange: switchTab\n  });\n};\n\nconst useStyles$7 = makeStyles((theme) => ({\n  contentWrapper: {\n    display: \"grid\",\n    gridTemplateAreas: \"'filters' 'table'\",\n    gridTemplateColumns: \"250px 1fr\",\n    gridColumnGap: theme.spacing(2)\n  },\n  buttonSpacing: {\n    marginLeft: theme.spacing(2)\n  }\n}));\nconst CatalogPageContents = (props) => {\n  var _a, _b, _c, _d;\n  const styles = useStyles$7();\n  const {\n    loading,\n    error,\n    reload,\n    matchingEntities,\n    availableTags,\n    isCatalogEmpty\n  } = useFilteredEntities();\n  const configApi = useApi(configApiRef);\n  const catalogApi = useApi(catalogApiRef);\n  const errorApi = useApi(errorApiRef);\n  const {isStarredEntity} = useStarredEntities();\n  const [selectedTab, setSelectedTab] = useState();\n  const [\n    selectedSidebarItem,\n    setSelectedSidebarItem\n  ] = useState();\n  const orgName = (_a = configApi.getOptionalString(\"organization.name\")) != null ? _a : \"Company\";\n  const initiallySelectedFilter = (_c = (_b = selectedSidebarItem == null ? void 0 : selectedSidebarItem.id) != null ? _b : props.initiallySelectedFilter) != null ? _c : \"owned\";\n  const createComponentLink = useRouteRef(createComponentRouteRef);\n  const addMockData = useCallback(async () => {\n    try {\n      const promises = [];\n      const root = configApi.getConfig(\"catalog.exampleEntityLocations\");\n      for (const type of root.keys()) {\n        for (const target of root.getStringArray(type)) {\n          promises.push(catalogApi.addLocation({target}));\n        }\n      }\n      await Promise.all(promises);\n      await reload();\n    } catch (err) {\n      errorApi.post(err);\n    }\n  }, [catalogApi, configApi, errorApi, reload]);\n  const tabs = useMemo(() => [\n    {\n      id: \"service\",\n      label: \"Services\"\n    },\n    {\n      id: \"website\",\n      label: \"Websites\"\n    },\n    {\n      id: \"library\",\n      label: \"Libraries\"\n    },\n    {\n      id: \"documentation\",\n      label: \"Documentation\"\n    },\n    {\n      id: \"other\",\n      label: \"Other\"\n    }\n  ], []);\n  const {value: user} = useOwnUser();\n  const filterGroups = useMemo(() => [\n    {\n      name: \"Personal\",\n      items: [\n        {\n          id: \"owned\",\n          label: \"Owned\",\n          icon: SettingsIcon,\n          filterFn: (entity) => user !== void 0 && isOwnerOf(user, entity)\n        },\n        {\n          id: \"starred\",\n          label: \"Starred\",\n          icon: Star,\n          filterFn: isStarredEntity\n        }\n      ]\n    },\n    {\n      name: orgName,\n      items: [\n        {\n          id: \"all\",\n          label: \"All\",\n          filterFn: () => true\n        }\n      ]\n    }\n  ], [isStarredEntity, orgName, user]);\n  const showAddExampleEntities = configApi.has(\"catalog.exampleEntityLocations\") && isCatalogEmpty;\n  return /* @__PURE__ */ React.createElement(CatalogLayout, null, /* @__PURE__ */ React.createElement(CatalogTabs, {\n    tabs,\n    onChange: ({label}) => setSelectedTab(label)\n  }), /* @__PURE__ */ React.createElement(Content, null, /* @__PURE__ */ React.createElement(ContentHeader, {\n    title: selectedTab != null ? selectedTab : \"\"\n  }, createComponentLink && /* @__PURE__ */ React.createElement(Button, {\n    component: Link$1,\n    variant: \"contained\",\n    color: \"primary\",\n    to: createComponentLink()\n  }, \"Create Component\"), showAddExampleEntities && /* @__PURE__ */ React.createElement(Button, {\n    className: styles.buttonSpacing,\n    variant: \"outlined\",\n    color: \"primary\",\n    onClick: addMockData\n  }, \"Add example components\"), /* @__PURE__ */ React.createElement(SupportButton, null, \"All your software catalog entities\")), /* @__PURE__ */ React.createElement(\"div\", {\n    className: styles.contentWrapper\n  }, /* @__PURE__ */ React.createElement(\"div\", null, /* @__PURE__ */ React.createElement(CatalogFilter, {\n    buttonGroups: filterGroups,\n    onChange: ({label, id}) => setSelectedSidebarItem({label, id}),\n    initiallySelected: initiallySelectedFilter\n  }), /* @__PURE__ */ React.createElement(ResultsFilter, {\n    availableTags\n  })), /* @__PURE__ */ React.createElement(CatalogTable, {\n    titlePreamble: (_d = selectedSidebarItem == null ? void 0 : selectedSidebarItem.label) != null ? _d : \"\",\n    view: selectedTab,\n    columns: props.columns,\n    entities: matchingEntities,\n    loading,\n    error\n  }))));\n};\nconst CatalogPage = (props) => /* @__PURE__ */ React.createElement(EntityFilterGroupsProvider, null, /* @__PURE__ */ React.createElement(CatalogPageContents, {\n  ...props\n}));\n\nconst EntityLoaderProvider = ({children}) => {\n  const {entity, loading, error} = useEntityFromUrl();\n  return /* @__PURE__ */ React.createElement(EntityContext.Provider, {\n    value: {entity, loading, error}\n  }, children);\n};\n\nconst useStyles$8 = makeStyles((theme) => ({\n  illo: {\n    maxWidth: \"60%\",\n    top: 100,\n    right: 20,\n    position: \"absolute\",\n    [theme.breakpoints.down(\"xs\")]: {\n      maxWidth: \"96%\",\n      position: \"relative\",\n      top: \"unset\",\n      right: \"unset\",\n      margin: `${theme.spacing(10)}px auto ${theme.spacing(4)}px`\n    }\n  }\n}));\nconst Illo = () => {\n  const classes = useStyles$8();\n  return /* @__PURE__ */ React.createElement(\"img\", {\n    src: IlloSvgUrl,\n    className: classes.illo,\n    alt: \"Illustration on entity not found page\"\n  });\n};\n\nconst useStyles$9 = makeStyles$1((theme) => ({\n  container: {\n    paddingTop: theme.spacing(24),\n    paddingLeft: theme.spacing(8),\n    [theme.breakpoints.down(\"xs\")]: {\n      padding: theme.spacing(2)\n    }\n  },\n  title: {\n    paddingBottom: theme.spacing(2),\n    [theme.breakpoints.down(\"xs\")]: {\n      fontSize: 32\n    }\n  },\n  body: {\n    paddingBottom: theme.spacing(6),\n    [theme.breakpoints.down(\"xs\")]: {\n      paddingBottom: theme.spacing(5)\n    }\n  }\n}));\nconst EntityNotFound = () => {\n  const classes = useStyles$9();\n  return /* @__PURE__ */ React.createElement(Grid, {\n    container: true,\n    spacing: 0,\n    className: classes.container\n  }, /* @__PURE__ */ React.createElement(Illo, null), /* @__PURE__ */ React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"h2\",\n    className: classes.title\n  }, \"Entity was not found\"), /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"body1\",\n    className: classes.body\n  }, \"Want to help us build this? Check out our Getting Started documentation.\"), /* @__PURE__ */ React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    href: \"https://backstage.io/docs\"\n  }, \"DOCS\")));\n};\n\nconst DefaultEntityPage = () => /* @__PURE__ */ React.createElement(EntityPageLayout, null, /* @__PURE__ */ React.createElement(EntityPageLayout.Content, {\n  path: \"/\",\n  title: \"Overview\",\n  element: /* @__PURE__ */ React.createElement(Content, null, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"h2\"\n  }, \"This is the default entity page.\"), /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"body1\"\n  }, \"To override this component with your custom implementation, read docs on\", \" \", /* @__PURE__ */ React.createElement(Link$2, {\n    target: \"_blank\",\n    href: \"https://backstage.io/docs\"\n  }, \"backstage.io/docs\")))\n}));\nconst EntityPageSwitch = ({EntityPage}) => {\n  const {entity, loading, error} = useEntity();\n  if (loading)\n    return /* @__PURE__ */ React.createElement(EntityPageLayout, null);\n  if (error || !entity)\n    return /* @__PURE__ */ React.createElement(EntityNotFound, null);\n  return /* @__PURE__ */ React.createElement(EntityPage, null);\n};\nconst OldEntityRouteRedirect = () => {\n  var _a;\n  const {optionalNamespaceAndName, \"*\": rest} = useParams();\n  const [name, namespace] = optionalNamespaceAndName.split(\":\").reverse();\n  const namespaceLower = (_a = namespace == null ? void 0 : namespace.toLocaleLowerCase(\"en-US\")) != null ? _a : ENTITY_DEFAULT_NAMESPACE;\n  const restWithSlash = rest ? `/${rest}` : \"\";\n  return /* @__PURE__ */ React.createElement(Navigate, {\n    to: `../../${namespaceLower}/component/${name}${restWithSlash}`\n  });\n};\nconst Router = ({\n  EntityPage = DefaultEntityPage\n}) => /* @__PURE__ */ React.createElement(Routes, null, /* @__PURE__ */ React.createElement(Route$1, {\n  path: `${rootRoute.path}`,\n  element: /* @__PURE__ */ React.createElement(CatalogPage, null)\n}), /* @__PURE__ */ React.createElement(Route$1, {\n  path: `${entityRoute.path}`,\n  element: /* @__PURE__ */ React.createElement(EntityLoaderProvider, null, /* @__PURE__ */ React.createElement(EntityPageSwitch, {\n    EntityPage\n  }))\n}), /* @__PURE__ */ React.createElement(Route$1, {\n  path: \"Component/:optionalNamespaceAndName/*\",\n  element: /* @__PURE__ */ React.createElement(OldEntityRouteRedirect, null)\n}));\n\nclass CatalogClientWrapper {\n  constructor(options) {\n    this.client = options.client;\n    this.identityApi = options.identityApi;\n  }\n  async getLocationById(id, options) {\n    var _a;\n    return await this.client.getLocationById(id, {\n      token: (_a = options == null ? void 0 : options.token) != null ? _a : await this.identityApi.getIdToken()\n    });\n  }\n  async getEntities(request, options) {\n    var _a;\n    return await this.client.getEntities(request, {\n      token: (_a = options == null ? void 0 : options.token) != null ? _a : await this.identityApi.getIdToken()\n    });\n  }\n  async getEntityByName(compoundName, options) {\n    var _a;\n    return await this.client.getEntityByName(compoundName, {\n      token: (_a = options == null ? void 0 : options.token) != null ? _a : await this.identityApi.getIdToken()\n    });\n  }\n  async addLocation(request, options) {\n    var _a;\n    return await this.client.addLocation(request, {\n      token: (_a = options == null ? void 0 : options.token) != null ? _a : await this.identityApi.getIdToken()\n    });\n  }\n  async getOriginLocationByEntity(entity, options) {\n    var _a;\n    return await this.client.getOriginLocationByEntity(entity, {\n      token: (_a = options == null ? void 0 : options.token) != null ? _a : await this.identityApi.getIdToken()\n    });\n  }\n  async getLocationByEntity(entity, options) {\n    var _a;\n    return await this.client.getLocationByEntity(entity, {\n      token: (_a = options == null ? void 0 : options.token) != null ? _a : await this.identityApi.getIdToken()\n    });\n  }\n  async removeLocationById(id, options) {\n    var _a;\n    return await this.client.removeLocationById(id, {\n      token: (_a = options == null ? void 0 : options.token) != null ? _a : await this.identityApi.getIdToken()\n    });\n  }\n  async removeEntityByUid(uid, options) {\n    var _a;\n    return await this.client.removeEntityByUid(uid, {\n      token: (_a = options == null ? void 0 : options.token) != null ? _a : await this.identityApi.getIdToken()\n    });\n  }\n}\n\nconst catalogPlugin = createPlugin({\n  id: \"catalog\",\n  apis: [\n    createApiFactory({\n      api: catalogApiRef,\n      deps: {discoveryApi: discoveryApiRef, identityApi: identityApiRef},\n      factory: ({discoveryApi, identityApi}) => new CatalogClientWrapper({\n        client: new CatalogClient({discoveryApi}),\n        identityApi\n      })\n    })\n  ],\n  routes: {\n    catalogIndex: catalogRouteRef,\n    catalogEntity: entityRouteRef\n  },\n  externalRoutes: {\n    createComponent: createComponentRouteRef\n  }\n});\nconst CatalogIndexPage = catalogPlugin.provide(createRoutableExtension({\n  component: () => import('./index-1472576b.esm.js').then((m) => m.CatalogPage),\n  mountPoint: catalogRouteRef\n}));\nconst CatalogEntityPage = catalogPlugin.provide(createRoutableExtension({\n  component: () => import('./index-ef2f80af.esm.js').then((m) => m.CatalogEntityPage),\n  mountPoint: entityRouteRef\n}));\nconst EntityAboutCard = catalogPlugin.provide(createComponentExtension({\n  component: {\n    lazy: () => import('./index-248cbfab.esm.js').then((m) => m.AboutCard)\n  }\n}));\nconst EntityLinksCard = catalogPlugin.provide(createComponentExtension({\n  component: {\n    lazy: () => import('./index-e628ccf2.esm.js').then((m) => m.EntityLinksCard)\n  }\n}));\nconst EntityHasSystemsCard = catalogPlugin.provide(createComponentExtension({\n  component: {\n    lazy: () => import('./index-ce952a71.esm.js').then((m) => m.HasSystemsCard)\n  }\n}));\nconst EntityHasComponentsCard = catalogPlugin.provide(createComponentExtension({\n  component: {\n    lazy: () => import('./index-4bd2f4e9.esm.js').then((m) => m.HasComponentsCard)\n  }\n}));\nconst EntityHasSubcomponentsCard = catalogPlugin.provide(createComponentExtension({\n  component: {\n    lazy: () => import('./index-98b67ed2.esm.js').then((m) => m.HasSubcomponentsCard)\n  }\n}));\nconst EntitySystemDiagramCard = catalogPlugin.provide(createComponentExtension({\n  component: {\n    lazy: () => import('./index-d159831b.esm.js').then((m) => m.SystemDiagramCard)\n  }\n}));\n\nexport { AboutCard as A, CatalogPage as C, EntityLoaderProvider as E, Router as R, EntityLayout as a, EntityPageLayout as b, CatalogTable as c, CatalogEntityPage as d, CatalogIndexPage as e, catalogPlugin as f, EntityAboutCard as g, EntityHasComponentsCard as h, EntityHasSubcomponentsCard as i, EntityHasSystemsCard as j, EntityLinksCard as k, EntitySystemDiagramCard as l, EntitySwitch as m, isKind as n, isNamespace as o, isComponentType as p };\n//# sourceMappingURL=index-be99e54b.esm.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CodeGen = exports.Name = exports.nil = exports.stringify = exports.str = exports._ = exports.KeywordCxt = void 0;\nconst context_1 = require(\"./compile/context\");\nexports.KeywordCxt = context_1.default;\nvar codegen_1 = require(\"./compile/codegen\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return codegen_1._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return codegen_1.str; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return codegen_1.stringify; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return codegen_1.nil; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return codegen_1.Name; } });\nObject.defineProperty(exports, \"CodeGen\", { enumerable: true, get: function () { return codegen_1.CodeGen; } });\nconst core_1 = require(\"./core\");\nconst draft7_1 = require(\"./vocabularies/draft7\");\nconst draft7MetaSchema = require(\"./refs/json-schema-draft-07.json\");\nconst META_SUPPORT_DATA = [\"/properties\"];\nconst META_SCHEMA_ID = \"http://json-schema.org/draft-07/schema\";\nclass Ajv extends core_1.default {\n    _addVocabularies() {\n        super._addVocabularies();\n        draft7_1.default.forEach((v) => this.addVocabulary(v));\n    }\n    _addDefaultMetaSchema() {\n        super._addDefaultMetaSchema();\n        if (!this.opts.meta)\n            return;\n        const metaSchema = this.opts.$data\n            ? this.$dataMetaSchema(draft7MetaSchema, META_SUPPORT_DATA)\n            : draft7MetaSchema;\n        this.addMetaSchema(metaSchema, META_SCHEMA_ID, false);\n        this.refs[\"http://json-schema.org/schema\"] = META_SCHEMA_ID;\n    }\n    defaultMeta() {\n        return (this.opts.defaultMeta =\n            super.defaultMeta() || (this.getSchema(META_SCHEMA_ID) ? META_SCHEMA_ID : undefined));\n    }\n}\nexports.default = Ajv;\n//# sourceMappingURL=ajv.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getRules = exports.isJSONType = void 0;\nconst _jsonTypes = [\"string\", \"number\", \"integer\", \"boolean\", \"null\", \"object\", \"array\"];\nconst jsonTypes = new Set(_jsonTypes);\nfunction isJSONType(x) {\n    return typeof x == \"string\" && jsonTypes.has(x);\n}\nexports.isJSONType = isJSONType;\nfunction getRules() {\n    const groups = {\n        number: { type: \"number\", rules: [] },\n        string: { type: \"string\", rules: [] },\n        array: { type: \"array\", rules: [] },\n        object: { type: \"object\", rules: [] },\n    };\n    return {\n        types: { ...groups, integer: true, boolean: true, null: true },\n        rules: [{ rules: [] }, groups.number, groups.string, groups.array, groups.object],\n        post: { rules: [] },\n        all: {},\n        keywords: {},\n    };\n}\nexports.getRules = getRules;\n//# sourceMappingURL=rules.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.shouldUseRule = exports.shouldUseGroup = exports.schemaHasRulesForType = void 0;\nfunction schemaHasRulesForType({ schema, self }, type) {\n    const group = self.RULES.types[type];\n    return group && group !== true && shouldUseGroup(schema, group);\n}\nexports.schemaHasRulesForType = schemaHasRulesForType;\nfunction shouldUseGroup(schema, group) {\n    return group.rules.some((rule) => shouldUseRule(schema, rule));\n}\nexports.shouldUseGroup = shouldUseGroup;\nfunction shouldUseRule(schema, rule) {\n    var _a;\n    return (schema[rule.keyword] !== undefined ||\n        ((_a = rule.definition.implements) === null || _a === void 0 ? void 0 : _a.some((kwd) => schema[kwd] !== undefined)));\n}\nexports.shouldUseRule = shouldUseRule;\n//# sourceMappingURL=applicability.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ValueScope = exports.ValueScopeName = exports.Scope = exports.varKinds = exports.UsedValueState = void 0;\nconst code_1 = require(\"./code\");\nclass ValueError extends Error {\n    constructor(name) {\n        super(`CodeGen: \"code\" for ${name} not defined`);\n        this.value = name.value;\n    }\n}\nvar UsedValueState;\n(function (UsedValueState) {\n    UsedValueState[UsedValueState[\"Started\"] = 0] = \"Started\";\n    UsedValueState[UsedValueState[\"Completed\"] = 1] = \"Completed\";\n})(UsedValueState = exports.UsedValueState || (exports.UsedValueState = {}));\nexports.varKinds = {\n    const: new code_1.Name(\"const\"),\n    let: new code_1.Name(\"let\"),\n    var: new code_1.Name(\"var\"),\n};\nclass Scope {\n    constructor({ prefixes, parent } = {}) {\n        this._names = {};\n        this._prefixes = prefixes;\n        this._parent = parent;\n    }\n    toName(nameOrPrefix) {\n        return nameOrPrefix instanceof code_1.Name ? nameOrPrefix : this.name(nameOrPrefix);\n    }\n    name(prefix) {\n        return new code_1.Name(this._newName(prefix));\n    }\n    _newName(prefix) {\n        const ng = this._names[prefix] || this._nameGroup(prefix);\n        return `${prefix}${ng.index++}`;\n    }\n    _nameGroup(prefix) {\n        var _a, _b;\n        if (((_b = (_a = this._parent) === null || _a === void 0 ? void 0 : _a._prefixes) === null || _b === void 0 ? void 0 : _b.has(prefix)) || (this._prefixes && !this._prefixes.has(prefix))) {\n            throw new Error(`CodeGen: prefix \"${prefix}\" is not allowed in this scope`);\n        }\n        return (this._names[prefix] = { prefix, index: 0 });\n    }\n}\nexports.Scope = Scope;\nclass ValueScopeName extends code_1.Name {\n    constructor(prefix, nameStr) {\n        super(nameStr);\n        this.prefix = prefix;\n    }\n    setValue(value, { property, itemIndex }) {\n        this.value = value;\n        this.scopePath = code_1._ `.${new code_1.Name(property)}[${itemIndex}]`;\n    }\n}\nexports.ValueScopeName = ValueScopeName;\nconst line = code_1._ `\\n`;\nclass ValueScope extends Scope {\n    constructor(opts) {\n        super(opts);\n        this._values = {};\n        this._scope = opts.scope;\n        this.opts = { ...opts, _n: opts.lines ? line : code_1.nil };\n    }\n    get() {\n        return this._scope;\n    }\n    name(prefix) {\n        return new ValueScopeName(prefix, this._newName(prefix));\n    }\n    value(nameOrPrefix, value) {\n        var _a;\n        if (value.ref === undefined)\n            throw new Error(\"CodeGen: ref must be passed in value\");\n        const name = this.toName(nameOrPrefix);\n        const { prefix } = name;\n        const valueKey = (_a = value.key) !== null && _a !== void 0 ? _a : value.ref;\n        let vs = this._values[prefix];\n        if (vs) {\n            const _name = vs.get(valueKey);\n            if (_name)\n                return _name;\n        }\n        else {\n            vs = this._values[prefix] = new Map();\n        }\n        vs.set(valueKey, name);\n        const s = this._scope[prefix] || (this._scope[prefix] = []);\n        const itemIndex = s.length;\n        s[itemIndex] = value.ref;\n        name.setValue(value, { property: prefix, itemIndex });\n        return name;\n    }\n    getValue(prefix, keyOrRef) {\n        const vs = this._values[prefix];\n        if (!vs)\n            return;\n        return vs.get(keyOrRef);\n    }\n    scopeRefs(scopeName, values = this._values) {\n        return this._reduceValues(values, (name) => {\n            if (name.scopePath === undefined)\n                throw new Error(`CodeGen: name \"${name}\" has no value`);\n            return code_1._ `${scopeName}${name.scopePath}`;\n        });\n    }\n    scopeCode(values = this._values, usedValues, getCode) {\n        return this._reduceValues(values, (name) => {\n            if (name.value === undefined)\n                throw new Error(`CodeGen: name \"${name}\" has no value`);\n            return name.value.code;\n        }, usedValues, getCode);\n    }\n    _reduceValues(values, valueCode, usedValues = {}, getCode) {\n        let code = code_1.nil;\n        for (const prefix in values) {\n            const vs = values[prefix];\n            if (!vs)\n                continue;\n            const nameSet = (usedValues[prefix] = usedValues[prefix] || new Map());\n            vs.forEach((name) => {\n                if (nameSet.has(name))\n                    return;\n                nameSet.set(name, UsedValueState.Started);\n                let c = valueCode(name);\n                if (c) {\n                    const def = this.opts.es5 ? exports.varKinds.var : exports.varKinds.const;\n                    code = code_1._ `${code}${def} ${name} = ${c};${this.opts._n}`;\n                }\n                else if ((c = getCode === null || getCode === void 0 ? void 0 : getCode(name))) {\n                    code = code_1._ `${code}${c}${this.opts._n}`;\n                }\n                else {\n                    throw new ValueError(name);\n                }\n                nameSet.set(name, UsedValueState.Completed);\n            });\n        }\n        return code;\n    }\n}\nexports.ValueScope = ValueScope;\n//# sourceMappingURL=scope.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resolveSchema = exports.getCompilingSchema = exports.resolveRef = exports.compileSchema = exports.SchemaEnv = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst error_classes_1 = require(\"./error_classes\");\nconst names_1 = require(\"./names\");\nconst resolve_1 = require(\"./resolve\");\nconst util_1 = require(\"./util\");\nconst validate_1 = require(\"./validate\");\nconst URI = require(\"uri-js\");\nclass SchemaEnv {\n    constructor(env) {\n        var _a;\n        this.refs = {};\n        this.dynamicAnchors = {};\n        let schema;\n        if (typeof env.schema == \"object\")\n            schema = env.schema;\n        this.schema = env.schema;\n        this.root = env.root || this;\n        this.baseId = (_a = env.baseId) !== null && _a !== void 0 ? _a : resolve_1.normalizeId(schema === null || schema === void 0 ? void 0 : schema.$id);\n        this.localRefs = env.localRefs;\n        this.meta = env.meta;\n        this.$async = schema === null || schema === void 0 ? void 0 : schema.$async;\n        this.refs = {};\n    }\n}\nexports.SchemaEnv = SchemaEnv;\n// let codeSize = 0\n// let nodeCount = 0\n// Compiles schema in SchemaEnv\nfunction compileSchema(sch) {\n    // TODO refactor - remove compilations\n    const _sch = getCompilingSchema.call(this, sch);\n    if (_sch)\n        return _sch;\n    const rootId = resolve_1.getFullPath(sch.root.baseId); // TODO if getFullPath removed 1 tests fails\n    const { es5, lines } = this.opts.code;\n    const { ownProperties } = this.opts;\n    const gen = new codegen_1.CodeGen(this.scope, { es5, lines, ownProperties });\n    let _ValidationError;\n    if (sch.$async) {\n        _ValidationError = gen.scopeValue(\"Error\", {\n            ref: error_classes_1.ValidationError,\n            code: codegen_1._ `require(\"ajv/dist/compile/error_classes\").ValidationError`,\n        });\n    }\n    const validateName = gen.scopeName(\"validate\");\n    sch.validateName = validateName;\n    const schemaCxt = {\n        gen,\n        allErrors: this.opts.allErrors,\n        data: names_1.default.data,\n        parentData: names_1.default.parentData,\n        parentDataProperty: names_1.default.parentDataProperty,\n        dataNames: [names_1.default.data],\n        dataPathArr: [codegen_1.nil],\n        dataLevel: 0,\n        dataTypes: [],\n        definedProperties: new Set(),\n        topSchemaRef: gen.scopeValue(\"schema\", this.opts.code.source === true\n            ? { ref: sch.schema, code: codegen_1.stringify(sch.schema) }\n            : { ref: sch.schema }),\n        validateName,\n        ValidationError: _ValidationError,\n        schema: sch.schema,\n        schemaEnv: sch,\n        rootId,\n        baseId: sch.baseId || rootId,\n        schemaPath: codegen_1.nil,\n        errSchemaPath: this.opts.jtd ? \"\" : \"#\",\n        errorPath: codegen_1._ `\"\"`,\n        opts: this.opts,\n        self: this,\n    };\n    let sourceCode;\n    try {\n        this._compilations.add(sch);\n        validate_1.validateFunctionCode(schemaCxt);\n        gen.optimize(this.opts.code.optimize);\n        // gen.optimize(1)\n        const validateCode = gen.toString();\n        sourceCode = `${gen.scopeRefs(names_1.default.scope)}return ${validateCode}`;\n        // console.log((codeSize += sourceCode.length), (nodeCount += gen.nodeCount))\n        if (this.opts.code.process)\n            sourceCode = this.opts.code.process(sourceCode, sch);\n        // console.log(\"\\n\\n\\n *** \\n\", sourceCode)\n        const makeValidate = new Function(`${names_1.default.self}`, `${names_1.default.scope}`, sourceCode);\n        const validate = makeValidate(this, this.scope.get());\n        this.scope.value(validateName, { ref: validate });\n        validate.errors = null;\n        validate.schema = sch.schema;\n        validate.schemaEnv = sch;\n        if (sch.$async)\n            validate.$async = true;\n        if (this.opts.code.source === true) {\n            validate.source = { validateName, validateCode, scopeValues: gen._values };\n        }\n        if (this.opts.unevaluated) {\n            const { props, items } = schemaCxt;\n            validate.evaluated = {\n                props: props instanceof codegen_1.Name ? undefined : props,\n                items: items instanceof codegen_1.Name ? undefined : items,\n                dynamicProps: props instanceof codegen_1.Name,\n                dynamicItems: items instanceof codegen_1.Name,\n            };\n            if (validate.source)\n                validate.source.evaluated = codegen_1.stringify(validate.evaluated);\n        }\n        sch.validate = validate;\n        return sch;\n    }\n    catch (e) {\n        delete sch.validate;\n        delete sch.validateName;\n        if (sourceCode)\n            this.logger.error(\"Error compiling schema, function code:\", sourceCode);\n        // console.log(\"\\n\\n\\n *** \\n\", sourceCode, this.opts)\n        throw e;\n    }\n    finally {\n        this._compilations.delete(sch);\n    }\n}\nexports.compileSchema = compileSchema;\nfunction resolveRef(root, baseId, ref) {\n    var _a;\n    ref = resolve_1.resolveUrl(baseId, ref);\n    const schOrFunc = root.refs[ref];\n    if (schOrFunc)\n        return schOrFunc;\n    let _sch = resolve.call(this, root, ref);\n    if (_sch === undefined) {\n        const schema = (_a = root.localRefs) === null || _a === void 0 ? void 0 : _a[ref]; // TODO maybe localRefs should hold SchemaEnv\n        if (schema)\n            _sch = new SchemaEnv({ schema, root, baseId });\n    }\n    if (_sch === undefined)\n        return;\n    return (root.refs[ref] = inlineOrCompile.call(this, _sch));\n}\nexports.resolveRef = resolveRef;\nfunction inlineOrCompile(sch) {\n    if (resolve_1.inlineRef(sch.schema, this.opts.inlineRefs))\n        return sch.schema;\n    return sch.validate ? sch : compileSchema.call(this, sch);\n}\n// Index of schema compilation in the currently compiled list\nfunction getCompilingSchema(schEnv) {\n    for (const sch of this._compilations) {\n        if (sameSchemaEnv(sch, schEnv))\n            return sch;\n    }\n}\nexports.getCompilingSchema = getCompilingSchema;\nfunction sameSchemaEnv(s1, s2) {\n    return s1.schema === s2.schema && s1.root === s2.root && s1.baseId === s2.baseId;\n}\n// resolve and compile the references ($ref)\n// TODO returns AnySchemaObject (if the schema can be inlined) or validation function\nfunction resolve(root, // information about the root schema for the current schema\nref // reference to resolve\n) {\n    let sch;\n    while (typeof (sch = this.refs[ref]) == \"string\")\n        ref = sch;\n    return sch || this.schemas[ref] || resolveSchema.call(this, root, ref);\n}\n// Resolve schema, its root and baseId\nfunction resolveSchema(root, // root object with properties schema, refs TODO below SchemaEnv is assigned to it\nref // reference to resolve\n) {\n    const p = URI.parse(ref);\n    const refPath = resolve_1._getFullPath(p);\n    let baseId = resolve_1.getFullPath(root.baseId);\n    // TODO `Object.keys(root.schema).length > 0` should not be needed - but removing breaks 2 tests\n    if (Object.keys(root.schema).length > 0 && refPath === baseId) {\n        return getJsonPointer.call(this, p, root);\n    }\n    const id = resolve_1.normalizeId(refPath);\n    const schOrRef = this.refs[id] || this.schemas[id];\n    if (typeof schOrRef == \"string\") {\n        const sch = resolveSchema.call(this, root, schOrRef);\n        if (typeof (sch === null || sch === void 0 ? void 0 : sch.schema) !== \"object\")\n            return;\n        return getJsonPointer.call(this, p, sch);\n    }\n    if (typeof (schOrRef === null || schOrRef === void 0 ? void 0 : schOrRef.schema) !== \"object\")\n        return;\n    if (!schOrRef.validate)\n        compileSchema.call(this, schOrRef);\n    if (id === resolve_1.normalizeId(ref)) {\n        const { schema } = schOrRef;\n        if (schema.$id)\n            baseId = resolve_1.resolveUrl(baseId, schema.$id);\n        return new SchemaEnv({ schema, root, baseId });\n    }\n    return getJsonPointer.call(this, p, schOrRef);\n}\nexports.resolveSchema = resolveSchema;\nconst PREVENT_SCOPE_CHANGE = new Set([\n    \"properties\",\n    \"patternProperties\",\n    \"enum\",\n    \"dependencies\",\n    \"definitions\",\n]);\nfunction getJsonPointer(parsedRef, { baseId, schema, root }) {\n    var _a;\n    if (((_a = parsedRef.fragment) === null || _a === void 0 ? void 0 : _a[0]) !== \"/\")\n        return;\n    for (const part of parsedRef.fragment.slice(1).split(\"/\")) {\n        if (typeof schema == \"boolean\")\n            return;\n        schema = schema[util_1.unescapeFragment(part)];\n        if (schema === undefined)\n            return;\n        // TODO PREVENT_SCOPE_CHANGE could be defined in keyword def?\n        if (!PREVENT_SCOPE_CHANGE.has(part) && typeof schema == \"object\" && schema.$id) {\n            baseId = resolve_1.resolveUrl(baseId, schema.$id);\n        }\n    }\n    let env;\n    if (typeof schema != \"boolean\" && schema.$ref && !util_1.schemaHasRulesButRef(schema, this.RULES)) {\n        const $ref = resolve_1.resolveUrl(baseId, schema.$ref);\n        env = resolveSchema.call(this, root, $ref);\n    }\n    // even though resolution failed we need to return SchemaEnv to throw exception\n    // so that compileAsync loads missing schema.\n    env = env || new SchemaEnv({ schema, root, baseId });\n    if (env.schema !== env.root.schema)\n        return env;\n    return undefined;\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst names_1 = require(\"../../compile/names\");\nconst subschema_1 = require(\"../../compile/subschema\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: \"should NOT have additional properties\",\n    params: ({ params }) => codegen_1._ `{additionalProperty: ${params.additionalProperty}}`,\n};\nconst def = {\n    keyword: \"additionalProperties\",\n    type: [\"object\"],\n    schemaType: [\"boolean\", \"object\"],\n    allowUndefined: true,\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, data, errsCount, it } = cxt;\n        /* istanbul ignore if */\n        if (!errsCount)\n            throw new Error(\"ajv implementation error\");\n        const { allErrors, opts } = it;\n        it.props = true;\n        if (opts.removeAdditional !== \"all\" && util_1.alwaysValidSchema(it, schema))\n            return;\n        const props = code_1.allSchemaProperties(parentSchema.properties);\n        const patProps = code_1.allSchemaProperties(parentSchema.patternProperties);\n        checkAdditionalProperties();\n        cxt.ok(codegen_1._ `${errsCount} === ${names_1.default.errors}`);\n        function checkAdditionalProperties() {\n            gen.forIn(\"key\", data, (key) => {\n                if (!props.length && !patProps.length)\n                    additionalPropertyCode(key);\n                else\n                    gen.if(isAdditional(key), () => additionalPropertyCode(key));\n            });\n        }\n        function isAdditional(key) {\n            let definedProp;\n            if (props.length > 8) {\n                // TODO maybe an option instead of hard-coded 8?\n                const propsSchema = util_1.schemaRefOrVal(it, parentSchema.properties, \"properties\");\n                definedProp = code_1.isOwnProperty(gen, propsSchema, key);\n            }\n            else if (props.length) {\n                definedProp = codegen_1.or(...props.map((p) => codegen_1._ `${key} === ${p}`));\n            }\n            else {\n                definedProp = codegen_1.nil;\n            }\n            if (patProps.length) {\n                definedProp = codegen_1.or(definedProp, ...patProps.map((p) => codegen_1._ `${code_1.usePattern(gen, p)}.test(${key})`));\n            }\n            return codegen_1.not(definedProp);\n        }\n        function deleteAdditional(key) {\n            gen.code(codegen_1._ `delete ${data}[${key}]`);\n        }\n        function additionalPropertyCode(key) {\n            if (opts.removeAdditional === \"all\" || (opts.removeAdditional && schema === false)) {\n                deleteAdditional(key);\n                return;\n            }\n            if (schema === false) {\n                cxt.setParams({ additionalProperty: key });\n                cxt.error();\n                if (!allErrors)\n                    gen.break();\n                return;\n            }\n            if (typeof schema == \"object\" && !util_1.alwaysValidSchema(it, schema)) {\n                const valid = gen.name(\"valid\");\n                if (opts.removeAdditional === \"failing\") {\n                    applyAdditionalSchema(key, valid, false);\n                    gen.if(codegen_1.not(valid), () => {\n                        cxt.reset();\n                        deleteAdditional(key);\n                    });\n                }\n                else {\n                    applyAdditionalSchema(key, valid);\n                    if (!allErrors)\n                        gen.if(codegen_1.not(valid), () => gen.break());\n                }\n            }\n        }\n        function applyAdditionalSchema(key, valid, errors) {\n            const subschema = {\n                keyword: \"additionalProperties\",\n                dataProp: key,\n                dataPropType: subschema_1.Type.Str,\n            };\n            if (errors === false) {\n                Object.assign(subschema, {\n                    compositeRule: true,\n                    createErrors: false,\n                    allErrors: false,\n                });\n            }\n            cxt.subschema(subschema, valid);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=additionalProperties.js.map"],"sourceRoot":""}